# ๐ ะะฝะฐะปะธะท ะผะฐะบัะธะผะฐะปัะฝะพะน ะฐัะดะธัะพัะธะธ MebelPlace

## ๐ฅ๏ธ **ะขะตะบััะธะต ัะตััััั ัะตัะฒะตัะฐ:**
```
CPU: 8 cores (16 threads)
RAM: 31 GB
Disk: 387 GB (324 GB free)
Network: ะัะตะดะฟะพะปะพะถะธัะตะปัะฝะพ 1 Gbps
```

## ๐๏ธ **ะััะธัะตะบัััะฐ:**
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  Nginx (reverse proxy + static files)           โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  Node.js (Express) - API                         โ
โ  - Socket.IO (real-time)                         โ
โ  - Bull Queue (video processing)                 โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  PostgreSQL (database)                           โ
โ  Redis (cache + queue)                           โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ **ะะฐัััั ะผะฐะบัะธะผะฐะปัะฝะพะน ะฐัะดะธัะพัะธะธ**

### **1๏ธโฃ ะะฝะปะฐะนะฝ ะฟะพะปัะทะพะฒะฐัะตะปะธ (ะพะดะฝะพะฒัะตะผะตะฝะฝะพ):**

#### **ะัะพัะผะพัั ะฒะธะดะตะพ (ะพัะฝะพะฒะฝะฐั ะฝะฐะณััะทะบะฐ):**
```
ะกัะตะฝะฐัะธะน: ะะพะปัะทะพะฒะฐัะตะปั ัะผะพััะธั ะฒะธะดะตะพ (TikTok-style)

ะะตััััั ะฝะฐ 1 ะฟะพะปัะทะพะฒะฐัะตะปั:
- ะะธะดะตะพ: ะัะดะฐัััั ัะตัะตะท Nginx (ััะฐัะธะบะฐ) โ 0.01 CPU
- API ะทะฐะฟัะพัั: ะะฐะนะบะธ, ะบะพะผะผะตะฝัั โ 0.05 CPU
- Socket.IO: Real-time โ 0.02 CPU
- RAM: ~2-5 MB

ะัะพะณะพ ะฝะฐ ะฟะพะปัะทะพะฒะฐัะตะปั: ~0.08 CPU + 5 MB RAM
```

**ะะฐัััั:**
```
CPU capacity:
- ะะพัััะฟะฝะพ ะดะปั ะฟะพะปัะทะพะฒะฐัะตะปะตะน: 6 cores (2 ะทะฐัะตะทะตัะฒะธัะพะฒะฐะฝั ะดะปั ffmpeg)
- 6 cores = 600% CPU
- 600% / 0.08 = 7,500 ะพะดะฝะพะฒัะตะผะตะฝะฝัั ะทัะธัะตะปะตะน โ

RAM capacity:
- ะะพัััะฟะฝะพ: 25 GB (6 GB ะดะปั ัะธััะตะผั + ffmpeg)
- 25 GB / 5 MB = 5,000 ะพะดะฝะพะฒัะตะผะตะฝะฝัั ะทัะธัะตะปะตะน โ

Network capacity:
- 1 Gbps = 125 MB/s
- ะกะถะฐัะพะต ะฒะธะดะตะพ: 3 Mbps = 0.375 MB/s ะฝะฐ ะฟะพะปัะทะพะฒะฐัะตะปั
- 125 MB/s / 0.375 MB/s = 333 ะพะดะฝะพะฒัะตะผะตะฝะฝัั ัััะธะผะพะฒ โ๏ธ
```

**Bottleneck: Network!**
```
ะะฐะบัะธะผัะผ ะพะดะฝะพะฒัะตะผะตะฝะฝะพ ัะผะพััััะธั: ~300-400 ัะตะปะพะฒะตะบ
```

---

### **2๏ธโฃ ะะฐะณััะทะบะฐ ะฒะธะดะตะพ (ะผะฐััะตัะฐ):**

```
Bull Queue: 4 ะฟะฐัะฐะปะปะตะปัะฝัั ะพะฑัะฐะฑะพัะบะธ (ัะตะบะพะผะตะฝะดัะตะผะพะต)
ะัะตะผั ัะถะฐัะธั: 60 ัะตะบัะฝะด ะฝะฐ ะฒะธะดะตะพ

ะัะพะธะทะฒะพะดะธัะตะปัะฝะพััั:
- 4 ะฒะธะดะตะพ / ะผะธะฝััั
- 240 ะฒะธะดะตะพ / ัะฐั
- 5,760 ะฒะธะดะตะพ / ะดะตะฝั โ

ะะตะฐะปัะฝัะน ััะตะฝะฐัะธะน:
- 100 ะฐะบัะธะฒะฝัั ะผะฐััะตัะพะฒ
- ะะฐะถะดัะน ะทะฐะณััะถะฐะตั 2-3 ะฒะธะดะตะพ/ะดะตะฝั
- 200-300 ะฒะธะดะตะพ/ะดะตะฝั โ โ ะะตะณะบะพ ัะฟัะฐะฒะปัะตััั
```

---

### **3๏ธโฃ PostgreSQL (Database):**

```
ะขะธะฟะธัะฝัะต ะทะฐะฟัะพัั:
- SELECT videos: ~5ms (ั ะบััะตะผ)
- INSERT like: ~2ms
- INSERT comment: ~3ms

Capacity:
- PostgreSQL ะฝะฐ 8 cores: ~10,000 queries/sec
- ะะฐัะฐ ะฝะฐะณััะทะบะฐ: ~50-100 queries/sec (ะฟัะธ 500 ะพะฝะปะฐะนะฝ)
- Reserve: 100x ะทะฐะฟะฐั โ
```

---

### **4๏ธโฃ Redis (Cache + Queue):**

```
Redis capacity:
- ะกะธะฝะณะป-ััะตะด, ะฝะพ ะพัะตะฝั ะฑัััััะน
- ~100,000 ops/sec ะฝะฐ ะฝะฐัะตะผ ะถะตะปะตะทะต
- ะะฐัะฐ ะฝะฐะณััะทะบะฐ: ~500-1,000 ops/sec
- Reserve: 100x ะทะฐะฟะฐั โ
```

---

## ๐ฏ **ะัะพะณะพะฒัะต ัะธััั ะฟะพ ะฐัะดะธัะพัะธะธ:**

### **ะก ัะตะบััะตะน ะฐััะธัะตะบัััะพะน ะธ ะพะฟัะธะผะธะทะฐัะธัะผะธ:**

| ะะตััะธะบะฐ | ะะฝะฐัะตะฝะธะต | Bottleneck |
|---------|----------|------------|
| **ะะดะฝะพะฒัะตะผะตะฝะฝะพ ะพะฝะปะฐะนะฝ** | **300-400 ัะตะปะพะฒะตะบ** | Network bandwidth |
| **ะะฝะตะฒะฝะฐั ะฐัะดะธัะพัะธั (DAU)** | **3,000-5,000 ัะตะปะพะฒะตะบ** | ะกัะฐะฑะธะปัะฝะพ โ |
| **ะะตัััะฝะฐั ะฐัะดะธัะพัะธั (MAU)** | **20,000-30,000 ัะตะปะพะฒะตะบ** | ะกัะฐะฑะธะปัะฝะพ โ |
| **ะะฐััะตัะพะฒ ะฐะบัะธะฒะฝัั** | **500-1,000** | ะกัะฐะฑะธะปัะฝะพ โ |
| **ะะฐะณััะทะบะฐ ะฒะธะดะตะพ** | **240 ะฒะธะดะตะพ/ัะฐั** | Bull Queue โ |
| **ะฅัะฐะฝะธะปะธัะต ะฒะธะดะตะพ** | **~5,000 ะฒะธะดะตะพ** (60MB ะบะฐะถะดะพะต) | Disk space โ |

---

## ๐ **ะะตัะฐะปัะฝัะน breakdown:**

### **ะขะธะฟะธัะฝัะน ะดะตะฝั ั 5,000 DAU:**

```
ะัะตะผั ัััะพะบ    | ะะฝะปะฐะนะฝ | % ะฝะฐะณััะทะบะธ
---------------|--------|------------
00:00 - 06:00  | 50     | 10%
06:00 - 09:00  | 200    | 50%
09:00 - 12:00  | 350    | 87% โ๏ธ (ะฟะธะบ)
12:00 - 15:00  | 300    | 75%
15:00 - 18:00  | 280    | 70%
18:00 - 21:00  | 380    | 95% โ๏ธ (ะฟะธะบ)
21:00 - 00:00  | 150    | 37%
```

**ะะธะบะพะฒัะต ัะฐัั (9:00-12:00, 18:00-21:00):**
- 350-380 ะพะดะฝะพะฒัะตะผะตะฝะฝะพ ะพะฝะปะฐะนะฝ
- ะะฐะฑะพัะฐะตั ััะฐะฑะธะปัะฝะพ, ะฝะพ ะฑะปะธะทะบะพ ะบ ะฟัะตะดะตะปั

---

## ๐ **ะะฐะบ ัะฒะตะปะธัะธัั capacity:**

### **ะะฐัะธะฐะฝั 1: ะะฟัะธะผะธะทะฐัะธั (ะฑะตัะฟะปะฐัะฝะพ) +50%:**
```
1. CDN ะดะปั ะฒะธะดะตะพ (Cloudflare/BunnyCDN)
   โ ะกะฝะธะผะฐะตั ะฝะฐะณััะทะบั ั ัะตัะฒะตัะฐ
   โ ะะพ 1,000 ะพะดะฝะพะฒัะตะผะตะฝะฝะพ ะพะฝะปะฐะนะฝ โ
   
2. Nginx ะบััะธัะพะฒะฐะฝะธะต
   โ ะฃัะบะพััะตั ััะฐัะธะบั
   
3. ะะฝะดะตะบัั ะะ
   โ ะััััะตะต ะทะฐะฟัะพัั
```

### **ะะฐัะธะฐะฝั 2: ะะพัะธะทะพะฝัะฐะปัะฝะพะต ะผะฐัััะฐะฑะธัะพะฒะฐะฝะธะต ($$$):**
```
1. ะัะดะตะปัะฝัะน ัะตัะฒะตั ะดะปั API (Node.js)
   โ 2ั ัะตัะฒะตัะพะฒ: 600-800 ะพะฝะปะฐะนะฝ
   
2. ะัะดะตะปัะฝัะน ัะตัะฒะตั ะดะปั PostgreSQL
   โ ะัะดะตะปะตะฝะฝะฐั ะะ: ะปัััะฐั ะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพััั
   
3. Load Balancer
   โ ะะฐัะฟัะตะดะตะปะตะฝะธะต ะฝะฐะณััะทะบะธ
```

### **ะะฐัะธะฐะฝั 3: CDN + Object Storage (ัะตะบะพะผะตะฝะดัะตััั!):**
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ะะพะปัะทะพะฒะฐัะตะปะธ                               โ
โ      โ                                      โ
โ  CDN (BunnyCDN/Cloudflare R2)              โ
โ      โ (ะบัั ะฒะธะดะตะพ)                          โ
โ  Origin Server (ะฒะฐั ัะตัะฒะตั)                 โ
โ      โ (ัะพะปัะบะพ ะฝะพะฒัะต ะฒะธะดะตะพ)                 โ
โ  Object Storage (S3/Backblaze B2)          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

ะัะตะธะผััะตััะฒะฐ:
- 95% ะฒะธะดะตะพ ั CDN โ 10,000+ ะพะฝะปะฐะนะฝ โ
- ะญะบะพะฝะพะผะธั bandwidth
- ะััััะตะต ะดะปั ะฟะพะปัะทะพะฒะฐัะตะปะตะน ะฟะพ ะฒัะตะผั ะผะธัั
- ะกัะพะธะผะพััั: $5-20/ะผะตััั
```

---

## ๐ฐ **ะกัะพะธะผะพััั ะฝะฐ ะฟะพะปัะทะพะฒะฐัะตะปั:**

### **ะขะตะบััะฐั ะฐััะธัะตะบัััะฐ:**
```
ะกะตัะฒะตั: ~$100/ะผะตั
Bandwidth: ~$50/ะผะตั (ะฟัะธ 5,000 DAU)
---
ะัะพะณะพ: $150/ะผะตั = $0.03 ะฝะฐ ะฟะพะปัะทะพะฒะฐัะตะปั/ะผะตั
```

### **ะก CDN:**
```
ะกะตัะฒะตั: ~$100/ะผะตั
CDN: ~$20/ะผะตั
Bandwidth: ~$10/ะผะตั
---
ะัะพะณะพ: $130/ะผะตั = $0.004 ะฝะฐ ะฟะพะปัะทะพะฒะฐัะตะปั/ะผะตั (ะฟัะธ 30,000 MAU)
```

---

## ๐ฏ **ะะตะบะพะผะตะฝะดะฐัะธะธ ะฟะพ ััะฐะฟะฐะผ ัะพััะฐ:**

### **ะญัะฐะฟ 1: 0 - 5,000 MAU (ัะตะนัะฐั):**
```
โ ะขะตะบััะฐั ะฐััะธัะตะบัััะฐ ะพัะปะธัะฝะพ ัะฟัะฐะฒะปัะตััั
โ ะะพะฑะฐะฒะธัั CDN (ะพะฟัะธะพะฝะฐะปัะฝะพ)
โ ะะพะฝะธัะพัะธะฝะณ (Grafana + Prometheus)
```

### **ะญัะฐะฟ 2: 5,000 - 20,000 MAU:**
```
โ๏ธ ะะฑัะทะฐัะตะปัะฝะพ CDN ะดะปั ะฒะธะดะตะพ
โ๏ธ Object Storage (S3/Backblaze B2)
โ๏ธ Nginx ะบััะธัะพะฒะฐะฝะธะต
```

### **ะญัะฐะฟ 3: 20,000 - 100,000 MAU:**
```
๐ ะะพัะธะทะพะฝัะฐะปัะฝะพะต ะผะฐัััะฐะฑะธัะพะฒะฐะฝะธะต
๐ ะัะดะตะปัะฝัะน DB ัะตัะฒะตั
๐ Load Balancer (ะฝะตัะบะพะปัะบะพ API ัะตัะฒะตัะพะฒ)
๐ Redis Cluster
```

### **ะญัะฐะฟ 4: 100,000+ MAU:**
```
๐ข ะะธะบัะพัะตัะฒะธัั
๐ข Kubernetes
๐ข Multi-region deployment
๐ข Dedicated CDN
```

---

## ๐ **ะขะตะบััะธะน ััะฐััั:**

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ะขะะะฃะฉะะฏ CAPACITY: 5,000 DAU / 30,000 MAU       โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ    โ
โ  ะะดะฝะพะฒัะตะผะตะฝะฝะพ ะพะฝะปะฐะนะฝ: 300-400 ัะตะปะพะฒะตะบ           โ
โ  ะะธะบะพะฒะฐั ะฝะฐะณััะทะบะฐ: ~87%                          โ
โ  ะกัะฐััั: โ ะกะขะะะะะฌะะ                            โ
โ                                                  โ
โ  ะะปั ัะพััะฐ ะดะพ 20,000 MAU:                        โ
โ  โ ะะพะฑะฐะฒะธัั CDN ($20/ะผะตั)                        โ
โ  โ Object Storage ($10/ะผะตั)                      โ
โ  โ ะะตะทัะปััะฐั: 10x capacity                       โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ฅ **ะะฐะถะฝัะต ะผะพะผะตะฝัั:**

### **1. Bandwidth - ะณะปะฐะฒะฝัะน bottleneck:**
```
ะะตะท CDN: 300-400 ะพะฝะปะฐะนะฝ
ะก CDN: 3,000-5,000 ะพะฝะปะฐะนะฝ (10x!)

ะะพัะตะผั?
- 95% ะฒะธะดะตะพ ะบััะธัััััั ะฝะฐ CDN
- ะกะตัะฒะตั ะพัะดะฐัั ัะพะปัะบะพ API ะทะฐะฟัะพัั
- ะขัะฐัะธะบ ัะฝะธะถะฐะตััั ะฒ 10-20 ัะฐะท
```

### **2. Disk Space:**
```
ะขะตะบััะธะน: 324 GB free
ะกะพ ัะถะฐัะธะตะผ (3 Mbps): ~60 MB ะฝะฐ ะฒะธะดะตะพ

Capacity:
- 324 GB / 60 MB = 5,400 ะฒะธะดะตะพ
- ะัะธ 500 ะผะฐััะตัะฐั ร 10 ะฒะธะดะตะพ = 5,000 ะฒะธะดะตะพ
- ะฅะฒะฐัะธั ะฝะฐ ~1-2 ะณะพะดะฐ

ะก Object Storage:
- ะะตะทะปะธะผะธัะฝะพ (ะฟะปะฐัะธัั ะทะฐ ะธัะฟะพะปัะทะพะฒะฐะฝะธะต)
- $5/TB/ะผะตััั
```

### **3. ะะฟัะธะผะธะทะฐัะธะธ ัะถะต ะฒะฝะตะดัะตะฝั:**
```
โ ะกะถะฐัะธะต ะฒะธะดะตะพ (H.264, 3 Mbps) โ ะขัะฐัะธะบ -70%
โ Bull Queue (ะบะพะฝััะพะปั ะฝะฐะณััะทะบะธ) โ ะกัะฐะฑะธะปัะฝะพััั +100%
โ Redis ะบัั โ ะกะบะพัะพััั API +50%
โ ะัะตะดะทะฐะณััะทะบะฐ ะฒะธะดะตะพ โ UX +300%
โ ะัะตะฒัั (thumbnails) โ ะัััััะน ััะฐัั
```

---

## ๐ฏ **ะัะพะณะพะฒัะน ะพัะฒะตั:**

**ะะฐะบัะธะผะฐะปัะฝะฐั ะฐัะดะธัะพัะธั ั ัะตะบััะตะน ะฐััะธัะตะบัััะพะน:**
- **DAU: 3,000-5,000 ัะตะปะพะฒะตะบ**
- **MAU: 20,000-30,000 ัะตะปะพะฒะตะบ**
- **ะะดะฝะพะฒัะตะผะตะฝะฝะพ ะพะฝะปะฐะนะฝ: 300-400 ัะตะปะพะฒะตะบ**

**ะก ะดะพะฑะฐะฒะปะตะฝะธะตะผ CDN ($20/ะผะตั):**
- **DAU: 30,000-50,000 ัะตะปะพะฒะตะบ**
- **MAU: 200,000-300,000 ัะตะปะพะฒะตะบ**
- **ะะดะฝะพะฒัะตะผะตะฝะฝะพ ะพะฝะปะฐะนะฝ: 3,000-5,000 ัะตะปะพะฒะตะบ**

ะะฐั ัะตัะฒะตั **ะพัะตะฝั ะผะพัะฝัะน** ะดะปั ััะฐััะฐะฟะฐ! ๐ช
ะัะพััะพ ะฝัะถะฝะพ ะฟัะฐะฒะธะปัะฝะพ ัะฐัะฟัะตะดะตะปะธัั ะฝะฐะณััะทะบั ัะตัะตะท CDN.

