var t=Object.defineProperty,__defNormalProp=(n,s,a)=>s in n?t(n,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):n[s]=a,__publicField=(t,n,s)=>(__defNormalProp(t,"symbol"!=typeof n?n+"":n,s),s);function _mergeNamespaces(t,n){for(var s=0;s<n.length;s++){const a=n[s];if("string"!=typeof a&&!Array.isArray(a))for(const n in a)if("default"!==n&&!(n in t)){const s=Object.getOwnPropertyDescriptor(a,n);s&&Object.defineProperty(t,n,s.get?s:{enumerable:!0,get:()=>a[n]})}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}function getDefaultExportFromCjs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}!function polyfill(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))processPreload(t);new MutationObserver(t=>{for(const n of t)if("childList"===n.type)for(const t of n.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&processPreload(t)}).observe(document,{childList:!0,subtree:!0})}function getFetchOpts(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),"use-credentials"===t.crossOrigin?n.credentials="include":"anonymous"===t.crossOrigin?n.credentials="omit":n.credentials="same-origin",n}function processPreload(t){if(t.ep)return;t.ep=!0;const n=getFetchOpts(t);fetch(t.href,n)}}();var n={exports:{}},s={},a={exports:{}},i={},o=Symbol.for("react.element"),l=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),y=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),N=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),C=Symbol.iterator;function A$1(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=C&&t[C]||t["@@iterator"])?t:null}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,A={};function E$1(t,n,s){this.props=t,this.context=n,this.refs=A,this.updater=s||T}function F(){}function G$1(t,n,s){this.props=t,this.context=n,this.refs=A,this.updater=s||T}E$1.prototype.isReactComponent={},E$1.prototype.setState=function(t,n){if("object"!=typeof t&&"function"!=typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,n,"setState")},E$1.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},F.prototype=E$1.prototype;var L=G$1.prototype=new F;L.constructor=G$1,_(L,E$1.prototype),L.isPureReactComponent=!0;var M=Array.isArray,O=Object.prototype.hasOwnProperty,V={current:null},B={key:!0,ref:!0,__self:!0,__source:!0};function M$1(t,n,s){var a,i={},l=null,u=null;if(null!=n)for(a in void 0!==n.ref&&(u=n.ref),void 0!==n.key&&(l=""+n.key),n)O.call(n,a)&&!B.hasOwnProperty(a)&&(i[a]=n[a]);var m=arguments.length-2;if(1===m)i.children=s;else if(1<m){for(var f=Array(m),x=0;x<m;x++)f[x]=arguments[x+2];i.children=f}if(t&&t.defaultProps)for(a in m=t.defaultProps)void 0===i[a]&&(i[a]=m[a]);return{$$typeof:o,type:t,key:l,ref:u,props:i,_owner:V.current}}function N$1(t,n){return{$$typeof:o,type:t.type,key:n,ref:t.ref,props:t.props,_owner:t._owner}}function O$1(t){return"object"==typeof t&&null!==t&&t.$$typeof===o}function escape(t){var n={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(t){return n[t]})}var I=/\/+/g;function Q$1(t,n){return"object"==typeof t&&null!==t&&null!=t.key?escape(""+t.key):n.toString(36)}function R$1(t,n,s,a,i){var u=typeof t;"undefined"!==u&&"boolean"!==u||(t=null);var m=!1;if(null===t)m=!0;else switch(u){case"string":case"number":m=!0;break;case"object":switch(t.$$typeof){case o:case l:m=!0}}if(m)return i=i(m=t),t=""===a?"."+Q$1(m,0):a,M(i)?(s="",null!=t&&(s=t.replace(I,"$&/")+"/"),R$1(i,n,s,"",function(t){return t})):null!=i&&(O$1(i)&&(i=N$1(i,s+(!i.key||m&&m.key===i.key?"":(""+i.key).replace(I,"$&/")+"/")+t)),n.push(i)),1;if(m=0,a=""===a?".":a+":",M(t))for(var f=0;f<t.length;f++){var x=a+Q$1(u=t[f],f);m+=R$1(u,n,s,x,i)}else if("function"==typeof(x=A$1(t)))for(t=x.call(t),f=0;!(u=t.next()).done;)m+=R$1(u=u.value,n,s,x=a+Q$1(u,f++),i);else if("object"===u)throw n=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===n?"object with keys {"+Object.keys(t).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return m}function S$1(t,n,s){if(null==t)return t;var a=[],i=0;return R$1(t,a,"","",function(t){return n.call(s,t,i++)}),a}function T$1(t){if(-1===t._status){var n=t._result;(n=n()).then(function(n){0!==t._status&&-1!==t._status||(t._status=1,t._result=n)},function(n){0!==t._status&&-1!==t._status||(t._status=2,t._result=n)}),-1===t._status&&(t._status=0,t._result=n)}if(1===t._status)return t._result.default;throw t._result}var U={current:null},z={transition:null},$={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:z,ReactCurrentOwner:V};function X$2(){throw Error("act(...) is not supported in production builds of React.")}i.Children={map:S$1,forEach:function(t,n,s){S$1(t,function(){n.apply(this,arguments)},s)},count:function(t){var n=0;return S$1(t,function(){n++}),n},toArray:function(t){return S$1(t,function(t){return t})||[]},only:function(t){if(!O$1(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},i.Component=E$1,i.Fragment=u,i.Profiler=f,i.PureComponent=G$1,i.StrictMode=m,i.Suspense=w,i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$,i.act=X$2,i.cloneElement=function(t,n,s){if(null==t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var a=_({},t.props),i=t.key,l=t.ref,u=t._owner;if(null!=n){if(void 0!==n.ref&&(l=n.ref,u=V.current),void 0!==n.key&&(i=""+n.key),t.type&&t.type.defaultProps)var m=t.type.defaultProps;for(f in n)O.call(n,f)&&!B.hasOwnProperty(f)&&(a[f]=void 0===n[f]&&void 0!==m?m[f]:n[f])}var f=arguments.length-2;if(1===f)a.children=s;else if(1<f){m=Array(f);for(var x=0;x<f;x++)m[x]=arguments[x+2];a.children=m}return{$$typeof:o,type:t.type,key:i,ref:l,props:a,_owner:u}},i.createContext=function(t){return(t={$$typeof:y,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:x,_context:t},t.Consumer=t},i.createElement=M$1,i.createFactory=function(t){var n=M$1.bind(null,t);return n.type=t,n},i.createRef=function(){return{current:null}},i.forwardRef=function(t){return{$$typeof:j,render:t}},i.isValidElement=O$1,i.lazy=function(t){return{$$typeof:k,_payload:{_status:-1,_result:t},_init:T$1}},i.memo=function(t,n){return{$$typeof:N,type:t,compare:void 0===n?null:n}},i.startTransition=function(t){var n=z.transition;z.transition={};try{t()}finally{z.transition=n}},i.unstable_act=X$2,i.useCallback=function(t,n){return U.current.useCallback(t,n)},i.useContext=function(t){return U.current.useContext(t)},i.useDebugValue=function(){},i.useDeferredValue=function(t){return U.current.useDeferredValue(t)},i.useEffect=function(t,n){return U.current.useEffect(t,n)},i.useId=function(){return U.current.useId()},i.useImperativeHandle=function(t,n,s){return U.current.useImperativeHandle(t,n,s)},i.useInsertionEffect=function(t,n){return U.current.useInsertionEffect(t,n)},i.useLayoutEffect=function(t,n){return U.current.useLayoutEffect(t,n)},i.useMemo=function(t,n){return U.current.useMemo(t,n)},i.useReducer=function(t,n,s){return U.current.useReducer(t,n,s)},i.useRef=function(t){return U.current.useRef(t)},i.useState=function(t){return U.current.useState(t)},i.useSyncExternalStore=function(t,n,s){return U.current.useSyncExternalStore(t,n,s)},i.useTransition=function(){return U.current.useTransition()},i.version="18.3.1",a.exports=i;var H=a.exports;const X=getDefaultExportFromCjs(H),K=_mergeNamespaces({__proto__:null,default:X},[H]);
/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var Y=H,Q=Symbol.for("react.element"),Z=Symbol.for("react.fragment"),J=Object.prototype.hasOwnProperty,ee=Y.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,re={key:!0,ref:!0,__self:!0,__source:!0};function q(t,n,s){var a,i={},o=null,l=null;for(a in void 0!==s&&(o=""+s),void 0!==n.key&&(o=""+n.key),void 0!==n.ref&&(l=n.ref),n)J.call(n,a)&&!re.hasOwnProperty(a)&&(i[a]=n[a]);if(t&&t.defaultProps)for(a in n=t.defaultProps)void 0===i[a]&&(i[a]=n[a]);return{$$typeof:Q,type:t,key:o,ref:l,props:i,_owner:ee.current}}s.Fragment=Z,s.jsx=q,s.jsxs=q,n.exports=s;var ae=n.exports,ie={},le={exports:{}},ce={},de={exports:{}},pe={};
/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
!function(t){function f2(t,n){var s=t.length;t.push(n);e:for(;0<s;){var a=s-1>>>1,i=t[a];if(!(0<g(i,n)))break e;t[a]=n,t[s]=i,s=a}}function h(t){return 0===t.length?null:t[0]}function k2(t){if(0===t.length)return null;var n=t[0],s=t.pop();if(s!==n){t[0]=s;e:for(var a=0,i=t.length,o=i>>>1;a<o;){var l=2*(a+1)-1,u=t[l],m=l+1,f=t[m];if(0>g(u,s))m<i&&0>g(f,u)?(t[a]=f,t[m]=s,a=m):(t[a]=u,t[l]=s,a=l);else{if(!(m<i&&0>g(f,s)))break e;t[a]=f,t[m]=s,a=m}}}return n}function g(t,n){var s=t.sortIndex-n.sortIndex;return 0!==s?s:t.id-n.id}if("object"==typeof performance&&"function"==typeof performance.now){var n=performance;t.unstable_now=function(){return n.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var i=[],o=[],l=1,u=null,m=3,f=!1,x=!1,y=!1,j="function"==typeof setTimeout?setTimeout:null,w="function"==typeof clearTimeout?clearTimeout:null,N="undefined"!=typeof setImmediate?setImmediate:null;function G2(t){for(var n=h(o);null!==n;){if(null===n.callback)k2(o);else{if(!(n.startTime<=t))break;k2(o),n.sortIndex=n.expirationTime,f2(i,n)}n=h(o)}}function H2(t){if(y=!1,G2(t),!x)if(null!==h(i))x=!0,I2(J2);else{var n=h(o);null!==n&&K2(H2,n.startTime-t)}}function J2(n,s){x=!1,y&&(y=!1,w(T),T=-1),f=!0;var a=m;try{for(G2(s),u=h(i);null!==u&&(!(u.expirationTime>s)||n&&!M2());){var l=u.callback;if("function"==typeof l){u.callback=null,m=u.priorityLevel;var j=l(u.expirationTime<=s);s=t.unstable_now(),"function"==typeof j?u.callback=j:u===h(i)&&k2(i),G2(s)}else k2(i);u=h(i)}if(null!==u)var N=!0;else{var k=h(o);null!==k&&K2(H2,k.startTime-s),N=!1}return N}finally{u=null,m=a,f=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k=!1,C=null,T=-1,_=5,A=-1,L;function M2(){return!(t.unstable_now()-A<_)}function R2(){if(null!==C){var n=t.unstable_now();A=n;var s=!0;try{s=C(!0,n)}finally{s?L():(k=!1,C=null)}}else k=!1}if("function"==typeof N)L=function(){N(R2)};else if("undefined"!=typeof MessageChannel){var M=new MessageChannel,O=M.port2;M.port1.onmessage=R2,L=function(){O.postMessage(null)}}else L=function(){j(R2,0)};function I2(t){C=t,k||(k=!0,L())}function K2(n,s){T=j(function(){n(t.unstable_now())},s)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(t){t.callback=null},t.unstable_continueExecution=function(){x||f||(x=!0,I2(J2))},t.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<t?Math.floor(1e3/t):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return h(i)},t.unstable_next=function(t){switch(m){case 1:case 2:case 3:var n=3;break;default:n=m}var s=m;m=n;try{return t()}finally{m=s}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(t,n){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var s=m;m=t;try{return n()}finally{m=s}},t.unstable_scheduleCallback=function(n,s,a){var u=t.unstable_now();switch("object"==typeof a&&null!==a?a="number"==typeof(a=a.delay)&&0<a?u+a:u:a=u,n){case 1:var m=-1;break;case 2:m=250;break;case 5:m=1073741823;break;case 4:m=1e4;break;default:m=5e3}return n={id:l++,callback:s,priorityLevel:n,startTime:a,expirationTime:m=a+m,sortIndex:-1},a>u?(n.sortIndex=a,f2(o,n),null===h(i)&&n===h(o)&&(y?(w(T),T=-1):y=!0,K2(H2,a-u))):(n.sortIndex=m,f2(i,n),x||f||(x=!0,I2(J2))),n},t.unstable_shouldYield=M2,t.unstable_wrapCallback=function(t){var n=m;return function(){var s=m;m=n;try{return t.apply(this,arguments)}finally{m=s}}}}(pe),de.exports=pe;var fe=de.exports,xe=H,ye=fe;
/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function p(t){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+t,s=1;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var be=new Set,we={};function fa(t,n){ha(t,n),ha(t+"Capture",n)}function ha(t,n){for(we[t]=n,t=0;t<n.length;t++)be.add(n[t])}var Se=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),Pe=Object.prototype.hasOwnProperty,Te=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_e={},Re={};function oa(t){return!!Pe.call(Re,t)||!Pe.call(_e,t)&&(Te.test(t)?Re[t]=!0:(_e[t]=!0,!1))}function pa(t,n,s,a){if(null!==s&&0===s.type)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return!a&&(null!==s?!s.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}function qa(t,n,s,a){if(null==n||pa(t,n,s,a))return!0;if(a)return!1;if(null!==s)switch(s.type){case 3:return!n;case 4:return!1===n;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function v(t,n,s,a,i,o,l){this.acceptsBooleans=2===n||3===n||4===n,this.attributeName=a,this.attributeNamespace=i,this.mustUseProperty=s,this.propertyName=t,this.type=n,this.sanitizeURL=o,this.removeEmptyString=l}var ze={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ze[t]=new v(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var n=t[0];ze[n]=new v(n,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){ze[t]=new v(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ze[t]=new v(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ze[t]=new v(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){ze[t]=new v(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){ze[t]=new v(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){ze[t]=new v(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){ze[t]=new v(t,5,!1,t.toLowerCase(),null,!1,!1)});var $e=/[\-:]([a-z])/g;function sa(t){return t[1].toUpperCase()}function ta(t,n,s,a){var i=ze.hasOwnProperty(n)?ze[n]:null;(null!==i?0!==i.type:a||!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&(qa(n,s,i,a)&&(s=null),a||null===i?oa(n)&&(null===s?t.removeAttribute(n):t.setAttribute(n,""+s)):i.mustUseProperty?t[i.propertyName]=null===s?3!==i.type&&"":s:(n=i.attributeName,a=i.attributeNamespace,null===s?t.removeAttribute(n):(s=3===(i=i.type)||4===i&&!0===s?"":""+s,a?t.setAttributeNS(a,n,s):t.setAttribute(n,s))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var n=t.replace($e,sa);ze[n]=new v(n,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var n=t.replace($e,sa);ze[n]=new v(n,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var n=t.replace($e,sa);ze[n]=new v(n,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){ze[t]=new v(t,1,!1,t.toLowerCase(),null,!1,!1)}),ze.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){ze[t]=new v(t,1,!1,t.toLowerCase(),null,!0,!0)});var He=xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qe=Symbol.for("react.element"),We=Symbol.for("react.portal"),Xe=Symbol.for("react.fragment"),Ye=Symbol.for("react.strict_mode"),Qe=Symbol.for("react.profiler"),et=Symbol.for("react.provider"),tt=Symbol.for("react.context"),nt=Symbol.for("react.forward_ref"),st=Symbol.for("react.suspense"),rt=Symbol.for("react.suspense_list"),at=Symbol.for("react.memo"),it=Symbol.for("react.lazy"),ot=Symbol.for("react.offscreen"),lt=Symbol.iterator;function Ka(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=lt&&t[lt]||t["@@iterator"])?t:null}var ct=Object.assign,dt;function Ma(t){if(void 0===dt)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);dt=n&&n[1]||""}return"\n"+dt+t}var ut=!1;function Oa(t,n){if(!t||ut)return"";ut=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(f){var a=f}Reflect.construct(t,[],n)}else{try{n.call()}catch(f){a=f}t.call(n.prototype)}else{try{throw Error()}catch(f){a=f}t()}}catch(f){if(f&&a&&"string"==typeof f.stack){for(var i=f.stack.split("\n"),o=a.stack.split("\n"),l=i.length-1,u=o.length-1;1<=l&&0<=u&&i[l]!==o[u];)u--;for(;1<=l&&0<=u;l--,u--)if(i[l]!==o[u]){if(1!==l||1!==u)do{if(l--,0>--u||i[l]!==o[u]){var m="\n"+i[l].replace(" at new "," at ");return t.displayName&&m.includes("<anonymous>")&&(m=m.replace("<anonymous>",t.displayName)),m}}while(1<=l&&0<=u);break}}}finally{ut=!1,Error.prepareStackTrace=s}return(t=t?t.displayName||t.name:"")?Ma(t):""}function Pa(t){switch(t.tag){case 5:return Ma(t.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return t=Oa(t.type,!1);case 11:return t=Oa(t.type.render,!1);case 1:return t=Oa(t.type,!0);default:return""}}function Qa(t){if(null==t)return null;if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t;switch(t){case Xe:return"Fragment";case We:return"Portal";case Qe:return"Profiler";case Ye:return"StrictMode";case st:return"Suspense";case rt:return"SuspenseList"}if("object"==typeof t)switch(t.$$typeof){case tt:return(t.displayName||"Context")+".Consumer";case et:return(t._context.displayName||"Context")+".Provider";case nt:var n=t.render;return(t=t.displayName)||(t=""!==(t=n.displayName||n.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case at:return null!==(n=t.displayName||null)?n:Qa(t.type)||"Memo";case it:n=t._payload,t=t._init;try{return Qa(t(n))}catch(s){}}return null}function Ra(t){var n=t.type;switch(t.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=(t=n.render).displayName||t.name||"",n.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(n);case 8:return n===Ye?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof n)return n.displayName||n.name||null;if("string"==typeof n)return n}return null}function Sa(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ta(t){var n=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===n||"radio"===n)}function Ua(t){var n=Ta(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),a=""+t[n];if(!t.hasOwnProperty(n)&&void 0!==s&&"function"==typeof s.get&&"function"==typeof s.set){var i=s.get,o=s.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return i.call(this)},set:function(t){a=""+t,o.call(this,t)}}),Object.defineProperty(t,n,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(t){a=""+t},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Va(t){t._valueTracker||(t._valueTracker=Ua(t))}function Wa(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),a="";return t&&(a=Ta(t)?t.checked?"true":"false":t.value),(t=a)!==s&&(n.setValue(t),!0)}function Xa(t){if(void 0===(t=t||("undefined"!=typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(n){return t.body}}function Ya(t,n){var s=n.checked;return ct({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=s?s:t._wrapperState.initialChecked})}function Za(t,n){var s=null==n.defaultValue?"":n.defaultValue,a=null!=n.checked?n.checked:n.defaultChecked;s=Sa(null!=n.value?n.value:s),t._wrapperState={initialChecked:a,initialValue:s,controlled:"checkbox"===n.type||"radio"===n.type?null!=n.checked:null!=n.value}}function ab(t,n){null!=(n=n.checked)&&ta(t,"checked",n,!1)}function bb(t,n){ab(t,n);var s=Sa(n.value),a=n.type;if(null!=s)"number"===a?(0===s&&""===t.value||t.value!=s)&&(t.value=""+s):t.value!==""+s&&(t.value=""+s);else if("submit"===a||"reset"===a)return void t.removeAttribute("value");n.hasOwnProperty("value")?cb(t,n.type,s):n.hasOwnProperty("defaultValue")&&cb(t,n.type,Sa(n.defaultValue)),null==n.checked&&null!=n.defaultChecked&&(t.defaultChecked=!!n.defaultChecked)}function db(t,n,s){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var a=n.type;if(!("submit"!==a&&"reset"!==a||void 0!==n.value&&null!==n.value))return;n=""+t._wrapperState.initialValue,s||n===t.value||(t.value=n),t.defaultValue=n}""!==(s=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==s&&(t.name=s)}function cb(t,n,s){"number"===n&&Xa(t.ownerDocument)===t||(null==s?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+s&&(t.defaultValue=""+s))}var ht=Array.isArray;function fb(t,n,s,a){if(t=t.options,n){n={};for(var i=0;i<s.length;i++)n["$"+s[i]]=!0;for(s=0;s<t.length;s++)i=n.hasOwnProperty("$"+t[s].value),t[s].selected!==i&&(t[s].selected=i),i&&a&&(t[s].defaultSelected=!0)}else{for(s=""+Sa(s),n=null,i=0;i<t.length;i++){if(t[i].value===s)return t[i].selected=!0,void(a&&(t[i].defaultSelected=!0));null!==n||t[i].disabled||(n=t[i])}null!==n&&(n.selected=!0)}}function gb(t,n){if(null!=n.dangerouslySetInnerHTML)throw Error(p(91));return ct({},n,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function hb(t,n){var s=n.value;if(null==s){if(s=n.children,n=n.defaultValue,null!=s){if(null!=n)throw Error(p(92));if(ht(s)){if(1<s.length)throw Error(p(93));s=s[0]}n=s}null==n&&(n=""),s=n}t._wrapperState={initialValue:Sa(s)}}function ib(t,n){var s=Sa(n.value),a=Sa(n.defaultValue);null!=s&&((s=""+s)!==t.value&&(t.value=s),null==n.defaultValue&&t.defaultValue!==s&&(t.defaultValue=s)),null!=a&&(t.defaultValue=""+a)}function jb(t){var n=t.textContent;n===t._wrapperState.initialValue&&""!==n&&null!==n&&(t.value=n)}function kb(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(t,n){return null==t||"http://www.w3.org/1999/xhtml"===t?kb(n):"http://www.w3.org/2000/svg"===t&&"foreignObject"===n?"http://www.w3.org/1999/xhtml":t}var mt,pt=(ft=function(t,n){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=n;else{for((mt=mt||document.createElement("div")).innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=mt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;n.firstChild;)t.appendChild(n.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,s,a){MSApp.execUnsafeLocalFunction(function(){return ft(t,n,s,a)})}:ft),ft;function ob(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&3===s.nodeType)return void(s.nodeValue=n)}t.textContent=n}var xt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gt=["Webkit","ms","Moz","O"];function rb(t,n,s){return null==n||"boolean"==typeof n||""===n?"":s||"number"!=typeof n||0===n||xt.hasOwnProperty(t)&&xt[t]?(""+n).trim():n+"px"}function sb(t,n){for(var s in t=t.style,n)if(n.hasOwnProperty(s)){var a=0===s.indexOf("--"),i=rb(s,n[s],a);"float"===s&&(s="cssFloat"),a?t.setProperty(s,i):t[s]=i}}Object.keys(xt).forEach(function(t){gt.forEach(function(n){n=n+t.charAt(0).toUpperCase()+t.substring(1),xt[n]=xt[t]})});var yt=ct({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(t,n){if(n){if(yt[t]&&(null!=n.children||null!=n.dangerouslySetInnerHTML))throw Error(p(137,t));if(null!=n.dangerouslySetInnerHTML){if(null!=n.children)throw Error(p(60));if("object"!=typeof n.dangerouslySetInnerHTML||!("__html"in n.dangerouslySetInnerHTML))throw Error(p(61))}if(null!=n.style&&"object"!=typeof n.style)throw Error(p(62))}}function vb(t,n){if(-1===t.indexOf("-"))return"string"==typeof n.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vt=null;function xb(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var bt=null,jt=null,wt=null;function Bb(t){if(t=Cb(t)){if("function"!=typeof bt)throw Error(p(280));var n=t.stateNode;n&&(n=Db(n),bt(t.stateNode,t.type,n))}}function Eb(t){jt?wt?wt.push(t):wt=[t]:jt=t}function Fb(){if(jt){var t=jt,n=wt;if(wt=jt=null,Bb(t),n)for(t=0;t<n.length;t++)Bb(n[t])}}function Gb(t,n){return t(n)}function Hb(){}var Nt=!1;function Jb(t,n,s){if(Nt)return t(n,s);Nt=!0;try{return Gb(t,n,s)}finally{Nt=!1,(null!==jt||null!==wt)&&(Hb(),Fb())}}function Kb(t,n){var s=t.stateNode;if(null===s)return null;var a=Db(s);if(null===a)return null;s=a[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(a=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!a;break e;default:t=!1}if(t)return null;if(s&&"function"!=typeof s)throw Error(p(231,n,typeof s));return s}var kt=!1;if(Se)try{var St={};Object.defineProperty(St,"passive",{get:function(){kt=!0}}),window.addEventListener("test",St,St),window.removeEventListener("test",St,St)}catch(ft){kt=!1}function Nb(t,n,s,a,i,o,l,u,m){var f=Array.prototype.slice.call(arguments,3);try{n.apply(s,f)}catch(x){this.onError(x)}}var Ct=!1,Et=null,Pt=!1,Tt=null,_t={onError:function(t){Ct=!0,Et=t}};function Tb(t,n,s,a,i,o,l,u,m){Ct=!1,Et=null,Nb.apply(_t,arguments)}function Ub(t,n,s,a,i,o,l,u,m){if(Tb.apply(this,arguments),Ct){if(!Ct)throw Error(p(198));var f=Et;Ct=!1,Et=null,Pt||(Pt=!0,Tt=f)}}function Vb(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do{!!(4098&(n=t).flags)&&(s=n.return),t=n.return}while(t)}return 3===n.tag?s:null}function Wb(t){if(13===t.tag){var n=t.memoizedState;if(null===n&&(null!==(t=t.alternate)&&(n=t.memoizedState)),null!==n)return n.dehydrated}return null}function Xb(t){if(Vb(t)!==t)throw Error(p(188))}function Yb(t){var n=t.alternate;if(!n){if(null===(n=Vb(t)))throw Error(p(188));return n!==t?null:t}for(var s=t,a=n;;){var i=s.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(a=i.return)){s=a;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===s)return Xb(i),t;if(o===a)return Xb(i),n;o=o.sibling}throw Error(p(188))}if(s.return!==a.return)s=i,a=o;else{for(var l=!1,u=i.child;u;){if(u===s){l=!0,s=i,a=o;break}if(u===a){l=!0,a=i,s=o;break}u=u.sibling}if(!l){for(u=o.child;u;){if(u===s){l=!0,s=o,a=i;break}if(u===a){l=!0,a=o,s=i;break}u=u.sibling}if(!l)throw Error(p(189))}}if(s.alternate!==a)throw Error(p(190))}if(3!==s.tag)throw Error(p(188));return s.stateNode.current===s?t:n}function Zb(t){return null!==(t=Yb(t))?$b(t):null}function $b(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var n=$b(t);if(null!==n)return n;t=t.sibling}return null}var Rt=ye.unstable_scheduleCallback,At=ye.unstable_cancelCallback,Lt=ye.unstable_shouldYield,Mt=ye.unstable_requestPaint,Dt=ye.unstable_now,Ot=ye.unstable_getCurrentPriorityLevel,Vt=ye.unstable_ImmediatePriority,Ft=ye.unstable_UserBlockingPriority,Bt=ye.unstable_NormalPriority,It=ye.unstable_LowPriority,Ut=ye.unstable_IdlePriority,zt=null,$t=null;function mc(t){if($t&&"function"==typeof $t.onCommitFiberRoot)try{$t.onCommitFiberRoot(zt,t,void 0,!(128&~t.current.flags))}catch(n){}}var Ht=Math.clz32?Math.clz32:nc,qt=Math.log,Wt=Math.LN2;function nc(t){return 0===(t>>>=0)?32:31-(qt(t)/Wt|0)|0}var Xt=64,Kt=4194304;function tc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&t;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&t;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function uc(t,n){var s=t.pendingLanes;if(0===s)return 0;var a=0,i=t.suspendedLanes,o=t.pingedLanes,l=268435455&s;if(0!==l){var u=l&~i;0!==u?a=tc(u):0!==(o&=l)&&(a=tc(o))}else 0!==(l=s&~i)?a=tc(l):0!==o&&(a=tc(o));if(0===a)return 0;if(0!==n&&n!==a&&0===(n&i)&&((i=a&-a)>=(o=n&-n)||16===i&&4194240&o))return n;if(4&a&&(a|=16&s),0!==(n=t.entangledLanes))for(t=t.entanglements,n&=a;0<n;)i=1<<(s=31-Ht(n)),a|=t[s],n&=~i;return a}function vc(t,n){switch(t){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(t,n){for(var s=t.suspendedLanes,a=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var l=31-Ht(o),u=1<<l,m=i[l];-1===m?0!==(u&s)&&0===(u&a)||(i[l]=vc(u,n)):m<=n&&(t.expiredLanes|=u),o&=~u}}function xc(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function yc(){var t=Xt;return!(4194240&(Xt<<=1))&&(Xt=64),t}function zc(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function Ac(t,n,s){t.pendingLanes|=n,536870912!==n&&(t.suspendedLanes=0,t.pingedLanes=0),(t=t.eventTimes)[n=31-Ht(n)]=s}function Bc(t,n){var s=t.pendingLanes&~n;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=n,t.mutableReadLanes&=n,t.entangledLanes&=n,n=t.entanglements;var a=t.eventTimes;for(t=t.expirationTimes;0<s;){var i=31-Ht(s),o=1<<i;n[i]=0,a[i]=-1,t[i]=-1,s&=~o}}function Cc(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var a=31-Ht(s),i=1<<a;i&n|t[a]&n&&(t[a]|=n),s&=~i}}var Gt=0;function Dc(t){return 1<(t&=-t)?4<t?268435455&t?16:536870912:4:1}var Yt,Qt,Zt,Jt,en,tn=!1,nn=[],sn=null,rn=null,an=null,ln=new Map,cn=new Map,dn=[],un="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(t,n){switch(t){case"focusin":case"focusout":sn=null;break;case"dragenter":case"dragleave":rn=null;break;case"mouseover":case"mouseout":an=null;break;case"pointerover":case"pointerout":ln.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":cn.delete(n.pointerId)}}function Tc(t,n,s,a,i,o){return null===t||t.nativeEvent!==o?(t={blockedOn:n,domEventName:s,eventSystemFlags:a,nativeEvent:o,targetContainers:[i]},null!==n&&(null!==(n=Cb(n))&&Qt(n)),t):(t.eventSystemFlags|=a,n=t.targetContainers,null!==i&&-1===n.indexOf(i)&&n.push(i),t)}function Uc(t,n,s,a,i){switch(n){case"focusin":return sn=Tc(sn,t,n,s,a,i),!0;case"dragenter":return rn=Tc(rn,t,n,s,a,i),!0;case"mouseover":return an=Tc(an,t,n,s,a,i),!0;case"pointerover":var o=i.pointerId;return ln.set(o,Tc(ln.get(o)||null,t,n,s,a,i)),!0;case"gotpointercapture":return o=i.pointerId,cn.set(o,Tc(cn.get(o)||null,t,n,s,a,i)),!0}return!1}function Vc(t){var n=Wc(t.target);if(null!==n){var s=Vb(n);if(null!==s)if(13===(n=s.tag)){if(null!==(n=Wb(s)))return t.blockedOn=n,void en(t.priority,function(){Zt(s)})}else if(3===n&&s.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===s.tag?s.stateNode.containerInfo:null)}t.blockedOn=null}function Xc(t){if(null!==t.blockedOn)return!1;for(var n=t.targetContainers;0<n.length;){var s=Yc(t.domEventName,t.eventSystemFlags,n[0],t.nativeEvent);if(null!==s)return null!==(n=Cb(s))&&Qt(n),t.blockedOn=s,!1;var a=new(s=t.nativeEvent).constructor(s.type,s);vt=a,s.target.dispatchEvent(a),vt=null,n.shift()}return!0}function Zc(t,n,s){Xc(t)&&s.delete(n)}function $c(){tn=!1,null!==sn&&Xc(sn)&&(sn=null),null!==rn&&Xc(rn)&&(rn=null),null!==an&&Xc(an)&&(an=null),ln.forEach(Zc),cn.forEach(Zc)}function ad(t,n){t.blockedOn===n&&(t.blockedOn=null,tn||(tn=!0,ye.unstable_scheduleCallback(ye.unstable_NormalPriority,$c)))}function bd(t){function b(n){return ad(n,t)}if(0<nn.length){ad(nn[0],t);for(var n=1;n<nn.length;n++){var s=nn[n];s.blockedOn===t&&(s.blockedOn=null)}}for(null!==sn&&ad(sn,t),null!==rn&&ad(rn,t),null!==an&&ad(an,t),ln.forEach(b),cn.forEach(b),n=0;n<dn.length;n++)(s=dn[n]).blockedOn===t&&(s.blockedOn=null);for(;0<dn.length&&null===(n=dn[0]).blockedOn;)Vc(n),null===n.blockedOn&&dn.shift()}var hn=He.ReactCurrentBatchConfig,mn=!0;function ed(t,n,s,a){var i=Gt,o=hn.transition;hn.transition=null;try{Gt=1,fd(t,n,s,a)}finally{Gt=i,hn.transition=o}}function gd(t,n,s,a){var i=Gt,o=hn.transition;hn.transition=null;try{Gt=4,fd(t,n,s,a)}finally{Gt=i,hn.transition=o}}function fd(t,n,s,a){if(mn){var i=Yc(t,n,s,a);if(null===i)hd(t,n,a,pn,s),Sc(t,a);else if(Uc(i,t,n,s,a))a.stopPropagation();else if(Sc(t,a),4&n&&-1<un.indexOf(t)){for(;null!==i;){var o=Cb(i);if(null!==o&&Yt(o),null===(o=Yc(t,n,s,a))&&hd(t,n,a,pn,s),o===i)break;i=o}null!==i&&a.stopPropagation()}else hd(t,n,a,null,s)}}var pn=null;function Yc(t,n,s,a){if(pn=null,null!==(t=Wc(t=xb(a))))if(null===(n=Vb(t)))t=null;else if(13===(s=n.tag)){if(null!==(t=Wb(n)))return t;t=null}else if(3===s){if(n.stateNode.current.memoizedState.isDehydrated)return 3===n.tag?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null);return pn=t,null}function jd(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ot()){case Vt:return 1;case Ft:return 4;case Bt:case It:return 16;case Ut:return 536870912;default:return 16}default:return 16}}var xn=null,gn=null,yn=null;function nd(){if(yn)return yn;var t,n=gn,s=n.length,a,i="value"in xn?xn.value:xn.textContent,o=i.length;for(t=0;t<s&&n[t]===i[t];t++);var l=s-t;for(a=1;a<=l&&n[s-a]===i[o-a];a++);return yn=i.slice(t,1<a?1-a:void 0)}function od(t){var n=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===n&&(t=13):t=n,10===t&&(t=13),32<=t||13===t?t:0}function pd(){return!0}function qd(){return!1}function rd(t){function b(n,s,a,i,o){for(var l in this._reactName=n,this._targetInst=a,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null,t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?pd:qd,this.isPropagationStopped=qd,this}return ct(b.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!=typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!=typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),b}var vn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bn=rd(vn),jn=ct({},vn,{view:0,detail:0}),wn=rd(jn),Nn,kn,Sn,Cn=ct({},jn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Sn&&(Sn&&"mousemove"===t.type?(Nn=t.screenX-Sn.screenX,kn=t.screenY-Sn.screenY):kn=Nn=0,Sn=t),Nn)},movementY:function(t){return"movementY"in t?t.movementY:kn}}),En=rd(Cn),Pn,Tn=rd(ct({},Cn,{dataTransfer:0})),_n,Rn=rd(ct({},jn,{relatedTarget:0})),An,Ln=rd(ct({},vn,{animationName:0,elapsedTime:0,pseudoElement:0})),Mn=ct({},vn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Dn=rd(Mn),On,Vn=rd(ct({},vn,{data:0})),Fn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},In={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):!!(t=In[t])&&!!n[t]}function zd(){return Pd}var Un=ct({},jn,{key:function(t){if(t.key){var n=Fn[t.key]||t.key;if("Unidentified"!==n)return n}return"keypress"===t.type?13===(t=od(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?Bn[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(t){return"keypress"===t.type?od(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?od(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),zn=rd(Un),$n,Hn=rd(ct({},Cn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),qn,Wn=rd(ct({},jn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd})),Xn,Kn=rd(ct({},vn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Gn=ct({},Cn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Yn=rd(Gn),Qn=[9,13,27,32],Zn=Se&&"CompositionEvent"in window,Jn=null;Se&&"documentMode"in document&&(Jn=document.documentMode);var es=Se&&"TextEvent"in window&&!Jn,ts=Se&&(!Zn||Jn&&8<Jn&&11>=Jn),ns=String.fromCharCode(32),ss=!1;function ge(t,n){switch(t){case"keyup":return-1!==Qn.indexOf(n.keyCode);case"keydown":return 229!==n.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(t){return"object"==typeof(t=t.detail)&&"data"in t?t.data:null}var rs=!1;function je(t,n){switch(t){case"compositionend":return he(n);case"keypress":return 32!==n.which?null:(ss=!0,ns);case"textInput":return(t=n.data)===ns&&ss?null:t;default:return null}}function ke(t,n){if(rs)return"compositionend"===t||!Zn&&ge(t,n)?(t=nd(),yn=gn=xn=null,rs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ts&&"ko"!==n.locale?null:n.data;default:return null}}var as={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===n?!!as[t.type]:"textarea"===n}function ne(t,n,s,a){Eb(a),0<(n=oe(n,"onChange")).length&&(s=new bn("onChange","change",null,s,a),t.push({event:s,listeners:n}))}var is=null,os=null;function re$1(t){se(t,0)}function te(t){var n;if(Wa(ue(t)))return t}function ve(t,n){if("change"===t)return n}var ls=!1;if(Se){var cs;if(Se){var ds="oninput"in document;if(!ds){var us=document.createElement("div");us.setAttribute("oninput","return;"),ds="function"==typeof us.oninput}cs=ds}else cs=!1;ls=cs&&(!document.documentMode||9<document.documentMode)}function Ae(){is&&(is.detachEvent("onpropertychange",Be),os=is=null)}function Be(t){if("value"===t.propertyName&&te(os)){var n=[];ne(n,os,t,xb(t)),Jb(re$1,n)}}function Ce(t,n,s){"focusin"===t?(Ae(),os=s,(is=n).attachEvent("onpropertychange",Be)):"focusout"===t&&Ae()}function De(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return te(os)}function Ee(t,n){if("click"===t)return te(n)}function Fe(t,n){if("input"===t||"change"===t)return te(n)}function Ge(t,n){return t===n&&(0!==t||1/t==1/n)||t!=t&&n!=n}var hs="function"==typeof Object.is?Object.is:Ge;function Ie(t,n){if(hs(t,n))return!0;if("object"!=typeof t||null===t||"object"!=typeof n||null===n)return!1;var s=Object.keys(t),a=Object.keys(n);if(s.length!==a.length)return!1;for(a=0;a<s.length;a++){var i=s[a];if(!Pe.call(n,i)||!hs(t[i],n[i]))return!1}return!0}function Je(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ke(t,n){var s=Je(t),a;for(t=0;s;){if(3===s.nodeType){if(a=t+s.textContent.length,t<=n&&a>=n)return{node:s,offset:n-t};t=a}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Je(s)}}function Le(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?Le(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}function Me(){for(var t=window,n=Xa();n instanceof t.HTMLIFrameElement;){try{var s="string"==typeof n.contentWindow.location.href}catch(a){s=!1}if(!s)break;n=Xa((t=n.contentWindow).document)}return n}function Ne(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&("input"===n&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===n||"true"===t.contentEditable)}function Oe(t){var n=Me(),s=t.focusedElem,a=t.selectionRange;if(n!==s&&s&&s.ownerDocument&&Le(s.ownerDocument.documentElement,s)){if(null!==a&&Ne(s))if(n=a.start,void 0===(t=a.end)&&(t=n),"selectionStart"in s)s.selectionStart=n,s.selectionEnd=Math.min(t,s.value.length);else if((t=(n=s.ownerDocument||document)&&n.defaultView||window).getSelection){t=t.getSelection();var i=s.textContent.length,o=Math.min(a.start,i);a=void 0===a.end?o:Math.min(a.end,i),!t.extend&&o>a&&(i=a,a=o,o=i),i=Ke(s,o);var l=Ke(s,a);i&&l&&(1!==t.rangeCount||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&((n=n.createRange()).setStart(i.node,i.offset),t.removeAllRanges(),o>a?(t.addRange(n),t.extend(l.node,l.offset)):(n.setEnd(l.node,l.offset),t.addRange(n)))}for(n=[],t=s;t=t.parentNode;)1===t.nodeType&&n.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"==typeof s.focus&&s.focus(),s=0;s<n.length;s++)(t=n[s]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ms=Se&&"documentMode"in document&&11>=document.documentMode,ps=null,fs=null,xs=null,gs=!1;function Ue(t,n,s){var a=s.window===s?s.document:9===s.nodeType?s:s.ownerDocument;gs||null==ps||ps!==Xa(a)||("selectionStart"in(a=ps)&&Ne(a)?a={start:a.selectionStart,end:a.selectionEnd}:a={anchorNode:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset},xs&&Ie(xs,a)||(xs=a,0<(a=oe(fs,"onSelect")).length&&(n=new bn("onSelect","select",null,n,s),t.push({event:n,listeners:a}),n.target=ps)))}function Ve(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var ys={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},vs={},bs={};function Ze(t){if(vs[t])return vs[t];if(!ys[t])return t;var n=ys[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in bs)return vs[t]=n[s];return t}Se&&(bs=document.createElement("div").style,"AnimationEvent"in window||(delete ys.animationend.animation,delete ys.animationiteration.animation,delete ys.animationstart.animation),"TransitionEvent"in window||delete ys.transitionend.transition);var js=Ze("animationend"),ws=Ze("animationiteration"),Ns=Ze("animationstart"),ks=Ze("transitionend"),Ss=new Map,Cs="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(t,n){Ss.set(t,n),fa(n,[t])}for(var Es=0;Es<Cs.length;Es++){var Ps=Cs[Es],Ts,_s;ff(Ps.toLowerCase(),"on"+(Ps[0].toUpperCase()+Ps.slice(1)))}ff(js,"onAnimationEnd"),ff(ws,"onAnimationIteration"),ff(Ns,"onAnimationStart"),ff("dblclick","onDoubleClick"),ff("focusin","onFocus"),ff("focusout","onBlur"),ff(ks,"onTransitionEnd"),ha("onMouseEnter",["mouseout","mouseover"]),ha("onMouseLeave",["mouseout","mouseover"]),ha("onPointerEnter",["pointerout","pointerover"]),ha("onPointerLeave",["pointerout","pointerover"]),fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fa("onBeforeInput",["compositionend","keypress","textInput","paste"]),fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),As=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rs));function nf(t,n,s){var a=t.type||"unknown-event";t.currentTarget=s,Ub(a,n,void 0,t),t.currentTarget=null}function se(t,n){n=!!(4&n);for(var s=0;s<t.length;s++){var a=t[s],i=a.event;a=a.listeners;e:{var o=void 0;if(n)for(var l=a.length-1;0<=l;l--){var u=a[l],m=u.instance,f=u.currentTarget;if(u=u.listener,m!==o&&i.isPropagationStopped())break e;nf(i,u,f),o=m}else for(l=0;l<a.length;l++){if(m=(u=a[l]).instance,f=u.currentTarget,u=u.listener,m!==o&&i.isPropagationStopped())break e;nf(i,u,f),o=m}}}if(Pt)throw t=Tt,Pt=!1,Tt=null,t}function D(t,n){var s=n[Ws];void 0===s&&(s=n[Ws]=new Set);var a=t+"__bubble";s.has(a)||(pf(n,t,2,!1),s.add(a))}function qf(t,n,s){var a=0;n&&(a|=4),pf(s,t,a,n)}var Ls="_reactListening"+Math.random().toString(36).slice(2);function sf(t){if(!t[Ls]){t[Ls]=!0,be.forEach(function(n){"selectionchange"!==n&&(As.has(n)||qf(n,!1,t),qf(n,!0,t))});var n=9===t.nodeType?t:t.ownerDocument;null===n||n[Ls]||(n[Ls]=!0,qf("selectionchange",!1,n))}}function pf(t,n,s,a){switch(jd(n)){case 1:var i=ed;break;case 4:i=gd;break;default:i=fd}s=i.bind(null,n,s,t),i=void 0,!kt||"touchstart"!==n&&"touchmove"!==n&&"wheel"!==n||(i=!0),a?void 0!==i?t.addEventListener(n,s,{capture:!0,passive:i}):t.addEventListener(n,s,!0):void 0!==i?t.addEventListener(n,s,{passive:i}):t.addEventListener(n,s,!1)}function hd(t,n,s,a,i){var o=a;if(!(1&n||2&n||null===a))e:for(;;){if(null===a)return;var l=a.tag;if(3===l||4===l){var u=a.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===l)for(l=a.return;null!==l;){var m=l.tag;if((3===m||4===m)&&((m=l.stateNode.containerInfo)===i||8===m.nodeType&&m.parentNode===i))return;l=l.return}for(;null!==u;){if(null===(l=Wc(u)))return;if(5===(m=l.tag)||6===m){a=o=l;continue e}u=u.parentNode}}a=a.return}Jb(function(){var a=o,i=xb(s),l=[];e:{var u=Ss.get(t);if(void 0!==u){var m=bn,f=t;switch(t){case"keypress":if(0===od(s))break e;case"keydown":case"keyup":m=zn;break;case"focusin":f="focus",m=Rn;break;case"focusout":f="blur",m=Rn;break;case"beforeblur":case"afterblur":m=Rn;break;case"click":if(2===s.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=En;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Tn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Wn;break;case js:case ws:case Ns:m=Ln;break;case ks:m=Kn;break;case"scroll":m=wn;break;case"wheel":m=Yn;break;case"copy":case"cut":case"paste":m=Dn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Hn}var x=!!(4&n),y=!x&&"scroll"===t,j=x?null!==u?u+"Capture":null:u;x=[];for(var w=a,N;null!==w;){var k=(N=w).stateNode;if(5===N.tag&&null!==k&&(N=k,null!==j&&(null!=(k=Kb(w,j))&&x.push(tf(w,k,N)))),y)break;w=w.return}0<x.length&&(u=new m(u,f,null,s,i),l.push({event:u,listeners:x}))}}if(!(7&n)){if(m="mouseout"===t||"pointerout"===t,(!(u="mouseover"===t||"pointerover"===t)||s===vt||!(f=s.relatedTarget||s.fromElement)||!Wc(f)&&!f[qs])&&(m||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,m?(m=a,null!==(f=(f=s.relatedTarget||s.toElement)?Wc(f):null)&&(f!==(y=Vb(f))||5!==f.tag&&6!==f.tag)&&(f=null)):(m=null,f=a),m!==f)){if(x=En,k="onMouseLeave",j="onMouseEnter",w="mouse","pointerout"!==t&&"pointerover"!==t||(x=Hn,k="onPointerLeave",j="onPointerEnter",w="pointer"),y=null==m?u:ue(m),N=null==f?u:ue(f),(u=new x(k,w+"leave",m,s,i)).target=y,u.relatedTarget=N,k=null,Wc(i)===a&&((x=new x(j,w+"enter",f,s,i)).target=N,x.relatedTarget=y,k=x),y=k,m&&f)e:{for(j=f,w=0,N=x=m;N;N=vf(N))w++;for(N=0,k=j;k;k=vf(k))N++;for(;0<w-N;)x=vf(x),w--;for(;0<N-w;)j=vf(j),N--;for(;w--;){if(x===j||null!==j&&x===j.alternate)break e;x=vf(x),j=vf(j)}x=null}else x=null;null!==m&&wf(l,u,m,x,!1),null!==f&&null!==y&&wf(l,y,f,x,!0)}if("select"===(m=(u=a?ue(a):window).nodeName&&u.nodeName.toLowerCase())||"input"===m&&"file"===u.type)var C=ve;else if(me(u))if(ls)C=Fe;else{C=De;var T=Ce}else(m=u.nodeName)&&"input"===m.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(C=Ee);switch(C&&(C=C(t,a))?ne(l,C,s,i):(T&&T(t,u,a),"focusout"===t&&(T=u._wrapperState)&&T.controlled&&"number"===u.type&&cb(u,"number",u.value)),T=a?ue(a):window,t){case"focusin":(me(T)||"true"===T.contentEditable)&&(ps=T,fs=a,xs=null);break;case"focusout":xs=fs=ps=null;break;case"mousedown":gs=!0;break;case"contextmenu":case"mouseup":case"dragend":gs=!1,Ue(l,s,i);break;case"selectionchange":if(ms)break;case"keydown":case"keyup":Ue(l,s,i)}var _;if(Zn)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else rs?ge(t,s)&&(A="onCompositionEnd"):"keydown"===t&&229===s.keyCode&&(A="onCompositionStart");A&&(ts&&"ko"!==s.locale&&(rs||"onCompositionStart"!==A?"onCompositionEnd"===A&&rs&&(_=nd()):(gn="value"in(xn=i)?xn.value:xn.textContent,rs=!0)),0<(T=oe(a,A)).length&&(A=new Vn(A,t,null,s,i),l.push({event:A,listeners:T}),_?A.data=_:null!==(_=he(s))&&(A.data=_))),(_=es?je(t,s):ke(t,s))&&(0<(a=oe(a,"onBeforeInput")).length&&(i=new Vn("onBeforeInput","beforeinput",null,s,i),l.push({event:i,listeners:a}),i.data=_))}se(l,n)})}function tf(t,n,s){return{instance:t,listener:n,currentTarget:s}}function oe(t,n){for(var s=n+"Capture",a=[];null!==t;){var i=t,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Kb(t,s))&&a.unshift(tf(t,o,i)),null!=(o=Kb(t,n))&&a.push(tf(t,o,i))),t=t.return}return a}function vf(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function wf(t,n,s,a,i){for(var o=n._reactName,l=[];null!==s&&s!==a;){var u=s,m=u.alternate,f=u.stateNode;if(null!==m&&m===a)break;5===u.tag&&null!==f&&(u=f,i?null!=(m=Kb(s,o))&&l.unshift(tf(s,m,u)):i||null!=(m=Kb(s,o))&&l.push(tf(s,m,u))),s=s.return}0!==l.length&&t.push({event:n,listeners:l})}var Ms=/\r\n?/g,Ds=/\u0000|\uFFFD/g;function zf(t){return("string"==typeof t?t:""+t).replace(Ms,"\n").replace(Ds,"")}function Af(t,n,s){if(n=zf(n),zf(t)!==n&&s)throw Error(p(425))}function Bf(){}var Os=null,Vs=null;function Ef(t,n){return"textarea"===t||"noscript"===t||"string"==typeof n.children||"number"==typeof n.children||"object"==typeof n.dangerouslySetInnerHTML&&null!==n.dangerouslySetInnerHTML&&null!=n.dangerouslySetInnerHTML.__html}var Fs="function"==typeof setTimeout?setTimeout:void 0,Bs="function"==typeof clearTimeout?clearTimeout:void 0,Is="function"==typeof Promise?Promise:void 0,Us="function"==typeof queueMicrotask?queueMicrotask:void 0!==Is?function(t){return Is.resolve(null).then(t).catch(If)}:Fs;function If(t){setTimeout(function(){throw t})}function Kf(t,n){var s=n,a=0;do{var i=s.nextSibling;if(t.removeChild(s),i&&8===i.nodeType)if("/$"===(s=i.data)){if(0===a)return t.removeChild(i),void bd(n);a--}else"$"!==s&&"$?"!==s&&"$!"!==s||a++;s=i}while(s);bd(n)}function Lf(t){for(;null!=t;t=t.nextSibling){var n=t.nodeType;if(1===n||3===n)break;if(8===n){if("$"===(n=t.data)||"$!"===n||"$?"===n)break;if("/$"===n)return null}}return t}function Mf(t){t=t.previousSibling;for(var n=0;t;){if(8===t.nodeType){var s=t.data;if("$"===s||"$!"===s||"$?"===s){if(0===n)return t;n--}else"/$"===s&&n++}t=t.previousSibling}return null}var zs=Math.random().toString(36).slice(2),$s="__reactFiber$"+zs,Hs="__reactProps$"+zs,qs="__reactContainer$"+zs,Ws="__reactEvents$"+zs,Xs="__reactListeners$"+zs,Ks="__reactHandles$"+zs;function Wc(t){var n=t[$s];if(n)return n;for(var s=t.parentNode;s;){if(n=s[qs]||s[$s]){if(s=n.alternate,null!==n.child||null!==s&&null!==s.child)for(t=Mf(t);null!==t;){if(s=t[$s])return s;t=Mf(t)}return n}s=(t=s).parentNode}return null}function Cb(t){return!(t=t[$s]||t[qs])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function ue(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(p(33))}function Db(t){return t[Hs]||null}var Gs=[],Ys=-1;function Uf(t){return{current:t}}function E(t){0>Ys||(t.current=Gs[Ys],Gs[Ys]=null,Ys--)}function G(t,n){Ys++,Gs[Ys]=t.current,t.current=n}var Qs={},Zs=Uf(Qs),Js=Uf(!1),er=Qs;function Yf(t,n){var s=t.type.contextTypes;if(!s)return Qs;var a=t.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===n)return a.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in s)i[o]=n[o];return a&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=i),i}function Zf(t){return null!=(t=t.childContextTypes)}function $f(){E(Js),E(Zs)}function ag(t,n,s){if(Zs.current!==Qs)throw Error(p(168));G(Zs,n),G(Js,s)}function bg(t,n,s){var a=t.stateNode;if(n=n.childContextTypes,"function"!=typeof a.getChildContext)return s;for(var i in a=a.getChildContext())if(!(i in n))throw Error(p(108,Ra(t)||"Unknown",i));return ct({},s,a)}function cg(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Qs,er=Zs.current,G(Zs,t),G(Js,Js.current),!0}function dg(t,n,s){var a=t.stateNode;if(!a)throw Error(p(169));s?(t=bg(t,n,er),a.__reactInternalMemoizedMergedChildContext=t,E(Js),E(Zs),G(Zs,t)):E(Js),G(Js,s)}var tr=null,nr=!1,sr=!1;function hg(t){null===tr?tr=[t]:tr.push(t)}function ig(t){nr=!0,hg(t)}function jg(){if(!sr&&null!==tr){sr=!0;var t=0,n=Gt;try{var s=tr;for(Gt=1;t<s.length;t++){var a=s[t];do{a=a(!0)}while(null!==a)}tr=null,nr=!1}catch(i){throw null!==tr&&(tr=tr.slice(t+1)),Rt(Vt,jg),i}finally{Gt=n,sr=!1}}return null}var rr=[],ar=0,ir=null,or=0,lr=[],cr=0,dr=null,ur=1,hr="";function tg(t,n){rr[ar++]=or,rr[ar++]=ir,ir=t,or=n}function ug(t,n,s){lr[cr++]=ur,lr[cr++]=hr,lr[cr++]=dr,dr=t;var a=ur;t=hr;var i=32-Ht(a)-1;a&=~(1<<i),s+=1;var o=32-Ht(n)+i;if(30<o){var l=i-i%5;o=(a&(1<<l)-1).toString(32),a>>=l,i-=l,ur=1<<32-Ht(n)+i|s<<i|a,hr=o+t}else ur=1<<o|s<<i|a,hr=t}function vg(t){null!==t.return&&(tg(t,1),ug(t,1,0))}function wg(t){for(;t===ir;)ir=rr[--ar],rr[ar]=null,or=rr[--ar],rr[ar]=null;for(;t===dr;)dr=lr[--cr],lr[cr]=null,hr=lr[--cr],lr[cr]=null,ur=lr[--cr],lr[cr]=null}var mr=null,pr=null,fr=!1,xr=null;function Ag(t,n){var s=Bg(5,null,null,0);s.elementType="DELETED",s.stateNode=n,s.return=t,null===(n=t.deletions)?(t.deletions=[s],t.flags|=16):n.push(s)}function Cg(t,n){switch(t.tag){case 5:var s=t.type;return null!==(n=1!==n.nodeType||s.toLowerCase()!==n.nodeName.toLowerCase()?null:n)&&(t.stateNode=n,mr=t,pr=Lf(n.firstChild),!0);case 6:return null!==(n=""===t.pendingProps||3!==n.nodeType?null:n)&&(t.stateNode=n,mr=t,pr=null,!0);case 13:return null!==(n=8!==n.nodeType?null:n)&&(s=null!==dr?{id:ur,overflow:hr}:null,t.memoizedState={dehydrated:n,treeContext:s,retryLane:1073741824},(s=Bg(18,null,null,0)).stateNode=n,s.return=t,t.child=s,mr=t,pr=null,!0);default:return!1}}function Dg(t){return!(!(1&t.mode)||128&t.flags)}function Eg(t){if(fr){var n=pr;if(n){var s=n;if(!Cg(t,n)){if(Dg(t))throw Error(p(418));n=Lf(s.nextSibling);var a=mr;n&&Cg(t,n)?Ag(a,s):(t.flags=-4097&t.flags|2,fr=!1,mr=t)}}else{if(Dg(t))throw Error(p(418));t.flags=-4097&t.flags|2,fr=!1,mr=t}}}function Fg(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;mr=t}function Gg(t){if(t!==mr)return!1;if(!fr)return Fg(t),fr=!0,!1;var n;if((n=3!==t.tag)&&!(n=5!==t.tag)&&(n="head"!==(n=t.type)&&"body"!==n&&!Ef(t.type,t.memoizedProps)),n&&(n=pr)){if(Dg(t))throw Hg(),Error(p(418));for(;n;)Ag(t,n),n=Lf(n.nextSibling)}if(Fg(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(p(317));e:{for(t=t.nextSibling,n=0;t;){if(8===t.nodeType){var s=t.data;if("/$"===s){if(0===n){pr=Lf(t.nextSibling);break e}n--}else"$"!==s&&"$!"!==s&&"$?"!==s||n++}t=t.nextSibling}pr=null}}else pr=mr?Lf(t.stateNode.nextSibling):null;return!0}function Hg(){for(var t=pr;t;)t=Lf(t.nextSibling)}function Ig(){pr=mr=null,fr=!1}function Jg(t){null===xr?xr=[t]:xr.push(t)}var gr=He.ReactCurrentBatchConfig;function Lg(t,n,s){if(null!==(t=s.ref)&&"function"!=typeof t&&"object"!=typeof t){if(s._owner){if(s=s._owner){if(1!==s.tag)throw Error(p(309));var a=s.stateNode}if(!a)throw Error(p(147,t));var i=a,o=""+t;return null!==n&&null!==n.ref&&"function"==typeof n.ref&&n.ref._stringRef===o?n.ref:((n=function(t){var n=i.refs;null===t?delete n[o]:n[o]=t})._stringRef=o,n)}if("string"!=typeof t)throw Error(p(284));if(!s._owner)throw Error(p(290,t))}return t}function Mg(t,n){throw t=Object.prototype.toString.call(n),Error(p(31,"[object Object]"===t?"object with keys {"+Object.keys(n).join(", ")+"}":t))}function Ng(t){var n;return(0,t._init)(t._payload)}function Og(t){function b(n,s){if(t){var a=n.deletions;null===a?(n.deletions=[s],n.flags|=16):a.push(s)}}function c(n,s){if(!t)return null;for(;null!==s;)b(n,s),s=s.sibling;return null}function d(t,n){for(t=new Map;null!==n;)null!==n.key?t.set(n.key,n):t.set(n.index,n),n=n.sibling;return t}function e(t,n){return(t=Pg(t,n)).index=0,t.sibling=null,t}function f2(n,s,a){return n.index=a,t?null!==(a=n.alternate)?(a=a.index)<s?(n.flags|=2,s):a:(n.flags|=2,s):(n.flags|=1048576,s)}function g(n){return t&&null===n.alternate&&(n.flags|=2),n}function h(t,n,s,a){return null===n||6!==n.tag?((n=Qg(s,t.mode,a)).return=t,n):((n=e(n,s)).return=t,n)}function k2(t,n,s,a){var i=s.type;return i===Xe?m2(t,n,s.props.children,a,s.key):null!==n&&(n.elementType===i||"object"==typeof i&&null!==i&&i.$$typeof===it&&Ng(i)===n.type)?((a=e(n,s.props)).ref=Lg(t,n,s),a.return=t,a):((a=Rg(s.type,s.key,s.props,null,t.mode,a)).ref=Lg(t,n,s),a.return=t,a)}function l2(t,n,s,a){return null===n||4!==n.tag||n.stateNode.containerInfo!==s.containerInfo||n.stateNode.implementation!==s.implementation?((n=Sg(s,t.mode,a)).return=t,n):((n=e(n,s.children||[])).return=t,n)}function m2(t,n,s,a,i){return null===n||7!==n.tag?((n=Tg(s,t.mode,a,i)).return=t,n):((n=e(n,s)).return=t,n)}function q2(t,n,s){if("string"==typeof n&&""!==n||"number"==typeof n)return(n=Qg(""+n,t.mode,s)).return=t,n;if("object"==typeof n&&null!==n){switch(n.$$typeof){case qe:return(s=Rg(n.type,n.key,n.props,null,t.mode,s)).ref=Lg(t,null,n),s.return=t,s;case We:return(n=Sg(n,t.mode,s)).return=t,n;case it:var a;return q2(t,(0,n._init)(n._payload),s)}if(ht(n)||Ka(n))return(n=Tg(n,t.mode,s,null)).return=t,n;Mg(t,n)}return null}function r2(t,n,s,a){var i=null!==n?n.key:null;if("string"==typeof s&&""!==s||"number"==typeof s)return null!==i?null:h(t,n,""+s,a);if("object"==typeof s&&null!==s){switch(s.$$typeof){case qe:return s.key===i?k2(t,n,s,a):null;case We:return s.key===i?l2(t,n,s,a):null;case it:return r2(t,n,(i=s._init)(s._payload),a)}if(ht(s)||Ka(s))return null!==i?null:m2(t,n,s,a,null);Mg(t,s)}return null}function y2(t,n,s,a,i){if("string"==typeof a&&""!==a||"number"==typeof a)return h(n,t=t.get(s)||null,""+a,i);if("object"==typeof a&&null!==a){switch(a.$$typeof){case qe:return k2(n,t=t.get(null===a.key?s:a.key)||null,a,i);case We:return l2(n,t=t.get(null===a.key?s:a.key)||null,a,i);case it:var o;return y2(t,n,s,(0,a._init)(a._payload),i)}if(ht(a)||Ka(a))return m2(n,t=t.get(s)||null,a,i,null);Mg(n,a)}return null}function n2(n,s,a,i){for(var o=null,l=null,u=s,m=s=0,f=null;null!==u&&m<a.length;m++){u.index>m?(f=u,u=null):f=u.sibling;var x=r2(n,u,a[m],i);if(null===x){null===u&&(u=f);break}t&&u&&null===x.alternate&&b(n,u),s=f2(x,s,m),null===l?o=x:l.sibling=x,l=x,u=f}if(m===a.length)return c(n,u),fr&&tg(n,m),o;if(null===u){for(;m<a.length;m++)null!==(u=q2(n,a[m],i))&&(s=f2(u,s,m),null===l?o=u:l.sibling=u,l=u);return fr&&tg(n,m),o}for(u=d(n,u);m<a.length;m++)null!==(f=y2(u,n,m,a[m],i))&&(t&&null!==f.alternate&&u.delete(null===f.key?m:f.key),s=f2(f,s,m),null===l?o=f:l.sibling=f,l=f);return t&&u.forEach(function(t){return b(n,t)}),fr&&tg(n,m),o}function t2(n,s,a,i){var o=Ka(a);if("function"!=typeof o)throw Error(p(150));if(null==(a=o.call(a)))throw Error(p(151));for(var l=o=null,u=s,m=s=0,f=null,x=a.next();null!==u&&!x.done;m++,x=a.next()){u.index>m?(f=u,u=null):f=u.sibling;var y=r2(n,u,x.value,i);if(null===y){null===u&&(u=f);break}t&&u&&null===y.alternate&&b(n,u),s=f2(y,s,m),null===l?o=y:l.sibling=y,l=y,u=f}if(x.done)return c(n,u),fr&&tg(n,m),o;if(null===u){for(;!x.done;m++,x=a.next())null!==(x=q2(n,x.value,i))&&(s=f2(x,s,m),null===l?o=x:l.sibling=x,l=x);return fr&&tg(n,m),o}for(u=d(n,u);!x.done;m++,x=a.next())null!==(x=y2(u,n,m,x.value,i))&&(t&&null!==x.alternate&&u.delete(null===x.key?m:x.key),s=f2(x,s,m),null===l?o=x:l.sibling=x,l=x);return t&&u.forEach(function(t){return b(n,t)}),fr&&tg(n,m),o}function J2(t,n,s,a){if("object"==typeof s&&null!==s&&s.type===Xe&&null===s.key&&(s=s.props.children),"object"==typeof s&&null!==s){switch(s.$$typeof){case qe:e:{for(var i=s.key,o=n;null!==o;){if(o.key===i){if((i=s.type)===Xe){if(7===o.tag){c(t,o.sibling),(n=e(o,s.props.children)).return=t,t=n;break e}}else if(o.elementType===i||"object"==typeof i&&null!==i&&i.$$typeof===it&&Ng(i)===o.type){c(t,o.sibling),(n=e(o,s.props)).ref=Lg(t,o,s),n.return=t,t=n;break e}c(t,o);break}b(t,o),o=o.sibling}s.type===Xe?((n=Tg(s.props.children,t.mode,a,s.key)).return=t,t=n):((a=Rg(s.type,s.key,s.props,null,t.mode,a)).ref=Lg(t,n,s),a.return=t,t=a)}return g(t);case We:e:{for(o=s.key;null!==n;){if(n.key===o){if(4===n.tag&&n.stateNode.containerInfo===s.containerInfo&&n.stateNode.implementation===s.implementation){c(t,n.sibling),(n=e(n,s.children||[])).return=t,t=n;break e}c(t,n);break}b(t,n),n=n.sibling}(n=Sg(s,t.mode,a)).return=t,t=n}return g(t);case it:return J2(t,n,(o=s._init)(s._payload),a)}if(ht(s))return n2(t,n,s,a);if(Ka(s))return t2(t,n,s,a);Mg(t,s)}return"string"==typeof s&&""!==s||"number"==typeof s?(s=""+s,null!==n&&6===n.tag?(c(t,n.sibling),(n=e(n,s)).return=t,t=n):(c(t,n),(n=Qg(s,t.mode,a)).return=t,t=n),g(t)):c(t,n)}return J2}var yr=Og(!0),vr=Og(!1),br=Uf(null),jr=null,wr=null,Nr=null;function $g(){Nr=wr=jr=null}function ah(t){var n=br.current;E(br),t._currentValue=n}function bh(t,n,s){for(;null!==t;){var a=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,null!==a&&(a.childLanes|=n)):null!==a&&(a.childLanes&n)!==n&&(a.childLanes|=n),t===s)break;t=t.return}}function ch(t,n){jr=t,Nr=wr=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&n)&&(Gr=!0),t.firstContext=null)}function eh(t){var n=t._currentValue;if(Nr!==t)if(t={context:t,memoizedValue:n,next:null},null===wr){if(null===jr)throw Error(p(308));wr=t,jr.dependencies={lanes:0,firstContext:t}}else wr=wr.next=t;return n}var kr=null;function gh(t){null===kr?kr=[t]:kr.push(t)}function hh(t,n,s,a){var i=n.interleaved;return null===i?(s.next=s,gh(n)):(s.next=i.next,i.next=s),n.interleaved=s,ih(t,a)}function ih(t,n){t.lanes|=n;var s=t.alternate;for(null!==s&&(s.lanes|=n),s=t,t=t.return;null!==t;)t.childLanes|=n,null!==(s=t.alternate)&&(s.childLanes|=n),s=t,t=t.return;return 3===s.tag?s.stateNode:null}var Sr=!1;function kh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function mh(t,n){return{eventTime:t,lane:n,tag:0,payload:null,callback:null,next:null}}function nh(t,n,s){var a=t.updateQueue;if(null===a)return null;if(a=a.shared,2&ya){var i=a.pending;return null===i?n.next=n:(n.next=i.next,i.next=n),a.pending=n,ih(t,s)}return null===(i=a.interleaved)?(n.next=n,gh(a)):(n.next=i.next,i.next=n),a.interleaved=n,ih(t,s)}function oh(t,n,s){if(null!==(n=n.updateQueue)&&(n=n.shared,4194240&s)){var a=n.lanes;s|=a&=t.pendingLanes,n.lanes=s,Cc(t,s)}}function ph(t,n){var s=t.updateQueue,a=t.alternate;if(null!==a&&s===(a=a.updateQueue)){var i=null,o=null;if(null!==(s=s.firstBaseUpdate)){do{var l={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};null===o?i=o=l:o=o.next=l,s=s.next}while(null!==s);null===o?i=o=n:o=o.next=n}else i=o=n;return s={baseState:a.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:a.shared,effects:a.effects},void(t.updateQueue=s)}null===(t=s.lastBaseUpdate)?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}function qh(t,n,s,a){var i=t.updateQueue;Sr=!1;var o=i.firstBaseUpdate,l=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var m=u,f=m.next;m.next=null,null===l?o=f:l.next=f,l=m;var x=t.alternate;null!==x&&((u=(x=x.updateQueue).lastBaseUpdate)!==l&&(null===u?x.firstBaseUpdate=f:u.next=f,x.lastBaseUpdate=m))}if(null!==o){var y=i.baseState;for(l=0,x=f=m=null,u=o;;){var j=u.lane,w=u.eventTime;if((a&j)===j){null!==x&&(x=x.next={eventTime:w,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var N=t,k=u;switch(j=n,w=s,k.tag){case 1:if("function"==typeof(N=k.payload)){y=N.call(w,y,j);break e}y=N;break e;case 3:N.flags=-65537&N.flags|128;case 0:if(null==(j="function"==typeof(N=k.payload)?N.call(w,y,j):N))break e;y=ct({},y,j);break e;case 2:Sr=!0}}null!==u.callback&&0!==u.lane&&(t.flags|=64,null===(j=i.effects)?i.effects=[u]:j.push(u))}else w={eventTime:w,lane:j,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===x?(f=x=w,m=y):x=x.next=w,l|=j;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(j=u).next,j.next=null,i.lastBaseUpdate=j,i.shared.pending=null}}if(null===x&&(m=y),i.baseState=m,i.firstBaseUpdate=f,i.lastBaseUpdate=x,null!==(n=i.shared.interleaved)){i=n;do{l|=i.lane,i=i.next}while(i!==n)}else null===o&&(i.shared.lanes=0);Ea|=l,t.lanes=l,t.memoizedState=y}}function sh(t,n,s){if(t=n.effects,n.effects=null,null!==t)for(n=0;n<t.length;n++){var a=t[n],i=a.callback;if(null!==i){if(a.callback=null,a=s,"function"!=typeof i)throw Error(p(191,i));i.call(a)}}}var Cr={},Er=Uf(Cr),Pr=Uf(Cr),Tr=Uf(Cr);function xh(t){if(t===Cr)throw Error(p(174));return t}function yh(t,n){switch(G(Tr,n),G(Pr,t),G(Er,Cr),t=n.nodeType){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:lb(null,"");break;default:n=lb(n=(t=8===t?n.parentNode:n).namespaceURI||null,t=t.tagName)}E(Er),G(Er,n)}function zh(){E(Er),E(Pr),E(Tr)}function Ah(t){xh(Tr.current);var n=xh(Er.current),s=lb(n,t.type);n!==s&&(G(Pr,t),G(Er,s))}function Bh(t){Pr.current===t&&(E(Er),E(Pr))}var _r=Uf(0);function Ch(t){for(var n=t;null!==n;){if(13===n.tag){var s=n.memoizedState;if(null!==s&&(null===(s=s.dehydrated)||"$?"===s.data||"$!"===s.data))return n}else if(19===n.tag&&void 0!==n.memoizedProps.revealOrder){if(128&n.flags)return n}else if(null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Rr=[];function Eh(){for(var t=0;t<Rr.length;t++)Rr[t]._workInProgressVersionPrimary=null;Rr.length=0}var Ar=He.ReactCurrentDispatcher,Lr=He.ReactCurrentBatchConfig,Mr=0,Dr=null,Or=null,Vr=null,Fr=!1,Br=!1,Ir=0,Ur=0;function P(){throw Error(p(321))}function Mh(t,n){if(null===n)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!hs(t[s],n[s]))return!1;return!0}function Nh(t,n,s,a,i,o){if(Mr=o,Dr=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Ar.current=null===t||null===t.memoizedState?$r:Hr,t=s(a,i),Br){o=0;do{if(Br=!1,Ir=0,25<=o)throw Error(p(301));o+=1,Vr=Or=null,n.updateQueue=null,Ar.current=qr,t=s(a,i)}while(Br)}if(Ar.current=zr,n=null!==Or&&null!==Or.next,Mr=0,Vr=Or=Dr=null,Fr=!1,n)throw Error(p(300));return t}function Sh(){var t=0!==Ir;return Ir=0,t}function Th(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Vr?Dr.memoizedState=Vr=t:Vr=Vr.next=t,Vr}function Uh(){if(null===Or){var t=Dr.alternate;t=null!==t?t.memoizedState:null}else t=Or.next;var n=null===Vr?Dr.memoizedState:Vr.next;if(null!==n)Vr=n,Or=t;else{if(null===t)throw Error(p(310));t={memoizedState:(Or=t).memoizedState,baseState:Or.baseState,baseQueue:Or.baseQueue,queue:Or.queue,next:null},null===Vr?Dr.memoizedState=Vr=t:Vr=Vr.next=t}return Vr}function Vh(t,n){return"function"==typeof n?n(t):n}function Wh(t){var n=Uh(),s=n.queue;if(null===s)throw Error(p(311));s.lastRenderedReducer=t;var a=Or,i=a.baseQueue,o=s.pending;if(null!==o){if(null!==i){var l=i.next;i.next=o.next,o.next=l}a.baseQueue=i=o,s.pending=null}if(null!==i){o=i.next,a=a.baseState;var u=l=null,m=null,f=o;do{var x=f.lane;if((Mr&x)===x)null!==m&&(m=m.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),a=f.hasEagerState?f.eagerState:t(a,f.action);else{var y={lane:x,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};null===m?(u=m=y,l=a):m=m.next=y,Dr.lanes|=x,Ea|=x}f=f.next}while(null!==f&&f!==o);null===m?l=a:m.next=u,hs(a,n.memoizedState)||(Gr=!0),n.memoizedState=a,n.baseState=l,n.baseQueue=m,s.lastRenderedState=a}if(null!==(t=s.interleaved)){i=t;do{o=i.lane,Dr.lanes|=o,Ea|=o,i=i.next}while(i!==t)}else null===i&&(s.lanes=0);return[n.memoizedState,s.dispatch]}function Xh(t){var n=Uh(),s=n.queue;if(null===s)throw Error(p(311));s.lastRenderedReducer=t;var a=s.dispatch,i=s.pending,o=n.memoizedState;if(null!==i){s.pending=null;var l=i=i.next;do{o=t(o,l.action),l=l.next}while(l!==i);hs(o,n.memoizedState)||(Gr=!0),n.memoizedState=o,null===n.baseQueue&&(n.baseState=o),s.lastRenderedState=o}return[o,a]}function Yh(){}function Zh(t,n){var s=Dr,a=Uh(),i=n(),o=!hs(a.memoizedState,i);if(o&&(a.memoizedState=i,Gr=!0),a=a.queue,$h(ai.bind(null,s,a,t),[t]),a.getSnapshot!==n||o||null!==Vr&&1&Vr.memoizedState.tag){if(s.flags|=2048,bi(9,ci.bind(null,s,a,i,n),void 0,null),null===va)throw Error(p(349));30&Mr||di(s,n,i)}return i}function di(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},null===(n=Dr.updateQueue)?(n={lastEffect:null,stores:null},Dr.updateQueue=n,n.stores=[t]):null===(s=n.stores)?n.stores=[t]:s.push(t)}function ci(t,n,s,a){n.value=s,n.getSnapshot=a,ei(n)&&fi(t)}function ai(t,n,s){return s(function(){ei(n)&&fi(t)})}function ei(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!hs(t,s)}catch(a){return!0}}function fi(t){var n=ih(t,1);null!==n&&gi(n,t,1,-1)}function hi(t){var n=Th();return"function"==typeof t&&(t=t()),n.memoizedState=n.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:t},n.queue=t,t=t.dispatch=ii.bind(null,Dr,t),[n.memoizedState,t]}function bi(t,n,s,a){return t={tag:t,create:n,destroy:s,deps:a,next:null},null===(n=Dr.updateQueue)?(n={lastEffect:null,stores:null},Dr.updateQueue=n,n.lastEffect=t.next=t):null===(s=n.lastEffect)?n.lastEffect=t.next=t:(a=s.next,s.next=t,t.next=a,n.lastEffect=t),t}function ji(){return Uh().memoizedState}function ki(t,n,s,a){var i=Th();Dr.flags|=t,i.memoizedState=bi(1|n,s,void 0,void 0===a?null:a)}function li(t,n,s,a){var i=Uh();a=void 0===a?null:a;var o=void 0;if(null!==Or){var l=Or.memoizedState;if(o=l.destroy,null!==a&&Mh(a,l.deps))return void(i.memoizedState=bi(n,s,o,a))}Dr.flags|=t,i.memoizedState=bi(1|n,s,o,a)}function mi(t,n){return ki(8390656,8,t,n)}function $h(t,n){return li(2048,8,t,n)}function ni(t,n){return li(4,2,t,n)}function oi(t,n){return li(4,4,t,n)}function pi(t,n){return"function"==typeof n?(t=t(),n(t),function(){n(null)}):null!=n?(t=t(),n.current=t,function(){n.current=null}):void 0}function qi(t,n,s){return s=null!=s?s.concat([t]):null,li(4,4,pi.bind(null,n,t),s)}function ri(){}function si(t,n){var s=Uh();n=void 0===n?null:n;var a=s.memoizedState;return null!==a&&null!==n&&Mh(n,a[1])?a[0]:(s.memoizedState=[t,n],t)}function ti(t,n){var s=Uh();n=void 0===n?null:n;var a=s.memoizedState;return null!==a&&null!==n&&Mh(n,a[1])?a[0]:(t=t(),s.memoizedState=[t,n],t)}function ui(t,n,s){return 21&Mr?(hs(s,n)||(s=yc(),Dr.lanes|=s,Ea|=s,t.baseState=!0),n):(t.baseState&&(t.baseState=!1,Gr=!0),t.memoizedState=s)}function vi(t,n){var s=Gt;Gt=0!==s&&4>s?s:4,t(!0);var a=Lr.transition;Lr.transition={};try{t(!1),n()}finally{Gt=s,Lr.transition=a}}function wi(){return Uh().memoizedState}function xi(t,n,s){var a=yi(t);if(s={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null},zi(t))Ai(n,s);else if(null!==(s=hh(t,n,s,a))){var i;gi(s,t,a,R()),Bi(s,n,a)}}function ii(t,n,s){var a=yi(t),i={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null};if(zi(t))Ai(n,i);else{var o=t.alternate;if(0===t.lanes&&(null===o||0===o.lanes)&&null!==(o=n.lastRenderedReducer))try{var l=n.lastRenderedState,u=o(l,s);if(i.hasEagerState=!0,i.eagerState=u,hs(u,l)){var m=n.interleaved;return null===m?(i.next=i,gh(n)):(i.next=m.next,m.next=i),void(n.interleaved=i)}}catch(f){}null!==(s=hh(t,n,i,a))&&(gi(s,t,a,i=R()),Bi(s,n,a))}}function zi(t){var n=t.alternate;return t===Dr||null!==n&&n===Dr}function Ai(t,n){Br=Fr=!0;var s=t.pending;null===s?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function Bi(t,n,s){if(4194240&s){var a=n.lanes;s|=a&=t.pendingLanes,n.lanes=s,Cc(t,s)}}var zr={readContext:eh,useCallback:P,useContext:P,useEffect:P,useImperativeHandle:P,useInsertionEffect:P,useLayoutEffect:P,useMemo:P,useReducer:P,useRef:P,useState:P,useDebugValue:P,useDeferredValue:P,useTransition:P,useMutableSource:P,useSyncExternalStore:P,useId:P,unstable_isNewReconciler:!1},$r={readContext:eh,useCallback:function(t,n){return Th().memoizedState=[t,void 0===n?null:n],t},useContext:eh,useEffect:mi,useImperativeHandle:function(t,n,s){return s=null!=s?s.concat([t]):null,ki(4194308,4,pi.bind(null,n,t),s)},useLayoutEffect:function(t,n){return ki(4194308,4,t,n)},useInsertionEffect:function(t,n){return ki(4,2,t,n)},useMemo:function(t,n){var s=Th();return n=void 0===n?null:n,t=t(),s.memoizedState=[t,n],t},useReducer:function(t,n,s){var a=Th();return n=void 0!==s?s(n):n,a.memoizedState=a.baseState=n,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:n},a.queue=t,t=t.dispatch=xi.bind(null,Dr,t),[a.memoizedState,t]},useRef:function(t){var n;return t={current:t},Th().memoizedState=t},useState:hi,useDebugValue:ri,useDeferredValue:function(t){return Th().memoizedState=t},useTransition:function(){var t=hi(!1),n=t[0];return t=vi.bind(null,t[1]),Th().memoizedState=t,[n,t]},useMutableSource:function(){},useSyncExternalStore:function(t,n,s){var a=Dr,i=Th();if(fr){if(void 0===s)throw Error(p(407));s=s()}else{if(s=n(),null===va)throw Error(p(349));30&Mr||di(a,n,s)}i.memoizedState=s;var o={value:s,getSnapshot:n};return i.queue=o,mi(ai.bind(null,a,o,t),[t]),a.flags|=2048,bi(9,ci.bind(null,a,o,s,n),void 0,null),s},useId:function(){var t=Th(),n=va.identifierPrefix;if(fr){var s=hr,a=ur;n=":"+n+"R"+(s=(ur&~(1<<32-Ht(ur)-1)).toString(32)+s),0<(s=Ir++)&&(n+="H"+s.toString(32)),n+=":"}else n=":"+n+"r"+(s=Ur++).toString(32)+":";return t.memoizedState=n},unstable_isNewReconciler:!1},Hr={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(t){var n;return ui(Uh(),Or.memoizedState,t)},useTransition:function(){var t,n;return[Wh(Vh)[0],Uh().memoizedState]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},qr={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(t){var n=Uh();return null===Or?n.memoizedState=t:ui(n,Or.memoizedState,t)},useTransition:function(){var t,n;return[Xh(Vh)[0],Uh().memoizedState]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(t,n){if(t&&t.defaultProps){for(var s in n=ct({},n),t=t.defaultProps)void 0===n[s]&&(n[s]=t[s]);return n}return n}function Di(t,n,s,a){s=null==(s=s(a,n=t.memoizedState))?n:ct({},n,s),t.memoizedState=s,0===t.lanes&&(t.updateQueue.baseState=s)}var Wr={isMounted:function(t){return!!(t=t._reactInternals)&&Vb(t)===t},enqueueSetState:function(t,n,s){t=t._reactInternals;var a=R(),i=yi(t),o=mh(a,i);o.payload=n,null!=s&&(o.callback=s),null!==(n=nh(t,o,i))&&(gi(n,t,i,a),oh(n,t,i))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var a=R(),i=yi(t),o=mh(a,i);o.tag=1,o.payload=n,null!=s&&(o.callback=s),null!==(n=nh(t,o,i))&&(gi(n,t,i,a),oh(n,t,i))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=R(),a=yi(t),i=mh(s,a);i.tag=2,null!=n&&(i.callback=n),null!==(n=nh(t,i,a))&&(gi(n,t,a,s),oh(n,t,a))}};function Fi(t,n,s,a,i,o,l){return"function"==typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(a,o,l):!n.prototype||!n.prototype.isPureReactComponent||(!Ie(s,a)||!Ie(i,o))}function Gi(t,n,s){var a=!1,i=Qs,o=n.contextType;return"object"==typeof o&&null!==o?o=eh(o):(i=Zf(n)?er:Zs.current,o=(a=null!=(a=n.contextTypes))?Yf(t,i):Qs),n=new n(s,o),t.memoizedState=null!==n.state&&void 0!==n.state?n.state:null,n.updater=Wr,t.stateNode=n,n._reactInternals=t,a&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),n}function Hi(t,n,s,a){t=n.state,"function"==typeof n.componentWillReceiveProps&&n.componentWillReceiveProps(s,a),"function"==typeof n.UNSAFE_componentWillReceiveProps&&n.UNSAFE_componentWillReceiveProps(s,a),n.state!==t&&Wr.enqueueReplaceState(n,n.state,null)}function Ii(t,n,s,a){var i=t.stateNode;i.props=s,i.state=t.memoizedState,i.refs={},kh(t);var o=n.contextType;"object"==typeof o&&null!==o?i.context=eh(o):(o=Zf(n)?er:Zs.current,i.context=Yf(t,o)),i.state=t.memoizedState,"function"==typeof(o=n.getDerivedStateFromProps)&&(Di(t,n,o,s),i.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(n=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),n!==i.state&&Wr.enqueueReplaceState(i,i.state,null),qh(t,s,i,a),i.state=t.memoizedState),"function"==typeof i.componentDidMount&&(t.flags|=4194308)}function Ji(t,n){try{var s="",a=n;do{s+=Pa(a),a=a.return}while(a);var i=s}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:t,source:n,stack:i,digest:null}}function Ki(t,n,s){return{value:t,source:null,stack:null!=s?s:null,digest:null!=n?n:null}}function Li(t,n){try{console.error(n.value)}catch(s){setTimeout(function(){throw s})}}var Xr="function"==typeof WeakMap?WeakMap:Map;function Ni(t,n,s){(s=mh(-1,s)).tag=3,s.payload={element:null};var a=n.value;return s.callback=function(){za||(za=!0,$a=a),Li(t,n)},s}function Qi(t,n,s){(s=mh(-1,s)).tag=3;var a=t.type.getDerivedStateFromError;if("function"==typeof a){var i=n.value;s.payload=function(){return a(i)},s.callback=function(){Li(t,n)}}var o=t.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(s.callback=function(){Li(t,n),"function"!=typeof a&&(null===Ha?Ha=new Set([this]):Ha.add(this));var s=n.stack;this.componentDidCatch(n.value,{componentStack:null!==s?s:""})}),s}function Si(t,n,s){var a=t.pingCache;if(null===a){a=t.pingCache=new Xr;var i=new Set;a.set(n,i)}else void 0===(i=a.get(n))&&(i=new Set,a.set(n,i));i.has(s)||(i.add(s),t=Ti.bind(null,t,n,s),n.then(t,t))}function Ui(t){do{var n;if((n=13===t.tag)&&(n=null===(n=t.memoizedState)||null!==n.dehydrated),n)return t;t=t.return}while(null!==t);return null}function Vi(t,n,s,a,i){return 1&t.mode?(t.flags|=65536,t.lanes=i,t):(t===n?t.flags|=65536:(t.flags|=128,s.flags|=131072,s.flags&=-52805,1===s.tag&&(null===s.alternate?s.tag=17:((n=mh(-1,1)).tag=2,nh(s,n,1))),s.lanes|=1),t)}var Kr=He.ReactCurrentOwner,Gr=!1;function Xi(t,n,s,a){n.child=null===t?vr(n,null,s,a):yr(n,t.child,s,a)}function Yi(t,n,s,a,i){s=s.render;var o=n.ref;return ch(n,i),a=Nh(t,n,s,a,o,i),s=Sh(),null===t||Gr?(fr&&s&&vg(n),n.flags|=1,Xi(t,n,a,i),n.child):(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~i,Zi(t,n,i))}function $i(t,n,s,a,i){if(null===t){var o=s.type;return"function"!=typeof o||aj(o)||void 0!==o.defaultProps||null!==s.compare||void 0!==s.defaultProps?((t=Rg(s.type,null,a,n,n.mode,i)).ref=n.ref,t.return=n,n.child=t):(n.tag=15,n.type=o,bj(t,n,o,a,i))}if(o=t.child,0===(t.lanes&i)){var l=o.memoizedProps;if((s=null!==(s=s.compare)?s:Ie)(l,a)&&t.ref===n.ref)return Zi(t,n,i)}return n.flags|=1,(t=Pg(o,a)).ref=n.ref,t.return=n,n.child=t}function bj(t,n,s,a,i){if(null!==t){var o=t.memoizedProps;if(Ie(o,a)&&t.ref===n.ref){if(Gr=!1,n.pendingProps=a=o,0===(t.lanes&i))return n.lanes=t.lanes,Zi(t,n,i);131072&t.flags&&(Gr=!0)}}return cj(t,n,s,a,i)}function dj(t,n,s){var a=n.pendingProps,i=a.children,o=null!==t?t.memoizedState:null;if("hidden"===a.mode)if(1&n.mode){if(!(1073741824&s))return t=null!==o?o.baseLanes|s:s,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:t,cachePool:null,transitions:null},n.updateQueue=null,G(Na,wa),wa|=t,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=null!==o?o.baseLanes:s,G(Na,wa),wa|=a}else n.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(Na,wa),wa|=s;else null!==o?(a=o.baseLanes|s,n.memoizedState=null):a=s,G(Na,wa),wa|=a;return Xi(t,n,i,s),n.child}function gj(t,n){var s=n.ref;(null===t&&null!==s||null!==t&&t.ref!==s)&&(n.flags|=512,n.flags|=2097152)}function cj(t,n,s,a,i){var o=Zf(s)?er:Zs.current;return o=Yf(n,o),ch(n,i),s=Nh(t,n,s,a,o,i),a=Sh(),null===t||Gr?(fr&&a&&vg(n),n.flags|=1,Xi(t,n,s,i),n.child):(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~i,Zi(t,n,i))}function hj(t,n,s,a,i){if(Zf(s)){var o=!0;cg(n)}else o=!1;if(ch(n,i),null===n.stateNode)ij(t,n),Gi(n,s,a),Ii(n,s,a,i),a=!0;else if(null===t){var l=n.stateNode,u=n.memoizedProps;l.props=u;var m=l.context,f=s.contextType;"object"==typeof f&&null!==f?f=eh(f):f=Yf(n,f=Zf(s)?er:Zs.current);var x=s.getDerivedStateFromProps,y="function"==typeof x||"function"==typeof l.getSnapshotBeforeUpdate;y||"function"!=typeof l.UNSAFE_componentWillReceiveProps&&"function"!=typeof l.componentWillReceiveProps||(u!==a||m!==f)&&Hi(n,l,a,f),Sr=!1;var j=n.memoizedState;l.state=j,qh(n,a,l,i),m=n.memoizedState,u!==a||j!==m||Js.current||Sr?("function"==typeof x&&(Di(n,s,x,a),m=n.memoizedState),(u=Sr||Fi(n,s,u,a,j,m,f))?(y||"function"!=typeof l.UNSAFE_componentWillMount&&"function"!=typeof l.componentWillMount||("function"==typeof l.componentWillMount&&l.componentWillMount(),"function"==typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount()),"function"==typeof l.componentDidMount&&(n.flags|=4194308)):("function"==typeof l.componentDidMount&&(n.flags|=4194308),n.memoizedProps=a,n.memoizedState=m),l.props=a,l.state=m,l.context=f,a=u):("function"==typeof l.componentDidMount&&(n.flags|=4194308),a=!1)}else{l=n.stateNode,lh(t,n),u=n.memoizedProps,f=n.type===n.elementType?u:Ci(n.type,u),l.props=f,y=n.pendingProps,j=l.context,"object"==typeof(m=s.contextType)&&null!==m?m=eh(m):m=Yf(n,m=Zf(s)?er:Zs.current);var w=s.getDerivedStateFromProps;(x="function"==typeof w||"function"==typeof l.getSnapshotBeforeUpdate)||"function"!=typeof l.UNSAFE_componentWillReceiveProps&&"function"!=typeof l.componentWillReceiveProps||(u!==y||j!==m)&&Hi(n,l,a,m),Sr=!1,j=n.memoizedState,l.state=j,qh(n,a,l,i);var N=n.memoizedState;u!==y||j!==N||Js.current||Sr?("function"==typeof w&&(Di(n,s,w,a),N=n.memoizedState),(f=Sr||Fi(n,s,f,a,j,N,m)||!1)?(x||"function"!=typeof l.UNSAFE_componentWillUpdate&&"function"!=typeof l.componentWillUpdate||("function"==typeof l.componentWillUpdate&&l.componentWillUpdate(a,N,m),"function"==typeof l.UNSAFE_componentWillUpdate&&l.UNSAFE_componentWillUpdate(a,N,m)),"function"==typeof l.componentDidUpdate&&(n.flags|=4),"function"==typeof l.getSnapshotBeforeUpdate&&(n.flags|=1024)):("function"!=typeof l.componentDidUpdate||u===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),"function"!=typeof l.getSnapshotBeforeUpdate||u===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),n.memoizedProps=a,n.memoizedState=N),l.props=a,l.state=N,l.context=m,a=f):("function"!=typeof l.componentDidUpdate||u===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),"function"!=typeof l.getSnapshotBeforeUpdate||u===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),a=!1)}return jj(t,n,s,a,o,i)}function jj(t,n,s,a,i,o){gj(t,n);var l=!!(128&n.flags);if(!a&&!l)return i&&dg(n,s,!1),Zi(t,n,o);a=n.stateNode,Kr.current=n;var u=l&&"function"!=typeof s.getDerivedStateFromError?null:a.render();return n.flags|=1,null!==t&&l?(n.child=yr(n,t.child,null,o),n.child=yr(n,null,u,o)):Xi(t,n,u,o),n.memoizedState=a.state,i&&dg(n,s,!0),n.child}function kj(t){var n=t.stateNode;n.pendingContext?ag(t,n.pendingContext,n.pendingContext!==n.context):n.context&&ag(t,n.context,!1),yh(t,n.containerInfo)}function lj(t,n,s,a,i){return Ig(),Jg(i),n.flags|=256,Xi(t,n,s,a),n.child}var Yr={dehydrated:null,treeContext:null,retryLane:0},Qr,Zr,Jr,ea;function nj(t){return{baseLanes:t,cachePool:null,transitions:null}}function oj(t,n,s){var a=n.pendingProps,i=_r.current,o=!1,l=!!(128&n.flags),u;if((u=l)||(u=(null===t||null!==t.memoizedState)&&!!(2&i)),u?(o=!0,n.flags&=-129):null!==t&&null===t.memoizedState||(i|=1),G(_r,1&i),null===t)return Eg(n),null!==(t=n.memoizedState)&&null!==(t=t.dehydrated)?(1&n.mode?"$!"===t.data?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(l=a.children,t=a.fallback,o?(a=n.mode,o=n.child,l={mode:"hidden",children:l},1&a||null===o?o=pj(l,a,0,null):(o.childLanes=0,o.pendingProps=l),t=Tg(t,a,s,null),o.return=n,t.return=n,o.sibling=t,n.child=o,n.child.memoizedState=nj(s),n.memoizedState=Yr,t):qj(n,l));if(null!==(i=t.memoizedState)&&null!==(u=i.dehydrated))return rj(t,n,l,a,u,i,s);if(o){o=a.fallback,l=n.mode,u=(i=t.child).sibling;var m={mode:"hidden",children:a.children};return 1&l||n.child===i?(a=Pg(i,m)).subtreeFlags=14680064&i.subtreeFlags:((a=n.child).childLanes=0,a.pendingProps=m,n.deletions=null),null!==u?o=Pg(u,o):(o=Tg(o,l,s,null)).flags|=2,o.return=n,a.return=n,a.sibling=o,n.child=a,a=o,o=n.child,l=null===(l=t.child.memoizedState)?nj(s):{baseLanes:l.baseLanes|s,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=t.childLanes&~s,n.memoizedState=Yr,a}return t=(o=t.child).sibling,a=Pg(o,{mode:"visible",children:a.children}),!(1&n.mode)&&(a.lanes=s),a.return=n,a.sibling=null,null!==t&&(null===(s=n.deletions)?(n.deletions=[t],n.flags|=16):s.push(t)),n.child=a,n.memoizedState=null,a}function qj(t,n){return(n=pj({mode:"visible",children:n},t.mode,0,null)).return=t,t.child=n}function sj(t,n,s,a){return null!==a&&Jg(a),yr(n,t.child,null,s),(t=qj(n,n.pendingProps.children)).flags|=2,n.memoizedState=null,t}function rj(t,n,s,a,i,o,l){if(s)return 256&n.flags?(n.flags&=-257,sj(t,n,l,a=Ki(Error(p(422))))):null!==n.memoizedState?(n.child=t.child,n.flags|=128,null):(o=a.fallback,i=n.mode,a=pj({mode:"visible",children:a.children},i,0,null),(o=Tg(o,i,l,null)).flags|=2,a.return=n,o.return=n,a.sibling=o,n.child=a,1&n.mode&&yr(n,t.child,null,l),n.child.memoizedState=nj(l),n.memoizedState=Yr,o);if(!(1&n.mode))return sj(t,n,l,null);if("$!"===i.data){if(a=i.nextSibling&&i.nextSibling.dataset)var u=a.dgst;return a=u,sj(t,n,l,a=Ki(o=Error(p(419)),a,void 0))}if(u=0!==(l&t.childLanes),Gr||u){if(null!==(a=va)){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(a.suspendedLanes|l))?0:i)&&i!==o.retryLane&&(o.retryLane=i,ih(t,i),gi(a,t,i,-1))}return tj(),sj(t,n,l,a=Ki(Error(p(421))))}return"$?"===i.data?(n.flags|=128,n.child=t.child,n=uj.bind(null,t),i._reactRetry=n,null):(t=o.treeContext,pr=Lf(i.nextSibling),mr=n,fr=!0,xr=null,null!==t&&(lr[cr++]=ur,lr[cr++]=hr,lr[cr++]=dr,ur=t.id,hr=t.overflow,dr=n),(n=qj(n,a.children)).flags|=4096,n)}function vj(t,n,s){t.lanes|=n;var a=t.alternate;null!==a&&(a.lanes|=n),bh(t.return,n,s)}function wj(t,n,s,a,i){var o=t.memoizedState;null===o?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:a,tail:s,tailMode:i}:(o.isBackwards=n,o.rendering=null,o.renderingStartTime=0,o.last=a,o.tail=s,o.tailMode=i)}function xj(t,n,s){var a=n.pendingProps,i=a.revealOrder,o=a.tail;if(Xi(t,n,a.children,s),2&(a=_r.current))a=1&a|2,n.flags|=128;else{if(null!==t&&128&t.flags)e:for(t=n.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&vj(t,s,n);else if(19===t.tag)vj(t,s,n);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;null===t.sibling;){if(null===t.return||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}a&=1}if(G(_r,a),1&n.mode)switch(i){case"forwards":for(s=n.child,i=null;null!==s;)null!==(t=s.alternate)&&null===Ch(t)&&(i=s),s=s.sibling;null===(s=i)?(i=n.child,n.child=null):(i=s.sibling,s.sibling=null),wj(n,!1,i,s,o);break;case"backwards":for(s=null,i=n.child,n.child=null;null!==i;){if(null!==(t=i.alternate)&&null===Ch(t)){n.child=i;break}t=i.sibling,i.sibling=s,s=i,i=t}wj(n,!0,s,null,o);break;case"together":wj(n,!1,null,null,void 0);break;default:n.memoizedState=null}else n.memoizedState=null;return n.child}function ij(t,n){!(1&n.mode)&&null!==t&&(t.alternate=null,n.alternate=null,n.flags|=2)}function Zi(t,n,s){if(null!==t&&(n.dependencies=t.dependencies),Ea|=n.lanes,0===(s&n.childLanes))return null;if(null!==t&&n.child!==t.child)throw Error(p(153));if(null!==n.child){for(s=Pg(t=n.child,t.pendingProps),n.child=s,s.return=n;null!==t.sibling;)t=t.sibling,(s=s.sibling=Pg(t,t.pendingProps)).return=n;s.sibling=null}return n.child}function yj(t,n,s){switch(n.tag){case 3:kj(n),Ig();break;case 5:Ah(n);break;case 1:Zf(n.type)&&cg(n);break;case 4:yh(n,n.stateNode.containerInfo);break;case 10:var a=n.type._context,i=n.memoizedProps.value;G(br,a._currentValue),a._currentValue=i;break;case 13:if(null!==(a=n.memoizedState))return null!==a.dehydrated?(G(_r,1&_r.current),n.flags|=128,null):0!==(s&n.child.childLanes)?oj(t,n,s):(G(_r,1&_r.current),null!==(t=Zi(t,n,s))?t.sibling:null);G(_r,1&_r.current);break;case 19:if(a=0!==(s&n.childLanes),128&t.flags){if(a)return xj(t,n,s);n.flags|=128}if(null!==(i=n.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),G(_r,_r.current),a)break;return null;case 22:case 23:return n.lanes=0,dj(t,n,s)}return Zi(t,n,s)}function Dj(t,n){if(!fr)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;null!==n;)null!==n.alternate&&(s=n),n=n.sibling;null===s?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var a=null;null!==s;)null!==s.alternate&&(a=s),s=s.sibling;null===a?n||null===t.tail?t.tail=null:t.tail.sibling=null:a.sibling=null}}function S(t){var n=null!==t.alternate&&t.alternate.child===t.child,s=0,a=0;if(n)for(var i=t.child;null!==i;)s|=i.lanes|i.childLanes,a|=14680064&i.subtreeFlags,a|=14680064&i.flags,i.return=t,i=i.sibling;else for(i=t.child;null!==i;)s|=i.lanes|i.childLanes,a|=i.subtreeFlags,a|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=a,t.childLanes=s,n}function Ej(t,n,s){var a=n.pendingProps;switch(wg(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(n),null;case 1:return Zf(n.type)&&$f(),S(n),null;case 3:return a=n.stateNode,zh(),E(Js),E(Zs),Eh(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),null!==t&&null!==t.child||(Gg(n)?n.flags|=4:null===t||t.memoizedState.isDehydrated&&!(256&n.flags)||(n.flags|=1024,null!==xr&&(Fj(xr),xr=null))),Zr(t,n),S(n),null;case 5:Bh(n);var i=xh(Tr.current);if(s=n.type,null!==t&&null!=n.stateNode)Jr(t,n,s,a,i),t.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!a){if(null===n.stateNode)throw Error(p(166));return S(n),null}if(t=xh(Er.current),Gg(n)){a=n.stateNode,s=n.type;var o=n.memoizedProps;switch(a[$s]=n,a[Hs]=o,t=!!(1&n.mode),s){case"dialog":D("cancel",a),D("close",a);break;case"iframe":case"object":case"embed":D("load",a);break;case"video":case"audio":for(i=0;i<Rs.length;i++)D(Rs[i],a);break;case"source":D("error",a);break;case"img":case"image":case"link":D("error",a),D("load",a);break;case"details":D("toggle",a);break;case"input":Za(a,o),D("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!o.multiple},D("invalid",a);break;case"textarea":hb(a,o),D("invalid",a)}for(var l in ub(s,o),i=null,o)if(o.hasOwnProperty(l)){var u=o[l];"children"===l?"string"==typeof u?a.textContent!==u&&(!0!==o.suppressHydrationWarning&&Af(a.textContent,u,t),i=["children",u]):"number"==typeof u&&a.textContent!==""+u&&(!0!==o.suppressHydrationWarning&&Af(a.textContent,u,t),i=["children",""+u]):we.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&D("scroll",a)}switch(s){case"input":Va(a),db(a,o,!0);break;case"textarea":Va(a),jb(a);break;case"select":case"option":break;default:"function"==typeof o.onClick&&(a.onclick=Bf)}a=i,n.updateQueue=a,null!==a&&(n.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===t&&(t=kb(s)),"http://www.w3.org/1999/xhtml"===t?"script"===s?((t=l.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"==typeof a.is?t=l.createElement(s,{is:a.is}):(t=l.createElement(s),"select"===s&&(l=t,a.multiple?l.multiple=!0:a.size&&(l.size=a.size))):t=l.createElementNS(t,s),t[$s]=n,t[Hs]=a,Qr(t,n,!1,!1),n.stateNode=t;e:{switch(l=vb(s,a),s){case"dialog":D("cancel",t),D("close",t),i=a;break;case"iframe":case"object":case"embed":D("load",t),i=a;break;case"video":case"audio":for(i=0;i<Rs.length;i++)D(Rs[i],t);i=a;break;case"source":D("error",t),i=a;break;case"img":case"image":case"link":D("error",t),D("load",t),i=a;break;case"details":D("toggle",t),i=a;break;case"input":Za(t,a),i=Ya(t,a),D("invalid",t);break;case"option":i=a;break;case"select":t._wrapperState={wasMultiple:!!a.multiple},i=ct({},a,{value:void 0}),D("invalid",t);break;case"textarea":hb(t,a),i=gb(t,a),D("invalid",t);break;default:i=a}for(o in ub(s,i),u=i)if(u.hasOwnProperty(o)){var m=u[o];"style"===o?sb(t,m):"dangerouslySetInnerHTML"===o?null!=(m=m?m.__html:void 0)&&pt(t,m):"children"===o?"string"==typeof m?("textarea"!==s||""!==m)&&ob(t,m):"number"==typeof m&&ob(t,""+m):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(we.hasOwnProperty(o)?null!=m&&"onScroll"===o&&D("scroll",t):null!=m&&ta(t,o,m,l))}switch(s){case"input":Va(t),db(t,a,!1);break;case"textarea":Va(t),jb(t);break;case"option":null!=a.value&&t.setAttribute("value",""+Sa(a.value));break;case"select":t.multiple=!!a.multiple,null!=(o=a.value)?fb(t,!!a.multiple,o,!1):null!=a.defaultValue&&fb(t,!!a.multiple,a.defaultValue,!0);break;default:"function"==typeof i.onClick&&(t.onclick=Bf)}switch(s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(n.flags|=4)}null!==n.ref&&(n.flags|=512,n.flags|=2097152)}return S(n),null;case 6:if(t&&null!=n.stateNode)ea(t,n,t.memoizedProps,a);else{if("string"!=typeof a&&null===n.stateNode)throw Error(p(166));if(s=xh(Tr.current),xh(Er.current),Gg(n)){if(a=n.stateNode,s=n.memoizedProps,a[$s]=n,(o=a.nodeValue!==s)&&null!==(t=mr))switch(t.tag){case 3:Af(a.nodeValue,s,!!(1&t.mode));break;case 5:!0!==t.memoizedProps.suppressHydrationWarning&&Af(a.nodeValue,s,!!(1&t.mode))}o&&(n.flags|=4)}else(a=(9===s.nodeType?s:s.ownerDocument).createTextNode(a))[$s]=n,n.stateNode=a}return S(n),null;case 13:if(E(_r),a=n.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(fr&&null!==pr&&1&n.mode&&!(128&n.flags))Hg(),Ig(),n.flags|=98560,o=!1;else if(o=Gg(n),null!==a&&null!==a.dehydrated){if(null===t){if(!o)throw Error(p(318));if(!(o=null!==(o=n.memoizedState)?o.dehydrated:null))throw Error(p(317));o[$s]=n}else Ig(),!(128&n.flags)&&(n.memoizedState=null),n.flags|=4;S(n),o=!1}else null!==xr&&(Fj(xr),xr=null),o=!0;if(!o)return 65536&n.flags?n:null}return 128&n.flags?(n.lanes=s,n):((a=null!==a)!==(null!==t&&null!==t.memoizedState)&&a&&(n.child.flags|=8192,1&n.mode&&(null===t||1&_r.current?0===ka&&(ka=3):tj())),null!==n.updateQueue&&(n.flags|=4),S(n),null);case 4:return zh(),Zr(t,n),null===t&&sf(n.stateNode.containerInfo),S(n),null;case 10:return ah(n.type._context),S(n),null;case 17:return Zf(n.type)&&$f(),S(n),null;case 19:if(E(_r),null===(o=n.memoizedState))return S(n),null;if(a=!!(128&n.flags),null===(l=o.rendering))if(a)Dj(o,!1);else{if(0!==ka||null!==t&&128&t.flags)for(t=n.child;null!==t;){if(null!==(l=Ch(t))){for(n.flags|=128,Dj(o,!1),null!==(a=l.updateQueue)&&(n.updateQueue=a,n.flags|=4),n.subtreeFlags=0,a=s,s=n.child;null!==s;)t=a,(o=s).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,t=l.dependencies,o.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),s=s.sibling;return G(_r,1&_r.current|2),n.child}t=t.sibling}null!==o.tail&&Dt()>Ba&&(n.flags|=128,a=!0,Dj(o,!1),n.lanes=4194304)}else{if(!a)if(null!==(t=Ch(l))){if(n.flags|=128,a=!0,null!==(s=t.updateQueue)&&(n.updateQueue=s,n.flags|=4),Dj(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!fr)return S(n),null}else 2*Dt()-o.renderingStartTime>Ba&&1073741824!==s&&(n.flags|=128,a=!0,Dj(o,!1),n.lanes=4194304);o.isBackwards?(l.sibling=n.child,n.child=l):(null!==(s=o.last)?s.sibling=l:n.child=l,o.last=l)}return null!==o.tail?(n=o.tail,o.rendering=n,o.tail=n.sibling,o.renderingStartTime=Dt(),n.sibling=null,s=_r.current,G(_r,a?1&s|2:1&s),n):(S(n),null);case 22:case 23:return Hj(),a=null!==n.memoizedState,null!==t&&null!==t.memoizedState!==a&&(n.flags|=8192),a&&1&n.mode?!!(1073741824&wa)&&(S(n),6&n.subtreeFlags&&(n.flags|=8192)):S(n),null;case 24:return null;case 25:return null}throw Error(p(156,n.tag))}function Ij(t,n){switch(wg(n),n.tag){case 1:return Zf(n.type)&&$f(),65536&(t=n.flags)?(n.flags=-65537&t|128,n):null;case 3:return zh(),E(Js),E(Zs),Eh(),65536&(t=n.flags)&&!(128&t)?(n.flags=-65537&t|128,n):null;case 5:return Bh(n),null;case 13:if(E(_r),null!==(t=n.memoizedState)&&null!==t.dehydrated){if(null===n.alternate)throw Error(p(340));Ig()}return 65536&(t=n.flags)?(n.flags=-65537&t|128,n):null;case 19:return E(_r),null;case 4:return zh(),null;case 10:return ah(n.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}Qr=function(t,n){for(var s=n.child;null!==s;){if(5===s.tag||6===s.tag)t.appendChild(s.stateNode);else if(4!==s.tag&&null!==s.child){s.child.return=s,s=s.child;continue}if(s===n)break;for(;null===s.sibling;){if(null===s.return||s.return===n)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},Zr=function(){},Jr=function(t,n,s,a){var i=t.memoizedProps;if(i!==a){t=n.stateNode,xh(Er.current);var o=null,l;switch(s){case"input":i=Ya(t,i),a=Ya(t,a),o=[];break;case"select":i=ct({},i,{value:void 0}),a=ct({},a,{value:void 0}),o=[];break;case"textarea":i=gb(t,i),a=gb(t,a),o=[];break;default:"function"!=typeof i.onClick&&"function"==typeof a.onClick&&(t.onclick=Bf)}for(f in ub(s,a),s=null,i)if(!a.hasOwnProperty(f)&&i.hasOwnProperty(f)&&null!=i[f])if("style"===f){var u=i[f];for(l in u)u.hasOwnProperty(l)&&(s||(s={}),s[l]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(we.hasOwnProperty(f)?o||(o=[]):(o=o||[]).push(f,null));for(f in a){var m=a[f];if(u=null!=i?i[f]:void 0,a.hasOwnProperty(f)&&m!==u&&(null!=m||null!=u))if("style"===f)if(u){for(l in u)!u.hasOwnProperty(l)||m&&m.hasOwnProperty(l)||(s||(s={}),s[l]="");for(l in m)m.hasOwnProperty(l)&&u[l]!==m[l]&&(s||(s={}),s[l]=m[l])}else s||(o||(o=[]),o.push(f,s)),s=m;else"dangerouslySetInnerHTML"===f?(m=m?m.__html:void 0,u=u?u.__html:void 0,null!=m&&u!==m&&(o=o||[]).push(f,m)):"children"===f?"string"!=typeof m&&"number"!=typeof m||(o=o||[]).push(f,""+m):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(we.hasOwnProperty(f)?(null!=m&&"onScroll"===f&&D("scroll",t),o||u===m||(o=[])):(o=o||[]).push(f,m))}s&&(o=o||[]).push("style",s);var f=o;(n.updateQueue=f)&&(n.flags|=4)}},ea=function(t,n,s,a){s!==a&&(n.flags|=4)};var na=!1,ra=!1,aa="function"==typeof WeakSet?WeakSet:Set,ia=null;function Lj(t,n){var s=t.ref;if(null!==s)if("function"==typeof s)try{s(null)}catch(a){W(t,n,a)}else s.current=null}function Mj(t,n,s){try{s()}catch(a){W(t,n,a)}}var la=!1;function Oj(t,n){if(Os=mn,Ne(t=Me())){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{var a=(s=(s=t.ownerDocument)&&s.defaultView||window).getSelection&&s.getSelection();if(a&&0!==a.rangeCount){s=a.anchorNode;var i=a.anchorOffset,o=a.focusNode;a=a.focusOffset;try{s.nodeType,o.nodeType}catch(L){s=null;break e}var l=0,u=-1,m=-1,f=0,x=0,y=t,j=null;t:for(;;){for(var w;y!==s||0!==i&&3!==y.nodeType||(u=l+i),y!==o||0!==a&&3!==y.nodeType||(m=l+a),3===y.nodeType&&(l+=y.nodeValue.length),null!==(w=y.firstChild);)j=y,y=w;for(;;){if(y===t)break t;if(j===s&&++f===i&&(u=l),j===o&&++x===a&&(m=l),null!==(w=y.nextSibling))break;j=(y=j).parentNode}y=w}s=-1===u||-1===m?null:{start:u,end:m}}else s=null}s=s||{start:0,end:0}}else s=null;for(Vs={focusedElem:t,selectionRange:s},mn=!1,ia=n;null!==ia;)if(t=(n=ia).child,1028&n.subtreeFlags&&null!==t)t.return=n,ia=t;else for(;null!==ia;){n=ia;try{var N=n.alternate;if(1024&n.flags)switch(n.tag){case 0:case 11:case 15:break;case 1:if(null!==N){var k=N.memoizedProps,C=N.memoizedState,T=n.stateNode,_=T.getSnapshotBeforeUpdate(n.elementType===n.type?k:Ci(n.type,k),C);T.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var A=n.stateNode.containerInfo;1===A.nodeType?A.textContent="":9===A.nodeType&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163))}}catch(L){W(n,n.return,L)}if(null!==(t=n.sibling)){t.return=n.return,ia=t;break}ia=n.return}return N=la,la=!1,N}function Pj(t,n,s){var a=n.updateQueue;if(null!==(a=null!==a?a.lastEffect:null)){var i=a=a.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,void 0!==o&&Mj(n,s,o)}i=i.next}while(i!==a)}}function Qj(t,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var s=n=n.next;do{if((s.tag&t)===t){var a=s.create;s.destroy=a()}s=s.next}while(s!==n)}}function Rj(t){var n=t.ref;if(null!==n){var s=t.stateNode;switch(t.tag){case 5:t=s;break;default:t=s}"function"==typeof n?n(t):n.current=t}}function Sj(t){var n=t.alternate;null!==n&&(t.alternate=null,Sj(n)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&(null!==(n=t.stateNode)&&(delete n[$s],delete n[Hs],delete n[Ws],delete n[Xs],delete n[Ks])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Tj(t){return 5===t.tag||3===t.tag||4===t.tag}function Uj(t){e:for(;;){for(;null===t.sibling;){if(null===t.return||Tj(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue e;if(null===t.child||4===t.tag)continue e;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function Vj(t,n,s){var a=t.tag;if(5===a||6===a)t=t.stateNode,n?8===s.nodeType?s.parentNode.insertBefore(t,n):s.insertBefore(t,n):(8===s.nodeType?(n=s.parentNode).insertBefore(t,s):(n=s).appendChild(t),null!=(s=s._reactRootContainer)||null!==n.onclick||(n.onclick=Bf));else if(4!==a&&null!==(t=t.child))for(Vj(t,n,s),t=t.sibling;null!==t;)Vj(t,n,s),t=t.sibling}function Wj(t,n,s){var a=t.tag;if(5===a||6===a)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(4!==a&&null!==(t=t.child))for(Wj(t,n,s),t=t.sibling;null!==t;)Wj(t,n,s),t=t.sibling}var ca=null,da=!1;function Yj(t,n,s){for(s=s.child;null!==s;)Zj(t,n,s),s=s.sibling}function Zj(t,n,s){if($t&&"function"==typeof $t.onCommitFiberUnmount)try{$t.onCommitFiberUnmount(zt,s)}catch(u){}switch(s.tag){case 5:ra||Lj(s,n);case 6:var a=ca,i=da;ca=null,Yj(t,n,s),da=i,null!==(ca=a)&&(da?(t=ca,s=s.stateNode,8===t.nodeType?t.parentNode.removeChild(s):t.removeChild(s)):ca.removeChild(s.stateNode));break;case 18:null!==ca&&(da?(t=ca,s=s.stateNode,8===t.nodeType?Kf(t.parentNode,s):1===t.nodeType&&Kf(t,s),bd(t)):Kf(ca,s.stateNode));break;case 4:a=ca,i=da,ca=s.stateNode.containerInfo,da=!0,Yj(t,n,s),ca=a,da=i;break;case 0:case 11:case 14:case 15:if(!ra&&(null!==(a=s.updateQueue)&&null!==(a=a.lastEffect))){i=a=a.next;do{var o=i,l=o.destroy;o=o.tag,void 0!==l&&(2&o||4&o)&&Mj(s,n,l),i=i.next}while(i!==a)}Yj(t,n,s);break;case 1:if(!ra&&(Lj(s,n),"function"==typeof(a=s.stateNode).componentWillUnmount))try{a.props=s.memoizedProps,a.state=s.memoizedState,a.componentWillUnmount()}catch(u){W(s,n,u)}Yj(t,n,s);break;case 21:Yj(t,n,s);break;case 22:1&s.mode?(ra=(a=ra)||null!==s.memoizedState,Yj(t,n,s),ra=a):Yj(t,n,s);break;default:Yj(t,n,s)}}function ak(t){var n=t.updateQueue;if(null!==n){t.updateQueue=null;var s=t.stateNode;null===s&&(s=t.stateNode=new aa),n.forEach(function(n){var a=bk.bind(null,t,n);s.has(n)||(s.add(n),n.then(a,a))})}}function ck(t,n){var s=n.deletions;if(null!==s)for(var a=0;a<s.length;a++){var i=s[a];try{var o=t,l=n,u=l;e:for(;null!==u;){switch(u.tag){case 5:ca=u.stateNode,da=!1;break e;case 3:ca=u.stateNode.containerInfo,da=!0;break e;case 4:ca=u.stateNode.containerInfo,da=!0;break e}u=u.return}if(null===ca)throw Error(p(160));Zj(o,l,i),ca=null,da=!1;var m=i.alternate;null!==m&&(m.return=null),i.return=null}catch(f){W(i,n,f)}}if(12854&n.subtreeFlags)for(n=n.child;null!==n;)dk(n,t),n=n.sibling}function dk(t,n){var s=t.alternate,a=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ck(n,t),ek(t),4&a){try{Pj(3,t,t.return),Qj(3,t)}catch(k){W(t,t.return,k)}try{Pj(5,t,t.return)}catch(k){W(t,t.return,k)}}break;case 1:ck(n,t),ek(t),512&a&&null!==s&&Lj(s,s.return);break;case 5:if(ck(n,t),ek(t),512&a&&null!==s&&Lj(s,s.return),32&t.flags){var i=t.stateNode;try{ob(i,"")}catch(k){W(t,t.return,k)}}if(4&a&&null!=(i=t.stateNode)){var o=t.memoizedProps,l=null!==s?s.memoizedProps:o,u=t.type,m=t.updateQueue;if(t.updateQueue=null,null!==m)try{"input"===u&&"radio"===o.type&&null!=o.name&&ab(i,o),vb(u,l);var f=vb(u,o);for(l=0;l<m.length;l+=2){var x=m[l],y=m[l+1];"style"===x?sb(i,y):"dangerouslySetInnerHTML"===x?pt(i,y):"children"===x?ob(i,y):ta(i,x,y,f)}switch(u){case"input":bb(i,o);break;case"textarea":ib(i,o);break;case"select":var j=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var w=o.value;null!=w?fb(i,!!o.multiple,w,!1):j!==!!o.multiple&&(null!=o.defaultValue?fb(i,!!o.multiple,o.defaultValue,!0):fb(i,!!o.multiple,o.multiple?[]:"",!1))}i[Hs]=o}catch(k){W(t,t.return,k)}}break;case 6:if(ck(n,t),ek(t),4&a){if(null===t.stateNode)throw Error(p(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(k){W(t,t.return,k)}}break;case 3:if(ck(n,t),ek(t),4&a&&null!==s&&s.memoizedState.isDehydrated)try{bd(n.containerInfo)}catch(k){W(t,t.return,k)}break;case 4:ck(n,t),ek(t);break;case 13:ck(n,t),ek(t),8192&(i=t.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Fa=Dt())),4&a&&ak(t);break;case 22:if(x=null!==s&&null!==s.memoizedState,1&t.mode?(ra=(f=ra)||x,ck(n,t),ra=f):ck(n,t),ek(t),8192&a){if(f=null!==t.memoizedState,(t.stateNode.isHidden=f)&&!x&&1&t.mode)for(ia=t,x=t.child;null!==x;){for(y=ia=x;null!==ia;){switch(w=(j=ia).child,j.tag){case 0:case 11:case 14:case 15:Pj(4,j,j.return);break;case 1:Lj(j,j.return);var N=j.stateNode;if("function"==typeof N.componentWillUnmount){a=j,s=j.return;try{n=a,N.props=n.memoizedProps,N.state=n.memoizedState,N.componentWillUnmount()}catch(k){W(a,s,k)}}break;case 5:Lj(j,j.return);break;case 22:if(null!==j.memoizedState){gk(y);continue}}null!==w?(w.return=j,ia=w):gk(y)}x=x.sibling}e:for(x=null,y=t;;){if(5===y.tag){if(null===x){x=y;try{i=y.stateNode,f?"function"==typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=y.stateNode,l=null!=(m=y.memoizedProps.style)&&m.hasOwnProperty("display")?m.display:null,u.style.display=rb("display",l))}catch(k){W(t,t.return,k)}}}else if(6===y.tag){if(null===x)try{y.stateNode.nodeValue=f?"":y.memoizedProps}catch(k){W(t,t.return,k)}}else if((22!==y.tag&&23!==y.tag||null===y.memoizedState||y===t)&&null!==y.child){y.child.return=y,y=y.child;continue}if(y===t)break e;for(;null===y.sibling;){if(null===y.return||y.return===t)break e;x===y&&(x=null),y=y.return}x===y&&(x=null),y.sibling.return=y.return,y=y.sibling}}break;case 19:ck(n,t),ek(t),4&a&&ak(t);break;case 21:break;default:ck(n,t),ek(t)}}function ek(t){var n=t.flags;if(2&n){try{e:{for(var s=t.return;null!==s;){if(Tj(s)){var a=s;break e}s=s.return}throw Error(p(160))}switch(a.tag){case 5:var i=a.stateNode,o;32&a.flags&&(ob(i,""),a.flags&=-33),Wj(t,Uj(t),i);break;case 3:case 4:var l=a.stateNode.containerInfo,u;Vj(t,Uj(t),l);break;default:throw Error(p(161))}}catch(m){W(t,t.return,m)}t.flags&=-3}4096&n&&(t.flags&=-4097)}function hk(t,n,s){ia=t,ik(t)}function ik(t,n,s){for(var a=!!(1&t.mode);null!==ia;){var i=ia,o=i.child;if(22===i.tag&&a){var l=null!==i.memoizedState||na;if(!l){var u=i.alternate,m=null!==u&&null!==u.memoizedState||ra;u=na;var f=ra;if(na=l,(ra=m)&&!f)for(ia=i;null!==ia;)m=(l=ia).child,22===l.tag&&null!==l.memoizedState?jk(i):null!==m?(m.return=l,ia=m):jk(i);for(;null!==o;)ia=o,ik(o),o=o.sibling;ia=i,na=u,ra=f}kk(t)}else 8772&i.subtreeFlags&&null!==o?(o.return=i,ia=o):kk(t)}}function kk(t){for(;null!==ia;){var n=ia;if(8772&n.flags){var s=n.alternate;try{if(8772&n.flags)switch(n.tag){case 0:case 11:case 15:ra||Qj(5,n);break;case 1:var a=n.stateNode;if(4&n.flags&&!ra)if(null===s)a.componentDidMount();else{var i=n.elementType===n.type?s.memoizedProps:Ci(n.type,s.memoizedProps);a.componentDidUpdate(i,s.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var o=n.updateQueue;null!==o&&sh(n,o,a);break;case 3:var l=n.updateQueue;if(null!==l){if(s=null,null!==n.child)switch(n.child.tag){case 5:s=n.child.stateNode;break;case 1:s=n.child.stateNode}sh(n,l,s)}break;case 5:var u=n.stateNode;if(null===s&&4&n.flags){s=u;var m=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":m.autoFocus&&s.focus();break;case"img":m.src&&(s.src=m.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(null===n.memoizedState){var f=n.alternate;if(null!==f){var x=f.memoizedState;if(null!==x){var y=x.dehydrated;null!==y&&bd(y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p(163))}ra||512&n.flags&&Rj(n)}catch(j){W(n,n.return,j)}}if(n===t){ia=null;break}if(null!==(s=n.sibling)){s.return=n.return,ia=s;break}ia=n.return}}function gk(t){for(;null!==ia;){var n=ia;if(n===t){ia=null;break}var s=n.sibling;if(null!==s){s.return=n.return,ia=s;break}ia=n.return}}function jk(t){for(;null!==ia;){var n=ia;try{switch(n.tag){case 0:case 11:case 15:var s=n.return;try{Qj(4,n)}catch(m){W(n,s,m)}break;case 1:var a=n.stateNode;if("function"==typeof a.componentDidMount){var i=n.return;try{a.componentDidMount()}catch(m){W(n,i,m)}}var o=n.return;try{Rj(n)}catch(m){W(n,o,m)}break;case 5:var l=n.return;try{Rj(n)}catch(m){W(n,l,m)}}}catch(m){W(n,n.return,m)}if(n===t){ia=null;break}var u=n.sibling;if(null!==u){u.return=n.return,ia=u;break}ia=n.return}}var ua=Math.ceil,ma=He.ReactCurrentDispatcher,xa=He.ReactCurrentOwner,ga=He.ReactCurrentBatchConfig,ya=0,va=null,ba=null,ja=0,wa=0,Na=Uf(0),ka=0,Ca=null,Ea=0,_a=0,Aa=0,La=null,Da=null,Fa=0,Ba=1/0,Ia=null,za=!1,$a=null,Ha=null,Ga=!1,Ja=null,Ei=0,Pi=0,_i=null,Ri=-1,Mi=0,Oi;function R(){return 6&ya?Dt():-1!==Ri?Ri:Ri=Dt()}function yi(t){return 1&t.mode?2&ya&&0!==ja?ja&-ja:null!==gr.transition?(0===Mi&&(Mi=yc()),Mi):0!==(t=Gt)?t:t=void 0===(t=window.event)?16:jd(t.type):1}function gi(t,n,s,a){if(50<Pi)throw Pi=0,_i=null,Error(p(185));Ac(t,s,a),2&ya&&t===va||(t===va&&(!(2&ya)&&(_a|=s),4===ka&&Ck(t,ja)),Dk(t,a),1===s&&0===ya&&!(1&n.mode)&&(Ba=Dt()+500,nr&&jg()))}function Dk(t,n){var s=t.callbackNode;wc(t,n);var a=uc(t,t===va?ja:0);if(0===a)null!==s&&At(s),t.callbackNode=null,t.callbackPriority=0;else if(n=a&-a,t.callbackPriority!==n){if(null!=s&&At(s),1===n)0===t.tag?ig(Ek.bind(null,t)):hg(Ek.bind(null,t)),Us(function(){!(6&ya)&&jg()}),s=null;else{switch(Dc(a)){case 1:s=Vt;break;case 4:s=Ft;break;case 16:s=Bt;break;case 536870912:s=Ut;break;default:s=Bt}s=Fk(s,Gk.bind(null,t))}t.callbackPriority=n,t.callbackNode=s}}function Gk(t,n){if(Ri=-1,Mi=0,6&ya)throw Error(p(327));var s=t.callbackNode;if(Hk()&&t.callbackNode!==s)return null;var a=uc(t,t===va?ja:0);if(0===a)return null;if(30&a||0!==(a&t.expiredLanes)||n)n=Ik(t,a);else{n=a;var i=ya;ya|=2;var o=Jk();for(va===t&&ja===n||(Ia=null,Ba=Dt()+500,Kk(t,n));;)try{Lk();break}catch(u){Mk(t,u)}$g(),ma.current=o,ya=i,null!==ba?n=0:(va=null,ja=0,n=ka)}if(0!==n){if(2===n&&(0!==(i=xc(t))&&(a=i,n=Nk(t,i))),1===n)throw s=Ca,Kk(t,0),Ck(t,a),Dk(t,Dt()),s;if(6===n)Ck(t,a);else{if(i=t.current.alternate,!(30&a||Ok(i)||(n=Ik(t,a),2===n&&(o=xc(t),0!==o&&(a=o,n=Nk(t,o))),1!==n)))throw s=Ca,Kk(t,0),Ck(t,a),Dk(t,Dt()),s;switch(t.finishedWork=i,t.finishedLanes=a,n){case 0:case 1:throw Error(p(345));case 2:Pk(t,Da,Ia);break;case 3:if(Ck(t,a),(130023424&a)===a&&10<(n=Fa+500-Dt())){if(0!==uc(t,0))break;if(((i=t.suspendedLanes)&a)!==a){R(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Fs(Pk.bind(null,t,Da,Ia),n);break}Pk(t,Da,Ia);break;case 4:if(Ck(t,a),(4194240&a)===a)break;for(n=t.eventTimes,i=-1;0<a;){var l=31-Ht(a);o=1<<l,(l=n[l])>i&&(i=l),a&=~o}if(a=i,10<(a=(120>(a=Dt()-a)?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*ua(a/1960))-a)){t.timeoutHandle=Fs(Pk.bind(null,t,Da,Ia),a);break}Pk(t,Da,Ia);break;case 5:Pk(t,Da,Ia);break;default:throw Error(p(329))}}}return Dk(t,Dt()),t.callbackNode===s?Gk.bind(null,t):null}function Nk(t,n){var s=La;return t.current.memoizedState.isDehydrated&&(Kk(t,n).flags|=256),2!==(t=Ik(t,n))&&(n=Da,Da=s,null!==n&&Fj(n)),t}function Fj(t){null===Da?Da=t:Da.push.apply(Da,t)}function Ok(t){for(var n=t;;){if(16384&n.flags){var s=n.updateQueue;if(null!==s&&null!==(s=s.stores))for(var a=0;a<s.length;a++){var i=s[a],o=i.getSnapshot;i=i.value;try{if(!hs(o(),i))return!1}catch(l){return!1}}}if(s=n.child,16384&n.subtreeFlags&&null!==s)s.return=n,n=s;else{if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ck(t,n){for(n&=~Aa,n&=~_a,t.suspendedLanes|=n,t.pingedLanes&=~n,t=t.expirationTimes;0<n;){var s=31-Ht(n),a=1<<s;t[s]=-1,n&=~a}}function Ek(t){if(6&ya)throw Error(p(327));Hk();var n=uc(t,0);if(!(1&n))return Dk(t,Dt()),null;var s=Ik(t,n);if(0!==t.tag&&2===s){var a=xc(t);0!==a&&(n=a,s=Nk(t,a))}if(1===s)throw s=Ca,Kk(t,0),Ck(t,n),Dk(t,Dt()),s;if(6===s)throw Error(p(345));return t.finishedWork=t.current.alternate,t.finishedLanes=n,Pk(t,Da,Ia),Dk(t,Dt()),null}function Qk(t,n){var s=ya;ya|=1;try{return t(n)}finally{0===(ya=s)&&(Ba=Dt()+500,nr&&jg())}}function Rk(t){null!==Ja&&0===Ja.tag&&!(6&ya)&&Hk();var n=ya;ya|=1;var s=ga.transition,a=Gt;try{if(ga.transition=null,Gt=1,t)return t()}finally{Gt=a,ga.transition=s,!(6&(ya=n))&&jg()}}function Hj(){wa=Na.current,E(Na)}function Kk(t,n){t.finishedWork=null,t.finishedLanes=0;var s=t.timeoutHandle;if(-1!==s&&(t.timeoutHandle=-1,Bs(s)),null!==ba)for(s=ba.return;null!==s;){var a=s;switch(wg(a),a.tag){case 1:null!=(a=a.type.childContextTypes)&&$f();break;case 3:zh(),E(Js),E(Zs),Eh();break;case 5:Bh(a);break;case 4:zh();break;case 13:E(_r);break;case 19:E(_r);break;case 10:ah(a.type._context);break;case 22:case 23:Hj()}s=s.return}if(va=t,ba=t=Pg(t.current,null),ja=wa=n,ka=0,Ca=null,Aa=_a=Ea=0,Da=La=null,null!==kr){for(n=0;n<kr.length;n++)if(null!==(a=(s=kr[n]).interleaved)){s.interleaved=null;var i=a.next,o=s.pending;if(null!==o){var l=o.next;o.next=i,a.next=l}s.pending=a}kr=null}return t}function Mk(t,n){for(;;){var s=ba;try{if($g(),Ar.current=zr,Fr){for(var a=Dr.memoizedState;null!==a;){var i=a.queue;null!==i&&(i.pending=null),a=a.next}Fr=!1}if(Mr=0,Vr=Or=Dr=null,Br=!1,Ir=0,xa.current=null,null===s||null===s.return){ka=1,Ca=n,ba=null;break}e:{var o=t,l=s.return,u=s,m=n;if(n=ja,u.flags|=32768,null!==m&&"object"==typeof m&&"function"==typeof m.then){var f=m,x=u,y=x.tag;if(!(1&x.mode||0!==y&&11!==y&&15!==y)){var j=x.alternate;j?(x.updateQueue=j.updateQueue,x.memoizedState=j.memoizedState,x.lanes=j.lanes):(x.updateQueue=null,x.memoizedState=null)}var w=Ui(l);if(null!==w){w.flags&=-257,Vi(w,l,u,o,n),1&w.mode&&Si(o,f,n),m=f;var N=(n=w).updateQueue;if(null===N){var k=new Set;k.add(m),n.updateQueue=k}else N.add(m);break e}if(!(1&n)){Si(o,f,n),tj();break e}m=Error(p(426))}else if(fr&&1&u.mode){var C=Ui(l);if(null!==C){!(65536&C.flags)&&(C.flags|=256),Vi(C,l,u,o,n),Jg(Ji(m,u));break e}}o=m=Ji(m,u),4!==ka&&(ka=2),null===La?La=[o]:La.push(o),o=l;do{switch(o.tag){case 3:var T;o.flags|=65536,n&=-n,o.lanes|=n,ph(o,Ni(o,m,n));break e;case 1:u=m;var _=o.type,A=o.stateNode;if(!(128&o.flags||"function"!=typeof _.getDerivedStateFromError&&(null===A||"function"!=typeof A.componentDidCatch||null!==Ha&&Ha.has(A)))){var L;o.flags|=65536,n&=-n,o.lanes|=n,ph(o,Qi(o,u,n));break e}}o=o.return}while(null!==o)}Sk(s)}catch(M){n=M,ba===s&&null!==s&&(ba=s=s.return);continue}break}}function Jk(){var t=ma.current;return ma.current=zr,null===t?zr:t}function tj(){0!==ka&&3!==ka&&2!==ka||(ka=4),null===va||!(268435455&Ea)&&!(268435455&_a)||Ck(va,ja)}function Ik(t,n){var s=ya;ya|=2;var a=Jk();for(va===t&&ja===n||(Ia=null,Kk(t,n));;)try{Tk();break}catch(i){Mk(t,i)}if($g(),ya=s,ma.current=a,null!==ba)throw Error(p(261));return va=null,ja=0,ka}function Tk(){for(;null!==ba;)Uk(ba)}function Lk(){for(;null!==ba&&!Lt();)Uk(ba)}function Uk(t){var n=Oi(t.alternate,t,wa);t.memoizedProps=t.pendingProps,null===n?Sk(t):ba=n,xa.current=null}function Sk(t){var n=t;do{var s=n.alternate;if(t=n.return,32768&n.flags){if(null!==(s=Ij(s,n)))return s.flags&=32767,void(ba=s);if(null===t)return ka=6,void(ba=null);t.flags|=32768,t.subtreeFlags=0,t.deletions=null}else if(null!==(s=Ej(s,n,wa)))return void(ba=s);if(null!==(n=n.sibling))return void(ba=n);ba=n=t}while(null!==n);0===ka&&(ka=5)}function Pk(t,n,s){var a=Gt,i=ga.transition;try{ga.transition=null,Gt=1,Wk(t,n,s,a)}finally{ga.transition=i,Gt=a}return null}function Wk(t,n,s,a){do{Hk()}while(null!==Ja);if(6&ya)throw Error(p(327));s=t.finishedWork;var i=t.finishedLanes;if(null===s)return null;if(t.finishedWork=null,t.finishedLanes=0,s===t.current)throw Error(p(177));t.callbackNode=null,t.callbackPriority=0;var o=s.lanes|s.childLanes;if(Bc(t,o),t===va&&(ba=va=null,ja=0),!(2064&s.subtreeFlags)&&!(2064&s.flags)||Ga||(Ga=!0,Fk(Bt,function(){return Hk(),null})),o=!!(15990&s.flags),15990&s.subtreeFlags||o){o=ga.transition,ga.transition=null;var l=Gt;Gt=1;var u=ya;ya|=4,xa.current=null,Oj(t,s),dk(s,t),Oe(Vs),mn=!!Os,Vs=Os=null,t.current=s,hk(s),Mt(),ya=u,Gt=l,ga.transition=o}else t.current=s;if(Ga&&(Ga=!1,Ja=t,Ei=i),0===(o=t.pendingLanes)&&(Ha=null),mc(s.stateNode),Dk(t,Dt()),null!==n)for(a=t.onRecoverableError,s=0;s<n.length;s++)a((i=n[s]).value,{componentStack:i.stack,digest:i.digest});if(za)throw za=!1,t=$a,$a=null,t;return 1&Ei&&0!==t.tag&&Hk(),1&(o=t.pendingLanes)?t===_i?Pi++:(Pi=0,_i=t):Pi=0,jg(),null}function Hk(){if(null!==Ja){var t=Dc(Ei),n=ga.transition,s=Gt;try{if(ga.transition=null,Gt=16>t?16:t,null===Ja)var a=!1;else{if(t=Ja,Ja=null,Ei=0,6&ya)throw Error(p(331));var i=ya;for(ya|=4,ia=t.current;null!==ia;){var o=ia,l=o.child;if(16&ia.flags){var u=o.deletions;if(null!==u){for(var m=0;m<u.length;m++){var f=u[m];for(ia=f;null!==ia;){var x=ia;switch(x.tag){case 0:case 11:case 15:Pj(8,x,o)}var y=x.child;if(null!==y)y.return=x,ia=y;else for(;null!==ia;){var j=(x=ia).sibling,w=x.return;if(Sj(x),x===f){ia=null;break}if(null!==j){j.return=w,ia=j;break}ia=w}}}var N=o.alternate;if(null!==N){var k=N.child;if(null!==k){N.child=null;do{var C=k.sibling;k.sibling=null,k=C}while(null!==k)}}ia=o}}if(2064&o.subtreeFlags&&null!==l)l.return=o,ia=l;else e:for(;null!==ia;){if(2048&(o=ia).flags)switch(o.tag){case 0:case 11:case 15:Pj(9,o,o.return)}var T=o.sibling;if(null!==T){T.return=o.return,ia=T;break e}ia=o.return}}var _=t.current;for(ia=_;null!==ia;){var A=(l=ia).child;if(2064&l.subtreeFlags&&null!==A)A.return=l,ia=A;else e:for(l=_;null!==ia;){if(2048&(u=ia).flags)try{switch(u.tag){case 0:case 11:case 15:Qj(9,u)}}catch(M){W(u,u.return,M)}if(u===l){ia=null;break e}var L=u.sibling;if(null!==L){L.return=u.return,ia=L;break e}ia=u.return}}if(ya=i,jg(),$t&&"function"==typeof $t.onPostCommitFiberRoot)try{$t.onPostCommitFiberRoot(zt,t)}catch(M){}a=!0}return a}finally{Gt=s,ga.transition=n}}return!1}function Xk(t,n,s){t=nh(t,n=Ni(t,n=Ji(s,n),1),1),n=R(),null!==t&&(Ac(t,1,n),Dk(t,n))}function W(t,n,s){if(3===t.tag)Xk(t,t,s);else for(;null!==n;){if(3===n.tag){Xk(n,t,s);break}if(1===n.tag){var a=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof a.componentDidCatch&&(null===Ha||!Ha.has(a))){n=nh(n,t=Qi(n,t=Ji(s,t),1),1),t=R(),null!==n&&(Ac(n,1,t),Dk(n,t));break}}n=n.return}}function Ti(t,n,s){var a=t.pingCache;null!==a&&a.delete(n),n=R(),t.pingedLanes|=t.suspendedLanes&s,va===t&&(ja&s)===s&&(4===ka||3===ka&&(130023424&ja)===ja&&500>Dt()-Fa?Kk(t,0):Aa|=s),Dk(t,n)}function Yk(t,n){0===n&&(1&t.mode?(n=Kt,!(130023424&(Kt<<=1))&&(Kt=4194304)):n=1);var s=R();null!==(t=ih(t,n))&&(Ac(t,n,s),Dk(t,s))}function uj(t){var n=t.memoizedState,s=0;null!==n&&(s=n.retryLane),Yk(t,s)}function bk(t,n){var s=0;switch(t.tag){case 13:var a=t.stateNode,i=t.memoizedState;null!==i&&(s=i.retryLane);break;case 19:a=t.stateNode;break;default:throw Error(p(314))}null!==a&&a.delete(n),Yk(t,s)}function Fk(t,n){return Rt(t,n)}function $k(t,n,s,a){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(t,n,s,a){return new $k(t,n,s,a)}function aj(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Zk(t){if("function"==typeof t)return aj(t)?1:0;if(null!=t){if((t=t.$$typeof)===nt)return 11;if(t===at)return 14}return 2}function Pg(t,n){var s=t.alternate;return null===s?((s=Bg(t.tag,n,t.key,t.mode)).elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=14680064&t.flags,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=null===n?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s}function Rg(t,n,s,a,i,o){var l=2;if(a=t,"function"==typeof t)aj(t)&&(l=1);else if("string"==typeof t)l=5;else e:switch(t){case Xe:return Tg(s.children,i,o,n);case Ye:l=8,i|=8;break;case Qe:return(t=Bg(12,s,n,2|i)).elementType=Qe,t.lanes=o,t;case st:return(t=Bg(13,s,n,i)).elementType=st,t.lanes=o,t;case rt:return(t=Bg(19,s,n,i)).elementType=rt,t.lanes=o,t;case ot:return pj(s,i,o,n);default:if("object"==typeof t&&null!==t)switch(t.$$typeof){case et:l=10;break e;case tt:l=9;break e;case nt:l=11;break e;case at:l=14;break e;case it:l=16,a=null;break e}throw Error(p(130,null==t?t:typeof t,""))}return(n=Bg(l,s,n,i)).elementType=t,n.type=a,n.lanes=o,n}function Tg(t,n,s,a){return(t=Bg(7,t,a,n)).lanes=s,t}function pj(t,n,s,a){return(t=Bg(22,t,a,n)).elementType=ot,t.lanes=s,t.stateNode={isHidden:!1},t}function Qg(t,n,s){return(t=Bg(6,t,null,n)).lanes=s,t}function Sg(t,n,s){return(n=Bg(4,null!==t.children?t.children:[],t.key,n)).lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function al(t,n,s,a,i){this.tag=n,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=a,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function bl(t,n,s,a,i,o,l,u,m){return t=new al(t,n,s,u,m),1===n?(n=1,!0===o&&(n|=8)):n=0,o=Bg(3,null,null,n),t.current=o,o.stateNode=t,o.memoizedState={element:a,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(o),t}function cl(t,n,s){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:We,key:null==a?null:""+a,children:t,containerInfo:n,implementation:s}}function dl(t){if(!t)return Qs;e:{if(Vb(t=t._reactInternals)!==t||1!==t.tag)throw Error(p(170));var n=t;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Zf(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(null!==n);throw Error(p(171))}if(1===t.tag){var s=t.type;if(Zf(s))return bg(t,s,n)}return n}function el(t,n,s,a,i,o,l,u,m){return(t=bl(s,a,!0,t,i,o,l,u,m)).context=dl(null),s=t.current,(o=mh(a=R(),i=yi(s))).callback=null!=n?n:null,nh(s,o,i),t.current.lanes=i,Ac(t,i,a),Dk(t,a),t}function fl(t,n,s,a){var i=n.current,o=R(),l=yi(i);return s=dl(s),null===n.context?n.context=s:n.pendingContext=s,(n=mh(o,l)).payload={element:t},null!==(a=void 0===a?null:a)&&(n.callback=a),null!==(t=nh(i,n,l))&&(gi(t,i,l,o),oh(t,i,l)),l}function gl(t){if(!(t=t.current).child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function hl(t,n){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var s=t.retryLane;t.retryLane=0!==s&&s<n?s:n}}function il(t,n){hl(t,n),(t=t.alternate)&&hl(t,n)}function jl(){return null}Oi=function(t,n,s){if(null!==t)if(t.memoizedProps!==n.pendingProps||Js.current)Gr=!0;else{if(0===(t.lanes&s)&&!(128&n.flags))return Gr=!1,yj(t,n,s);Gr=!!(131072&t.flags)}else Gr=!1,fr&&1048576&n.flags&&ug(n,or,n.index);switch(n.lanes=0,n.tag){case 2:var a=n.type;ij(t,n),t=n.pendingProps;var i=Yf(n,Zs.current);ch(n,s),i=Nh(null,n,a,t,i,s);var o=Sh();return n.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Zf(a)?(o=!0,cg(n)):o=!1,n.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,kh(n),i.updater=Wr,n.stateNode=i,i._reactInternals=n,Ii(n,a,t,s),n=jj(null,n,a,!0,o,s)):(n.tag=0,fr&&o&&vg(n),Xi(null,n,i,s),n=n.child),n;case 16:a=n.elementType;e:{switch(ij(t,n),t=n.pendingProps,a=(i=a._init)(a._payload),n.type=a,i=n.tag=Zk(a),t=Ci(a,t),i){case 0:n=cj(null,n,a,t,s);break e;case 1:n=hj(null,n,a,t,s);break e;case 11:n=Yi(null,n,a,t,s);break e;case 14:n=$i(null,n,a,Ci(a.type,t),s);break e}throw Error(p(306,a,""))}return n;case 0:return a=n.type,i=n.pendingProps,cj(t,n,a,i=n.elementType===a?i:Ci(a,i),s);case 1:return a=n.type,i=n.pendingProps,hj(t,n,a,i=n.elementType===a?i:Ci(a,i),s);case 3:e:{if(kj(n),null===t)throw Error(p(387));a=n.pendingProps,i=(o=n.memoizedState).element,lh(t,n),qh(n,a,null,s);var l=n.memoizedState;if(a=l.element,o.isDehydrated){if(o={element:a,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},n.updateQueue.baseState=o,n.memoizedState=o,256&n.flags){n=lj(t,n,a,s,i=Ji(Error(p(423)),n));break e}if(a!==i){n=lj(t,n,a,s,i=Ji(Error(p(424)),n));break e}for(pr=Lf(n.stateNode.containerInfo.firstChild),mr=n,fr=!0,xr=null,s=vr(n,null,a,s),n.child=s;s;)s.flags=-3&s.flags|4096,s=s.sibling}else{if(Ig(),a===i){n=Zi(t,n,s);break e}Xi(t,n,a,s)}n=n.child}return n;case 5:return Ah(n),null===t&&Eg(n),a=n.type,i=n.pendingProps,o=null!==t?t.memoizedProps:null,l=i.children,Ef(a,i)?l=null:null!==o&&Ef(a,o)&&(n.flags|=32),gj(t,n),Xi(t,n,l,s),n.child;case 6:return null===t&&Eg(n),null;case 13:return oj(t,n,s);case 4:return yh(n,n.stateNode.containerInfo),a=n.pendingProps,null===t?n.child=yr(n,null,a,s):Xi(t,n,a,s),n.child;case 11:return a=n.type,i=n.pendingProps,Yi(t,n,a,i=n.elementType===a?i:Ci(a,i),s);case 7:return Xi(t,n,n.pendingProps,s),n.child;case 8:return Xi(t,n,n.pendingProps.children,s),n.child;case 12:return Xi(t,n,n.pendingProps.children,s),n.child;case 10:e:{if(a=n.type._context,i=n.pendingProps,o=n.memoizedProps,l=i.value,G(br,a._currentValue),a._currentValue=l,null!==o)if(hs(o.value,l)){if(o.children===i.children&&!Js.current){n=Zi(t,n,s);break e}}else for(null!==(o=n.child)&&(o.return=n);null!==o;){var u=o.dependencies;if(null!==u){l=o.child;for(var m=u.firstContext;null!==m;){if(m.context===a){if(1===o.tag){(m=mh(-1,s&-s)).tag=2;var f=o.updateQueue;if(null!==f){var x=(f=f.shared).pending;null===x?m.next=m:(m.next=x.next,x.next=m),f.pending=m}}o.lanes|=s,null!==(m=o.alternate)&&(m.lanes|=s),bh(o.return,s,n),u.lanes|=s;break}m=m.next}}else if(10===o.tag)l=o.type===n.type?null:o.child;else if(18===o.tag){if(null===(l=o.return))throw Error(p(341));l.lanes|=s,null!==(u=l.alternate)&&(u.lanes|=s),bh(l,s,n),l=o.sibling}else l=o.child;if(null!==l)l.return=o;else for(l=o;null!==l;){if(l===n){l=null;break}if(null!==(o=l.sibling)){o.return=l.return,l=o;break}l=l.return}o=l}Xi(t,n,i.children,s),n=n.child}return n;case 9:return i=n.type,a=n.pendingProps.children,ch(n,s),a=a(i=eh(i)),n.flags|=1,Xi(t,n,a,s),n.child;case 14:return i=Ci(a=n.type,n.pendingProps),$i(t,n,a,i=Ci(a.type,i),s);case 15:return bj(t,n,n.type,n.pendingProps,s);case 17:return a=n.type,i=n.pendingProps,i=n.elementType===a?i:Ci(a,i),ij(t,n),n.tag=1,Zf(a)?(t=!0,cg(n)):t=!1,ch(n,s),Gi(n,a,i),Ii(n,a,i,s),jj(null,n,a,!0,t,s);case 19:return xj(t,n,s);case 22:return dj(t,n,s)}throw Error(p(156,n.tag))};var Wi="function"==typeof reportError?reportError:function(t){console.error(t)};function ll(t){this._internalRoot=t}function ml(t){this._internalRoot=t}function nl(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}function ol(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function pl(){}function ql(t,n,s,a,i){if(i){if("function"==typeof a){var o=a;a=function(){var t=gl(l);o.call(t)}}var l=el(n,a,t,0,null,!1,!1,"",pl);return t._reactRootContainer=l,t[qs]=l.current,sf(8===t.nodeType?t.parentNode:t),Rk(),l}for(;i=t.lastChild;)t.removeChild(i);if("function"==typeof a){var u=a;a=function(){var t=gl(m);u.call(t)}}var m=bl(t,0,!1,null,null,!1,!1,"",pl);return t._reactRootContainer=m,t[qs]=m.current,sf(8===t.nodeType?t.parentNode:t),Rk(function(){fl(n,m,s,a)}),m}function rl(t,n,s,a,i){var o=s._reactRootContainer;if(o){var l=o;if("function"==typeof i){var u=i;i=function(){var t=gl(l);u.call(t)}}fl(n,l,t,i)}else l=ql(s,n,t,i,a);return gl(l)}ml.prototype.render=ll.prototype.render=function(t){var n=this._internalRoot;if(null===n)throw Error(p(409));fl(t,n,null,null)},ml.prototype.unmount=ll.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var n=t.containerInfo;Rk(function(){fl(null,t,null,null)}),n[qs]=null}},ml.prototype.unstable_scheduleHydration=function(t){if(t){var n=Jt();t={blockedOn:null,target:t,priority:n};for(var s=0;s<dn.length&&0!==n&&n<dn[s].priority;s++);dn.splice(s,0,t),0===s&&Vc(t)}},Yt=function(t){switch(t.tag){case 3:var n=t.stateNode;if(n.current.memoizedState.isDehydrated){var s=tc(n.pendingLanes);0!==s&&(Cc(n,1|s),Dk(n,Dt()),!(6&ya)&&(Ba=Dt()+500,jg()))}break;case 13:Rk(function(){var n=ih(t,1);if(null!==n){var s=R();gi(n,t,1,s)}}),il(t,1)}},Qt=function(t){if(13===t.tag){var n=ih(t,134217728),s;if(null!==n)gi(n,t,134217728,R());il(t,134217728)}},Zt=function(t){if(13===t.tag){var n=yi(t),s=ih(t,n),a;if(null!==s)gi(s,t,n,R());il(t,n)}},Jt=function(){return Gt},en=function(t,n){var s=Gt;try{return Gt=t,n()}finally{Gt=s}},bt=function(t,n,s){switch(n){case"input":if(bb(t,s),n=s.name,"radio"===s.type&&null!=n){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<s.length;n++){var a=s[n];if(a!==t&&a.form===t.form){var i=Db(a);if(!i)throw Error(p(90));Wa(a),bb(a,i)}}}break;case"textarea":ib(t,s);break;case"select":null!=(n=s.value)&&fb(t,!!s.multiple,n,!1)}},Gb=Qk,Hb=Rk;var eo={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},to={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},no={bundleType:to.bundleType,version:to.version,rendererPackageName:to.rendererPackageName,rendererConfig:to.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:He.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=Zb(t))?null:t.stateNode},findFiberByHostInstance:to.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var so=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!so.isDisabled&&so.supportsFiber)try{zt=so.inject(no),$t=so}catch(ft){}}function checkDCE(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(t){console.error(t)}}ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eo,ce.createPortal=function(t,n){var s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nl(n))throw Error(p(200));return cl(t,n,null,s)},ce.createRoot=function(t,n){if(!nl(t))throw Error(p(299));var s=!1,a="",i=Wi;return null!=n&&(!0===n.unstable_strictMode&&(s=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(i=n.onRecoverableError)),n=bl(t,1,!1,null,null,s,!1,a,i),t[qs]=n.current,sf(8===t.nodeType?t.parentNode:t),new ll(n)},ce.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var n=t._reactInternals;if(void 0===n){if("function"==typeof t.render)throw Error(p(188));throw t=Object.keys(t).join(","),Error(p(268,t))}return t=null===(t=Zb(n))?null:t.stateNode},ce.flushSync=function(t){return Rk(t)},ce.hydrate=function(t,n,s){if(!ol(n))throw Error(p(200));return rl(null,t,n,!0,s)},ce.hydrateRoot=function(t,n,s){if(!nl(t))throw Error(p(405));var a=null!=s&&s.hydratedSources||null,i=!1,o="",l=Wi;if(null!=s&&(!0===s.unstable_strictMode&&(i=!0),void 0!==s.identifierPrefix&&(o=s.identifierPrefix),void 0!==s.onRecoverableError&&(l=s.onRecoverableError)),n=el(n,null,t,1,null!=s?s:null,i,!1,o,l),t[qs]=n.current,sf(t),a)for(t=0;t<a.length;t++)i=(i=(s=a[t])._getVersion)(s._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[s,i]:n.mutableSourceEagerHydrationData.push(s,i);return new ml(n)},ce.render=function(t,n,s){if(!ol(n))throw Error(p(200));return rl(null,t,n,!1,s)},ce.unmountComponentAtNode=function(t){if(!ol(t))throw Error(p(40));return!!t._reactRootContainer&&(Rk(function(){rl(null,null,t,!1,function(){t._reactRootContainer=null,t[qs]=null})}),!0)},ce.unstable_batchedUpdates=Qk,ce.unstable_renderSubtreeIntoContainer=function(t,n,s,a){if(!ol(s))throw Error(p(200));if(null==t||void 0===t._reactInternals)throw Error(p(38));return rl(t,n,s,!1,a)},ce.version="18.3.1-next-f1338f8080-20240426",checkDCE(),le.exports=ce;var ro,ao=le.exports,io,oo;
/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},_extends$2.apply(this,arguments)}ie.createRoot=ao.createRoot,ie.hydrateRoot=ao.hydrateRoot,(oo=io||(io={})).Pop="POP",oo.Push="PUSH",oo.Replace="REPLACE";const lo="popstate";function createBrowserHistory(t){function createBrowserLocation(t,n){let{pathname:s,search:a,hash:i}=t.location;return createLocation("",{pathname:s,search:a,hash:i},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function createBrowserHref(t,n){return"string"==typeof n?n:createPath(n)}return void 0===t&&(t={}),getUrlBasedHistory(createBrowserLocation,createBrowserHref,null,t)}function invariant$1(t,n){if(!1===t||null==t)throw new Error(n)}function warning$1(t,n){if(!t){"undefined"!=typeof console&&console.warn(n);try{throw new Error(n)}catch(s){}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(t,n){return{usr:t.state,key:t.key,idx:n}}function createLocation(t,n,s,a){let i;return void 0===s&&(s=null),_extends$2({pathname:"string"==typeof t?t:t.pathname,search:"",hash:""},"string"==typeof n?parsePath(n):n,{state:s,key:n&&n.key||a||createKey()})}function createPath(t){let{pathname:n="/",search:s="",hash:a=""}=t;return s&&"?"!==s&&(n+="?"===s.charAt(0)?s:"?"+s),a&&"#"!==a&&(n+="#"===a.charAt(0)?a:"#"+a),n}function parsePath(t){let n={};if(t){let s=t.indexOf("#");s>=0&&(n.hash=t.substr(s),t=t.substr(0,s));let a=t.indexOf("?");a>=0&&(n.search=t.substr(a),t=t.substr(0,a)),t&&(n.pathname=t)}return n}function getUrlBasedHistory(t,n,s,a){void 0===a&&(a={});let{window:i=document.defaultView,v5Compat:o=!1}=a,l=i.history,u=io.Pop,m=null,f=getIndex();function getIndex(){let t;return(l.state||{idx:null}).idx}function handlePop(){u=io.Pop;let t=getIndex(),n=null==t?null:t-f;f=t,m&&m({action:u,location:x.location,delta:n})}function push(t,n){u=io.Push;let a=createLocation(x.location,t,n);s&&s(a,t),f=getIndex()+1;let y=getHistoryState(a,f),j=x.createHref(a);try{l.pushState(y,"",j)}catch(w){if(w instanceof DOMException&&"DataCloneError"===w.name)throw w;i.location.assign(j)}o&&m&&m({action:u,location:x.location,delta:1})}function replace(t,n){u=io.Replace;let a=createLocation(x.location,t,n);s&&s(a,t),f=getIndex();let i=getHistoryState(a,f),y=x.createHref(a);l.replaceState(i,"",y),o&&m&&m({action:u,location:x.location,delta:0})}function createURL(t){let n="null"!==i.location.origin?i.location.origin:i.location.href,s="string"==typeof t?t:createPath(t);return s=s.replace(/ $/,"%20"),invariant$1(n,"No window.location.(origin|href) available to create URL for href: "+s),new URL(s,n)}null==f&&(f=0,l.replaceState(_extends$2({},l.state,{idx:f}),""));let x={get action(){return u},get location(){return t(i,l)},listen(t){if(m)throw new Error("A history only accepts one active listener");return i.addEventListener(lo,handlePop),m=t,()=>{i.removeEventListener(lo,handlePop),m=null}},createHref:t=>n(i,t),createURL:createURL,encodeLocation(t){let n=createURL(t);return{pathname:n.pathname,search:n.search,hash:n.hash}},push:push,replace:replace,go:t=>l.go(t)};return x}var co,uo;function matchRoutes(t,n,s){return void 0===s&&(s="/"),matchRoutesImpl(t,n,s,!1)}function matchRoutesImpl(t,n,s,a){let i,o=stripBasename(("string"==typeof n?parsePath(n):n).pathname||"/",s);if(null==o)return null;let l=flattenRoutes(t);rankRouteBranches(l);let u=null;for(let m=0;null==u&&m<l.length;++m){let t=decodePath(o);u=matchRouteBranch(l[m],t,a)}return u}function flattenRoutes(t,n,s,a){void 0===n&&(n=[]),void 0===s&&(s=[]),void 0===a&&(a="");let flattenRoute=(t,i,o)=>{let l={relativePath:void 0===o?t.path||"":o,caseSensitive:!0===t.caseSensitive,childrenIndex:i,route:t};l.relativePath.startsWith("/")&&(invariant$1(l.relativePath.startsWith(a),'Absolute route path "'+l.relativePath+'" nested under path "'+a+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),l.relativePath=l.relativePath.slice(a.length));let u=joinPaths([a,l.relativePath]),m=s.concat(l);t.children&&t.children.length>0&&(invariant$1(!0!==t.index,'Index routes must not have child routes. Please remove all child routes from route path "'+u+'".'),flattenRoutes(t.children,n,m,u)),(null!=t.path||t.index)&&n.push({path:u,score:computeScore(u,t.index),routesMeta:m})};return t.forEach((t,n)=>{var s;if(""!==t.path&&null!=(s=t.path)&&s.includes("?"))for(let a of explodeOptionalSegments(t.path))flattenRoute(t,n,a);else flattenRoute(t,n)}),n}function explodeOptionalSegments(t){let n=t.split("/");if(0===n.length)return[];let[s,...a]=n,i=s.endsWith("?"),o=s.replace(/\?$/,"");if(0===a.length)return i?[o,""]:[o];let l=explodeOptionalSegments(a.join("/")),u=[];return u.push(...l.map(t=>""===t?o:[o,t].join("/"))),i&&u.push(...l),u.map(n=>t.startsWith("/")&&""===n?"/":n)}function rankRouteBranches(t){t.sort((t,n)=>t.score!==n.score?n.score-t.score:compareIndexes(t.routesMeta.map(t=>t.childrenIndex),n.routesMeta.map(t=>t.childrenIndex)))}(uo=co||(co={})).data="data",uo.deferred="deferred",uo.redirect="redirect",uo.error="error";const ho=/^:[\w-]+$/,mo=3,po=2,fo=1,xo=10,go=-2,isSplat=t=>"*"===t;function computeScore(t,n){let s=t.split("/"),a=s.length;return s.some(isSplat)&&(a+=go),n&&(a+=po),s.filter(t=>!isSplat(t)).reduce((t,n)=>t+(ho.test(n)?mo:""===n?fo:xo),a)}function compareIndexes(t,n){let s;return t.length===n.length&&t.slice(0,-1).every((t,s)=>t===n[s])?t[t.length-1]-n[n.length-1]:0}function matchRouteBranch(t,n,s){void 0===s&&(s=!1);let{routesMeta:a}=t,i={},o="/",l=[];for(let u=0;u<a.length;++u){let t=a[u],m=u===a.length-1,f="/"===o?n:n.slice(o.length)||"/",x=matchPath({path:t.relativePath,caseSensitive:t.caseSensitive,end:m},f),y=t.route;if(!x&&m&&s&&!a[a.length-1].route.index&&(x=matchPath({path:t.relativePath,caseSensitive:t.caseSensitive,end:!1},f)),!x)return null;Object.assign(i,x.params),l.push({params:i,pathname:joinPaths([o,x.pathname]),pathnameBase:normalizePathname(joinPaths([o,x.pathnameBase])),route:y}),"/"!==x.pathnameBase&&(o=joinPaths([o,x.pathnameBase]))}return l}function matchPath(t,n){"string"==typeof t&&(t={path:t,caseSensitive:!1,end:!0});let[s,a]=compilePath(t.path,t.caseSensitive,t.end),i=n.match(s);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),u=i.slice(1),m;return{params:a.reduce((t,n,s)=>{let{paramName:a,isOptional:i}=n;if("*"===a){let t=u[s]||"";l=o.slice(0,o.length-t.length).replace(/(.)\/+$/,"$1")}const m=u[s];return t[a]=i&&!m?void 0:(m||"").replace(/%2F/g,"/"),t},{}),pathname:o,pathnameBase:l,pattern:t}}function compilePath(t,n,s){void 0===n&&(n=!1),void 0===s&&(s=!0),warning$1("*"===t||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were "'+t.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+t.replace(/\*$/,"/*")+'".');let a=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(t,n,s)=>(a.push({paramName:n,isOptional:null!=s}),s?"/?([^\\/]+)?":"/([^\\/]+)")),o;return t.endsWith("*")?(a.push({paramName:"*"}),i+="*"===t||"/*"===t?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?i+="\\/*$":""!==t&&"/"!==t&&(i+="(?:(?=\\/|$))"),[new RegExp(i,n?void 0:"i"),a]}function decodePath(t){try{return t.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(n){return warning$1(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),t}}function stripBasename(t,n){if("/"===n)return t;if(!t.toLowerCase().startsWith(n.toLowerCase()))return null;let s=n.endsWith("/")?n.length-1:n.length,a=t.charAt(s);return a&&"/"!==a?null:t.slice(s)||"/"}function resolvePath(t,n){void 0===n&&(n="/");let{pathname:s,search:a="",hash:i=""}="string"==typeof t?parsePath(t):t,o;return{pathname:s?s.startsWith("/")?s:resolvePathname(s,n):n,search:normalizeSearch(a),hash:normalizeHash(i)}}function resolvePathname(t,n){let s=n.replace(/\/+$/,"").split("/"),a;return t.split("/").forEach(t=>{".."===t?s.length>1&&s.pop():"."!==t&&s.push(t)}),s.length>1?s.join("/"):"/"}function getInvalidPathError(t,n,s,a){return"Cannot include a '"+t+"' character in a manually specified `to."+n+"` field ["+JSON.stringify(a)+"].  Please separate it out to the `to."+s+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(t){return t.filter((t,n)=>0===n||t.route.path&&t.route.path.length>0)}function getResolveToMatches(t,n){let s=getPathContributingMatches(t);return n?s.map((t,n)=>n===s.length-1?t.pathname:t.pathnameBase):s.map(t=>t.pathnameBase)}function resolveTo(t,n,s,a){let i;void 0===a&&(a=!1),"string"==typeof t?i=parsePath(t):(i=_extends$2({},t),invariant$1(!i.pathname||!i.pathname.includes("?"),getInvalidPathError("?","pathname","search",i)),invariant$1(!i.pathname||!i.pathname.includes("#"),getInvalidPathError("#","pathname","hash",i)),invariant$1(!i.search||!i.search.includes("#"),getInvalidPathError("#","search","hash",i)));let o=""===t||""===i.pathname,l=o?"/":i.pathname,u;if(null==l)u=s;else{let t=n.length-1;if(!a&&l.startsWith("..")){let n=l.split("/");for(;".."===n[0];)n.shift(),t-=1;i.pathname=n.join("/")}u=t>=0?n[t]:"/"}let m=resolvePath(i,u),f=l&&"/"!==l&&l.endsWith("/"),x=(o||"."===l)&&s.endsWith("/");return m.pathname.endsWith("/")||!f&&!x||(m.pathname+="/"),m}const joinPaths=t=>t.join("/").replace(/\/\/+/g,"/"),normalizePathname=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=t=>t&&"?"!==t?t.startsWith("?")?t:"?"+t:"",normalizeHash=t=>t&&"#"!==t?t.startsWith("#")?t:"#"+t:"";function isRouteErrorResponse(t){return null!=t&&"number"==typeof t.status&&"string"==typeof t.statusText&&"boolean"==typeof t.internal&&"data"in t}const yo=["post","put","patch","delete"];new Set(yo);const vo=["get",...yo];
/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},_extends$1.apply(this,arguments)}new Set(vo);const bo=H.createContext(null),jo=H.createContext(null),wo=H.createContext(null),No=H.createContext(null),ko=H.createContext({outlet:null,matches:[],isDataRoute:!1}),So=H.createContext(null);function useHref(t,n){let{relative:s}=void 0===n?{}:n;useInRouterContext()||invariant$1(!1);let{basename:a,navigator:i}=H.useContext(wo),{hash:o,pathname:l,search:u}=useResolvedPath(t,{relative:s}),m=l;return"/"!==a&&(m="/"===l?a:joinPaths([a,l])),i.createHref({pathname:m,search:u,hash:o})}function useInRouterContext(){return null!=H.useContext(No)}function useLocation(){return useInRouterContext()||invariant$1(!1),H.useContext(No).location}function useIsomorphicLayoutEffect$1(t){let n;H.useContext(wo).static||H.useLayoutEffect(t)}function useNavigate(){let{isDataRoute:t}=H.useContext(ko);return t?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant$1(!1);let t=H.useContext(bo),{basename:n,future:s,navigator:a}=H.useContext(wo),{matches:i}=H.useContext(ko),{pathname:o}=useLocation(),l=JSON.stringify(getResolveToMatches(i,s.v7_relativeSplatPath)),u=H.useRef(!1),m;return useIsomorphicLayoutEffect$1(()=>{u.current=!0}),H.useCallback(function(s,i){if(void 0===i&&(i={}),!u.current)return;if("number"==typeof s)return void a.go(s);let m=resolveTo(s,JSON.parse(l),o,"path"===i.relative);null==t&&"/"!==n&&(m.pathname="/"===m.pathname?n:joinPaths([n,m.pathname])),(i.replace?a.replace:a.push)(m,i.state,i)},[n,a,l,o,t])}function useParams(){let{matches:t}=H.useContext(ko),n=t[t.length-1];return n?n.params:{}}function useResolvedPath(t,n){let{relative:s}=void 0===n?{}:n,{future:a}=H.useContext(wo),{matches:i}=H.useContext(ko),{pathname:o}=useLocation(),l=JSON.stringify(getResolveToMatches(i,a.v7_relativeSplatPath));return H.useMemo(()=>resolveTo(t,JSON.parse(l),o,"path"===s),[t,l,o,s])}function useRoutes(t,n){return useRoutesImpl(t,n)}function useRoutesImpl(t,n,s,a){useInRouterContext()||invariant$1(!1);let{navigator:i}=H.useContext(wo),{matches:o}=H.useContext(ko),l=o[o.length-1],u=l?l.params:{};!l||l.pathname;let m=l?l.pathnameBase:"/";l&&l.route;let f=useLocation(),x;if(n){var y;let t="string"==typeof n?parsePath(n):n;"/"===m||(null==(y=t.pathname)?void 0:y.startsWith(m))||invariant$1(!1),x=t}else x=f;let j=x.pathname||"/",w=j;if("/"!==m){let t=m.replace(/^\//,"").split("/"),n;w="/"+j.replace(/^\//,"").split("/").slice(t.length).join("/")}let N=matchRoutes(t,{pathname:w}),k=_renderMatches(N&&N.map(t=>Object.assign({},t,{params:Object.assign({},u,t.params),pathname:joinPaths([m,i.encodeLocation?i.encodeLocation(t.pathname).pathname:t.pathname]),pathnameBase:"/"===t.pathnameBase?m:joinPaths([m,i.encodeLocation?i.encodeLocation(t.pathnameBase).pathname:t.pathnameBase])})),o,s,a);return n&&k?H.createElement(No.Provider,{value:{location:_extends$1({pathname:"/",search:"",hash:"",state:null,key:"default"},x),navigationType:io.Pop}},k):k}function DefaultErrorComponent(){let t=useRouteError(),n=isRouteErrorResponse(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),s=t instanceof Error?t.stack:null,a,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},n),s?H.createElement("pre",{style:i},s):null,o)}const Co=H.createElement(DefaultErrorComponent,null);class Eo extends H.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||"idle"!==n.revalidation&&"idle"===t.revalidation?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:void 0!==t.error?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return void 0!==this.state.error?H.createElement(ko.Provider,{value:this.props.routeContext},H.createElement(So.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(t){let{routeContext:n,match:s,children:a}=t,i=H.useContext(bo);return i&&i.static&&i.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=s.route.id),H.createElement(ko.Provider,{value:n},a)}function _renderMatches(t,n,s,a){var i;if(void 0===n&&(n=[]),void 0===s&&(s=null),void 0===a&&(a=null),null==t){var o;if(!s)return null;if(s.errors)t=s.matches;else{if(!(null!=(o=a)&&o.v7_partialHydration&&0===n.length&&!s.initialized&&s.matches.length>0))return null;t=s.matches}}let l=t,u=null==(i=s)?void 0:i.errors;if(null!=u){let t=l.findIndex(t=>t.route.id&&void 0!==(null==u?void 0:u[t.route.id]));t>=0||invariant$1(!1),l=l.slice(0,Math.min(l.length,t+1))}let m=!1,f=-1;if(s&&a&&a.v7_partialHydration)for(let x=0;x<l.length;x++){let t=l[x];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(f=x),t.route.id){let{loaderData:n,errors:a}=s,i=t.route.loader&&void 0===n[t.route.id]&&(!a||void 0===a[t.route.id]);if(t.route.lazy||i){m=!0,l=f>=0?l.slice(0,f+1):[l[0]];break}}}return l.reduceRight((t,a,i)=>{let o,x=!1,y=null,j=null;s&&(o=u&&a.route.id?u[a.route.id]:void 0,y=a.route.errorElement||Co,m&&(f<0&&0===i?(warningOnce("route-fallback",!1),x=!0,j=null):f===i&&(x=!0,j=a.route.hydrateFallbackElement||null)));let w=n.concat(l.slice(0,i+1)),getChildren=()=>{let n;return n=o?y:x?j:a.route.Component?H.createElement(a.route.Component,null):a.route.element?a.route.element:t,H.createElement(RenderedRoute,{match:a,routeContext:{outlet:t,matches:w,isDataRoute:null!=s},children:n})};return s&&(a.route.ErrorBoundary||a.route.errorElement||0===i)?H.createElement(Eo,{location:s.location,revalidation:s.revalidation,component:y,error:o,children:getChildren(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):getChildren()},null)}var Po=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Po||{}),To=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(To||{});function useDataRouterContext$1(t){let n=H.useContext(bo);return n||invariant$1(!1),n}function useDataRouterState(t){let n=H.useContext(jo);return n||invariant$1(!1),n}function useRouteContext(t){let n=H.useContext(ko);return n||invariant$1(!1),n}function useCurrentRouteId(t){let n=useRouteContext(),s=n.matches[n.matches.length-1];return s.route.id||invariant$1(!1),s.route.id}function useRouteError(){var t;let n=H.useContext(So),s=useDataRouterState(To.UseRouteError),a=useCurrentRouteId(To.UseRouteError);return void 0!==n?n:null==(t=s.errors)?void 0:t[a]}function useNavigateStable(){let{router:t}=useDataRouterContext$1(Po.UseNavigateStable),n=useCurrentRouteId(To.UseNavigateStable),s=H.useRef(!1),a;return useIsomorphicLayoutEffect$1(()=>{s.current=!0}),H.useCallback(function(a,i){void 0===i&&(i={}),s.current&&("number"==typeof a?t.navigate(a):t.navigate(a,_extends$1({fromRouteId:n},i)))},[t,n])}const _o={};function warningOnce(t,n,s){n||_o[t]||(_o[t]=!0)}function logV6DeprecationWarnings(t,n){null==t||t.v7_startTransition,void 0===(null==t?void 0:t.v7_relativeSplatPath)&&(!n||n.v7_relativeSplatPath),n&&(n.v7_fetcherPersist,n.v7_normalizeFormMethod,n.v7_partialHydration,n.v7_skipActionErrorRevalidation)}function Route(t){invariant$1(!1)}function Router(t){let{basename:n="/",children:s=null,location:a,navigationType:i=io.Pop,navigator:o,static:l=!1,future:u}=t;useInRouterContext()&&invariant$1(!1);let m=n.replace(/^\/*/,"/"),f=H.useMemo(()=>({basename:m,navigator:o,static:l,future:_extends$1({v7_relativeSplatPath:!1},u)}),[m,u,o,l]);"string"==typeof a&&(a=parsePath(a));let{pathname:x="/",search:y="",hash:j="",state:w=null,key:N="default"}=a,k=H.useMemo(()=>{let t=stripBasename(x,m);return null==t?null:{location:{pathname:t,search:y,hash:j,state:w,key:N},navigationType:i}},[m,x,y,j,w,N,i]);return null==k?null:H.createElement(wo.Provider,{value:f},H.createElement(No.Provider,{children:s,value:k}))}function Routes(t){let{children:n,location:s}=t;return useRoutes(createRoutesFromChildren(n),s)}function createRoutesFromChildren(t,n){void 0===n&&(n=[]);let s=[];return H.Children.forEach(t,(t,a)=>{if(!H.isValidElement(t))return;let i=[...n,a];if(t.type===H.Fragment)return void s.push.apply(s,createRoutesFromChildren(t.props.children,i));t.type!==Route&&invariant$1(!1),t.props.index&&t.props.children&&invariant$1(!1);let o={id:t.props.id||i.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(o.children=createRoutesFromChildren(t.props.children,i)),s.push(o)}),s}
/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends(){return _extends=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},_extends.apply(this,arguments)}function _objectWithoutPropertiesLoose(t,n){if(null==t)return{};var s={},a=Object.keys(t),i,o;for(o=0;o<a.length;o++)i=a[o],n.indexOf(i)>=0||(s[i]=t[i]);return s}function isModifiedEvent(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function shouldProcessLinkClick(t,n){return!(0!==t.button||n&&"_self"!==n||isModifiedEvent(t))}function createSearchParams(t){return void 0===t&&(t=""),new URLSearchParams("string"==typeof t||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((n,s)=>{let a=t[s];return n.concat(Array.isArray(a)?a.map(t=>[s,t]):[[s,a]])},[]))}function getSearchParamsForLocation(t,n){let s=createSearchParams(t);return n&&n.forEach((t,a)=>{s.has(a)||n.getAll(a).forEach(t=>{s.append(a,t)})}),s}new Promise(()=>{});const Ro=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Ao=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Lo="6";try{window.__reactRouterVersion=Lo}catch(qx){}const Mo=H.createContext({isTransitioning:!1}),Do=undefined,Oo=K["startTransition"];function BrowserRouter(t){let{basename:n,children:s,future:a,window:i}=t,o=H.useRef();null==o.current&&(o.current=createBrowserHistory({window:i,v5Compat:!0}));let l=o.current,[u,m]=H.useState({action:l.action,location:l.location}),{v7_startTransition:f}=a||{},x=H.useCallback(t=>{f&&Oo?Oo(()=>m(t)):m(t)},[m,f]);return H.useLayoutEffect(()=>l.listen(x),[l,x]),H.useEffect(()=>logV6DeprecationWarnings(a),[a]),H.createElement(Router,{basename:n,children:s,location:u.location,navigationType:u.action,navigator:l,future:a})}const Vo="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,Fo=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bo=H.forwardRef(function LinkWithRef(t,n){let{onClick:s,relative:a,reloadDocument:i,replace:o,state:l,target:u,to:m,preventScrollReset:f,viewTransition:x}=t,y=_objectWithoutPropertiesLoose(t,Ro),{basename:j}=H.useContext(wo),w,N=!1;if("string"==typeof m&&Fo.test(m)&&(w=m,Vo))try{let t=new URL(window.location.href),n=m.startsWith("//")?new URL(t.protocol+m):new URL(m),s=stripBasename(n.pathname,j);n.origin===t.origin&&null!=s?m=s+n.search+n.hash:N=!0}catch(qx){}let k=useHref(m,{relative:a}),C=useLinkClickHandler(m,{replace:o,state:l,target:u,preventScrollReset:f,relative:a,viewTransition:x});function handleClick(t){s&&s(t),t.defaultPrevented||C(t)}return H.createElement("a",_extends({},y,{href:w||k,onClick:N||i?s:handleClick,ref:n,target:u}))}),Io=H.forwardRef(function NavLinkWithRef(t,n){let{"aria-current":s="page",caseSensitive:a=!1,className:i="",end:o=!1,style:l,to:u,viewTransition:m,children:f}=t,x=_objectWithoutPropertiesLoose(t,Ao),y=useResolvedPath(u,{relative:x.relative}),j=useLocation(),w=H.useContext(jo),{navigator:N,basename:k}=H.useContext(wo),C=null!=w&&useViewTransitionState(y)&&!0===m,T=N.encodeLocation?N.encodeLocation(y).pathname:y.pathname,_=j.pathname,A=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;a||(_=_.toLowerCase(),A=A?A.toLowerCase():null,T=T.toLowerCase()),A&&k&&(A=stripBasename(A,k)||A);const L="/"!==T&&T.endsWith("/")?T.length-1:T.length;let M=_===T||!o&&_.startsWith(T)&&"/"===_.charAt(L),O=null!=A&&(A===T||!o&&A.startsWith(T)&&"/"===A.charAt(T.length)),V={isActive:M,isPending:O,isTransitioning:C},B=M?s:void 0,I;I="function"==typeof i?i(V):[i,M?"active":null,O?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let U="function"==typeof l?l(V):l;return H.createElement(Bo,_extends({},x,{"aria-current":B,className:I,ref:n,style:U,to:u,viewTransition:m}),"function"==typeof f?f(V):f)});var Uo,zo,$o,Ho;function useDataRouterContext(t){let n=H.useContext(bo);return n||invariant$1(!1),n}function useLinkClickHandler(t,n){let{target:s,replace:a,state:i,preventScrollReset:o,relative:l,viewTransition:u}=void 0===n?{}:n,m=useNavigate(),f=useLocation(),x=useResolvedPath(t,{relative:l});return H.useCallback(n=>{if(shouldProcessLinkClick(n,s)){n.preventDefault();let s=void 0!==a?a:createPath(f)===createPath(x);m(t,{replace:s,state:i,preventScrollReset:o,relative:l,viewTransition:u})}},[f,m,x,a,i,s,t,o,l,u])}function useSearchParams(t){let n=H.useRef(createSearchParams(t)),s=H.useRef(!1),a=useLocation(),i=H.useMemo(()=>getSearchParamsForLocation(a.search,s.current?null:n.current),[a.search]),o=useNavigate(),l=H.useCallback((t,n)=>{const a=createSearchParams("function"==typeof t?t(i):t);s.current=!0,o("?"+a,n)},[o,i]);return[i,l]}function useViewTransitionState(t,n){void 0===n&&(n={});let s=H.useContext(Mo);null==s&&invariant$1(!1);let{basename:a}=useDataRouterContext(Uo.useViewTransitionState),i=useResolvedPath(t,{relative:n.relative});if(!s.isTransitioning)return!1;let o=stripBasename(s.currentLocation.pathname,a)||s.currentLocation.pathname,l=stripBasename(s.nextLocation.pathname,a)||s.nextLocation.pathname;return null!=matchPath(i.pathname,l)||null!=matchPath(i.pathname,o)}(zo=Uo||(Uo={})).UseScrollRestoration="useScrollRestoration",zo.UseSubmit="useSubmit",zo.UseSubmitFetcher="useSubmitFetcher",zo.UseFetcher="useFetcher",zo.useViewTransitionState="useViewTransitionState",(Ho=$o||($o={})).UseFetcher="useFetcher",Ho.UseFetchers="useFetchers",Ho.UseScrollRestoration="useScrollRestoration";const qo=H.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Wo=H.createContext({}),Xo=H.createContext(null),Ko="undefined"!=typeof document,Go=Ko?H.useLayoutEffect:H.useEffect,Yo=H.createContext({strict:!1}),camelToDash=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Qo=undefined,Zo="data-"+camelToDash("framerAppearId");function useVisualElement(t,n,s,a){const{visualElement:i}=H.useContext(Wo),o=H.useContext(Yo),l=H.useContext(Xo),u=H.useContext(qo).reducedMotion,m=H.useRef();a=a||o.renderer,!m.current&&a&&(m.current=a(t,{visualState:n,parent:i,props:s,presenceContext:l,blockInitialAnimation:!!l&&!1===l.initial,reducedMotionConfig:u}));const f=m.current;H.useInsertionEffect(()=>{f&&f.update(s,l)});const x=H.useRef(Boolean(s[Zo]&&!window.HandoffComplete));return Go(()=>{f&&(f.render(),x.current&&f.animationState&&f.animationState.animateChanges())}),H.useEffect(()=>{f&&(f.updateFeatures(),!x.current&&f.animationState&&f.animationState.animateChanges(),x.current&&(x.current=!1,window.HandoffComplete=!0))}),f}function isRefObject(t){return t&&"object"==typeof t&&Object.prototype.hasOwnProperty.call(t,"current")}function useMotionRef(t,n,s){return H.useCallback(a=>{a&&t.mount&&t.mount(a),n&&(a?n.mount(a):n.unmount()),s&&("function"==typeof s?s(a):isRefObject(s)&&(s.current=a))},[n])}function isVariantLabel(t){return"string"==typeof t||Array.isArray(t)}function isAnimationControls(t){return null!==t&&"object"==typeof t&&"function"==typeof t.start}const Jo=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],tl=["initial",...Jo];function isControllingVariants(t){return isAnimationControls(t.animate)||tl.some(n=>isVariantLabel(t[n]))}function isVariantNode(t){return Boolean(isControllingVariants(t)||t.variants)}function getCurrentTreeVariants(t,n){if(isControllingVariants(t)){const{initial:n,animate:s}=t;return{initial:!1===n||isVariantLabel(n)?n:void 0,animate:isVariantLabel(s)?s:void 0}}return!1!==t.inherit?n:{}}function useCreateMotionContext(t){const{initial:n,animate:s}=getCurrentTreeVariants(t,H.useContext(Wo));return H.useMemo(()=>({initial:n,animate:s}),[variantLabelsAsDependency(n),variantLabelsAsDependency(s)])}function variantLabelsAsDependency(t){return Array.isArray(t)?t.join(" "):t}const sl={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ul={};for(const Kx in sl)ul[Kx]={isEnabled:t=>sl[Kx].some(n=>!!t[n])};function loadFeatures(t){for(const n in t)ul[n]={...ul[n],...t[n]}}const xl=H.createContext({}),yl=H.createContext({}),vl=Symbol.for("motionComponentSymbol");function createMotionComponent({preloadedFeatures:t,createVisualElement:n,useRender:s,useVisualState:a,Component:i}){function MotionComponent(o,l){let u;const m={...H.useContext(qo),...o,layoutId:useLayoutId(o)},{isStatic:f}=m,x=useCreateMotionContext(o),y=a(o,f);if(!f&&Ko){x.visualElement=useVisualElement(i,y,m,n);const s=H.useContext(yl),a=H.useContext(Yo).strict;x.visualElement&&(u=x.visualElement.loadFeatures(m,a,t,s))}return H.createElement(Wo.Provider,{value:x},u&&x.visualElement?H.createElement(u,{visualElement:x.visualElement,...m}):null,s(i,o,useMotionRef(y,x.visualElement,l),y,f,x.visualElement))}t&&loadFeatures(t);const o=H.forwardRef(MotionComponent);return o[vl]=i,o}function useLayoutId({layoutId:t}){const n=H.useContext(xl).id;return n&&void 0!==t?n+"-"+t:t}function createMotionProxy(t){function custom(n,s={}){return createMotionComponent(t(n,s))}if("undefined"==typeof Proxy)return custom;const n=new Map;return new Proxy(custom,{get:(t,s)=>(n.has(s)||n.set(s,custom(s)),n.get(s))})}const wl=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent(t){return"string"==typeof t&&!t.includes("-")&&!!(wl.indexOf(t)>-1||/[A-Z]/.test(t))}const Nl={};function addScaleCorrector(t){Object.assign(Nl,t)}const kl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Sl=new Set(kl);function isForcedMotionValue(t,{layout:n,layoutId:s}){return Sl.has(t)||t.startsWith("origin")||(n||void 0!==s)&&(!!Nl[t]||"opacity"===t)}const isMotionValue=t=>Boolean(t&&t.getVelocity),Cl={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},El=kl.length;function buildTransform(t,{enableHardwareAcceleration:n=!0,allowTransformNone:s=!0},a,i){let o="";for(let l=0;l<El;l++){const n=kl[l];if(void 0!==t[n]){const s=undefined;o+=`${Cl[n]||n}(${t[n]}) `}}return n&&!t.z&&(o+="translateZ(0)"),o=o.trim(),i?o=i(t,a?"":o):s&&a&&(o="none"),o}const checkStringStartsWith=t=>n=>"string"==typeof n&&n.startsWith(t),Pl=checkStringStartsWith("--"),Tl=checkStringStartsWith("var(--"),_l=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,getValueAsType=(t,n)=>n&&"number"==typeof t?n.transform(t):t,clamp=(t,n,s)=>Math.min(Math.max(s,t),n),Rl={test:t=>"number"==typeof t,parse:parseFloat,transform:t=>t},Al={...Rl,transform:t=>clamp(0,1,t)},Ll={...Rl,default:1},sanitize=t=>Math.round(1e5*t)/1e5,Ml=/(-)?([\d]*\.?[\d])+/g,Dl=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Ol=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function isString$1(t){return"string"==typeof t}const createUnitType=t=>({test:n=>isString$1(n)&&n.endsWith(t)&&1===n.split(" ").length,parse:parseFloat,transform:n=>`${n}${t}`}),Vl=createUnitType("deg"),Fl=createUnitType("%"),Bl=createUnitType("px"),Il=createUnitType("vh"),Ul=createUnitType("vw"),zl={...Fl,parse:t=>Fl.parse(t)/100,transform:t=>Fl.transform(100*t)},$l={...Rl,transform:Math.round},Hl={borderWidth:Bl,borderTopWidth:Bl,borderRightWidth:Bl,borderBottomWidth:Bl,borderLeftWidth:Bl,borderRadius:Bl,radius:Bl,borderTopLeftRadius:Bl,borderTopRightRadius:Bl,borderBottomRightRadius:Bl,borderBottomLeftRadius:Bl,width:Bl,maxWidth:Bl,height:Bl,maxHeight:Bl,size:Bl,top:Bl,right:Bl,bottom:Bl,left:Bl,padding:Bl,paddingTop:Bl,paddingRight:Bl,paddingBottom:Bl,paddingLeft:Bl,margin:Bl,marginTop:Bl,marginRight:Bl,marginBottom:Bl,marginLeft:Bl,rotate:Vl,rotateX:Vl,rotateY:Vl,rotateZ:Vl,scale:Ll,scaleX:Ll,scaleY:Ll,scaleZ:Ll,skew:Vl,skewX:Vl,skewY:Vl,distance:Bl,translateX:Bl,translateY:Bl,translateZ:Bl,x:Bl,y:Bl,z:Bl,perspective:Bl,transformPerspective:Bl,opacity:Al,originX:zl,originY:zl,originZ:Bl,zIndex:$l,fillOpacity:Al,strokeOpacity:Al,numOctaves:$l};function buildHTMLStyles(t,n,s,a){const{style:i,vars:o,transform:l,transformOrigin:u}=t;let m=!1,f=!1,x=!0;for(const y in n){const t=n[y];if(Pl(y)){o[y]=t;continue}const s=Hl[y],a=getValueAsType(t,s);if(Sl.has(y)){if(m=!0,l[y]=a,!x)continue;t!==(s.default||0)&&(x=!1)}else y.startsWith("origin")?(f=!0,u[y]=a):i[y]=a}if(n.transform||(m||a?i.transform=buildTransform(t.transform,s,x,a):i.transform&&(i.transform="none")),f){const{originX:t="50%",originY:n="50%",originZ:s=0}=u;i.transformOrigin=`${t} ${n} ${s}`}}const createHtmlRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function copyRawValuesOnly(t,n,s){for(const a in n)isMotionValue(n[a])||isForcedMotionValue(a,s)||(t[a]=n[a])}function useInitialMotionValues({transformTemplate:t},n,s){return H.useMemo(()=>{const a={style:{},transform:{},transformOrigin:{},vars:{}};return buildHTMLStyles(a,n,{enableHardwareAcceleration:!s},t),Object.assign({},a.vars,a.style)},[n])}function useStyle(t,n,s){const a=undefined,i={};return copyRawValuesOnly(i,t.style||{},t),Object.assign(i,useInitialMotionValues(t,n,s)),t.transformValues?t.transformValues(i):i}function useHTMLProps(t,n,s){const a={},i=useStyle(t,n,s);return t.drag&&!1!==t.dragListener&&(a.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===t.drag?"none":"pan-"+("x"===t.drag?"y":"x")),void 0===t.tabIndex&&(t.onTap||t.onTapStart||t.whileTap)&&(a.tabIndex=0),a.style=i,a}const Wl=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function isValidMotionProp(t){return t.startsWith("while")||t.startsWith("drag")&&"draggable"!==t||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Wl.has(t)}let shouldForward=t=>!isValidMotionProp(t);function loadExternalIsValidProp(t){t&&(shouldForward=n=>n.startsWith("on")?!isValidMotionProp(n):t(n))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch(Wx){}function filterProps(t,n,s){const a={};for(const i in t)"values"===i&&"object"==typeof t.values||(shouldForward(i)||!0===s&&isValidMotionProp(i)||!n&&!isValidMotionProp(i)||t.draggable&&i.startsWith("onDrag"))&&(a[i]=t[i]);return a}function calcOrigin$1(t,n,s){return"string"==typeof t?t:Bl.transform(n+s*t)}function calcSVGTransformOrigin(t,n,s){const a=undefined,i=undefined;return`${calcOrigin$1(n,t.x,t.width)} ${calcOrigin$1(s,t.y,t.height)}`}const Xl={offset:"stroke-dashoffset",array:"stroke-dasharray"},Kl={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(t,n,s=1,a=0,i=!0){t.pathLength=1;const o=i?Xl:Kl;t[o.offset]=Bl.transform(-a);const l=Bl.transform(n),u=Bl.transform(s);t[o.array]=`${l} ${u}`}function buildSVGAttrs(t,{attrX:n,attrY:s,attrScale:a,originX:i,originY:o,pathLength:l,pathSpacing:u=1,pathOffset:m=0,...f},x,y,j){if(buildHTMLStyles(t,f,x,j),y)return void(t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox));t.attrs=t.style,t.style={};const{attrs:w,style:N,dimensions:k}=t;w.transform&&(k&&(N.transform=w.transform),delete w.transform),k&&(void 0!==i||void 0!==o||N.transform)&&(N.transformOrigin=calcSVGTransformOrigin(k,void 0!==i?i:.5,void 0!==o?o:.5)),void 0!==n&&(w.x=n),void 0!==s&&(w.y=s),void 0!==a&&(w.scale=a),void 0!==l&&buildSVGPath(w,l,u,m,!1)}const createSvgRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{},attrs:{}}),isSVGTag=t=>"string"==typeof t&&"svg"===t.toLowerCase();function useSVGProps(t,n,s,a){const i=H.useMemo(()=>{const s={style:{},transform:{},transformOrigin:{},vars:{},attrs:{}};return buildSVGAttrs(s,n,{enableHardwareAcceleration:!1},isSVGTag(a),t.transformTemplate),{...s.attrs,style:{...s.style}}},[n]);if(t.style){const n={};copyRawValuesOnly(n,t.style,t),i.style={...n,...i.style}}return i}function createUseRender(t=!1){const n=undefined;return(n,s,a,{latestValues:i},o)=>{const l=undefined,u=(isSVGComponent(n)?useSVGProps:useHTMLProps)(s,i,o,n),m=undefined,f={...filterProps(s,"string"==typeof n,t),...u,ref:a},{children:x}=s,y=H.useMemo(()=>isMotionValue(x)?x.get():x,[x]);return H.createElement(n,{...f,children:y})}}function renderHTML(t,{style:n,vars:s},a,i){Object.assign(t.style,n,i&&i.getProjectionStyles(a));for(const o in s)t.style.setProperty(o,s[o])}const Gl=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG(t,n,s,a){renderHTML(t,n,void 0,a);for(const i in n.attrs)t.setAttribute(Gl.has(i)?i:camelToDash(i),n.attrs[i])}function scrapeMotionValuesFromProps$1(t,n){const{style:s}=t,a={};for(const i in s)(isMotionValue(s[i])||n.style&&isMotionValue(n.style[i])||isForcedMotionValue(i,t))&&(a[i]=s[i]);return a}function scrapeMotionValuesFromProps(t,n){const s=scrapeMotionValuesFromProps$1(t,n);for(const a in t)if(isMotionValue(t[a])||isMotionValue(n[a])){const n=undefined;s[-1!==kl.indexOf(a)?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a]=t[a]}return s}function resolveVariantFromProps(t,n,s,a={},i={}){return"function"==typeof n&&(n=n(void 0!==s?s:t.custom,a,i)),"string"==typeof n&&(n=t.variants&&t.variants[n]),"function"==typeof n&&(n=n(void 0!==s?s:t.custom,a,i)),n}function useConstant(t){const n=H.useRef(null);return null===n.current&&(n.current=t()),n.current}const isKeyframesTarget=t=>Array.isArray(t),isCustomValue=t=>Boolean(t&&"object"==typeof t&&t.mix&&t.toValue),resolveFinalValueInKeyframes=t=>isKeyframesTarget(t)?t[t.length-1]||0:t;function resolveMotionValue(t){const n=isMotionValue(t)?t.get():t;return isCustomValue(n)?n.toValue():n}function makeState({scrapeMotionValuesFromProps:t,createRenderState:n,onMount:s},a,i,o){const l={latestValues:makeLatestValues(a,i,o,t),renderState:n()};return s&&(l.mount=t=>s(a,t,l)),l}const makeUseVisualState=t=>(n,s)=>{const a=H.useContext(Wo),i=H.useContext(Xo),make=()=>makeState(t,n,a,i);return s?make():useConstant(make)};function makeLatestValues(t,n,s,a){const i={},o=a(t,{});for(const j in o)i[j]=resolveMotionValue(o[j]);let{initial:l,animate:u}=t;const m=isControllingVariants(t),f=isVariantNode(t);n&&f&&!m&&!1!==t.inherit&&(void 0===l&&(l=n.initial),void 0===u&&(u=n.animate));let x=!!s&&!1===s.initial;x=x||!1===l;const y=x?u:l;if(y&&"boolean"!=typeof y&&!isAnimationControls(y)){const n=undefined;(Array.isArray(y)?y:[y]).forEach(n=>{const s=resolveVariantFromProps(t,n);if(!s)return;const{transitionEnd:a,transition:o,...l}=s;for(const t in l){let n=l[t];if(Array.isArray(n)){const t=undefined;n=n[x?n.length-1:0]}null!==n&&(i[t]=n)}for(const t in a)i[t]=a[t]})}return i}const noop$1=t=>t;class Yl{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);-1!==n&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function createRenderStep(t){let n=new Yl,s=new Yl,a=0,i=!1,o=!1;const l=new WeakSet,u={schedule:(t,o=!1,u=!1)=>{const m=u&&i,f=m?n:s;return o&&l.add(t),f.add(t)&&m&&i&&(a=n.order.length),t},cancel:t=>{s.remove(t),l.delete(t)},process:m=>{if(i)o=!0;else{if(i=!0,[n,s]=[s,n],s.clear(),a=n.order.length,a)for(let s=0;s<a;s++){const a=n.order[s];a(m),l.has(a)&&(u.schedule(a),t())}i=!1,o&&(o=!1,u.process(m))}}};return u}const Ql=["prepare","read","update","preRender","render","postRender"],Zl=40;function createRenderBatcher(t,n){let s=!1,a=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=Ql.reduce((t,n)=>(t[n]=createRenderStep(()=>s=!0),t),{}),processStep=t=>o[t].process(i),processBatch=()=>{const o=performance.now();s=!1,i.delta=a?1e3/60:Math.max(Math.min(o-i.timestamp,Zl),1),i.timestamp=o,i.isProcessing=!0,Ql.forEach(processStep),i.isProcessing=!1,s&&n&&(a=!1,t(processBatch))},wake=()=>{s=!0,a=!0,i.isProcessing||t(processBatch)},l=undefined,u=undefined;return{schedule:Ql.reduce((t,n)=>{const a=o[n];return t[n]=(t,n=!1,i=!1)=>(s||wake(),a.schedule(t,n,i)),t},{}),cancel:t=>Ql.forEach(n=>o[n].cancel(t)),state:i,steps:o}}const{schedule:Jl,cancel:ec,state:sc,steps:rc}=createRenderBatcher("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:noop$1,!0),ac={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps,createRenderState:createSvgRenderState,onMount:(t,n,{renderState:s,latestValues:a})=>{Jl.read(()=>{try{s.dimensions="function"==typeof n.getBBox?n.getBBox():n.getBoundingClientRect()}catch(qx){s.dimensions={x:0,y:0,width:0,height:0}}}),Jl.render(()=>{buildSVGAttrs(s,a,{enableHardwareAcceleration:!1},isSVGTag(n.tagName),t.transformTemplate),renderSVG(n,s)})}})},ic={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState})};function createDomMotionConfig(t,{forwardMotionProps:n=!1},s,a){const i=undefined;return{...isSVGComponent(t)?ac:ic,preloadedFeatures:s,useRender:createUseRender(n),createVisualElement:a,Component:t}}function addDomEvent(t,n,s,a={passive:!0}){return t.addEventListener(n,s,a),()=>t.removeEventListener(n,s)}const isPrimaryPointer=t=>"mouse"===t.pointerType?"number"!=typeof t.button||t.button<=0:!1!==t.isPrimary;function extractEventInfo(t,n="page"){return{point:{x:t[n+"X"],y:t[n+"Y"]}}}const addPointerInfo=t=>n=>isPrimaryPointer(n)&&t(n,extractEventInfo(n));function addPointerEvent(t,n,s,a){return addDomEvent(t,n,addPointerInfo(s),a)}const combineFunctions=(t,n)=>s=>n(t(s)),pipe=(...t)=>t.reduce(combineFunctions);function createLock(t){let n=null;return()=>{const openLock=()=>{n=null};return null===n&&(n=t,openLock)}}const oc=createLock("dragHorizontal"),lc=createLock("dragVertical");function getGlobalLock(t){let n=!1;if("y"===t)n=lc();else if("x"===t)n=oc();else{const t=oc(),s=lc();t&&s?n=()=>{t(),s()}:(t&&t(),s&&s())}return n}function isDragActive(){const t=getGlobalLock(!0);return!t||(t(),!1)}class cc{constructor(t){this.isMounted=!1,this.node=t}update(){}}function addHoverEvent(t,n){const s="pointer"+(n?"enter":"leave"),a="onHover"+(n?"Start":"End"),handleEvent=(s,i)=>{if("touch"===s.pointerType||isDragActive())return;const o=t.getProps();t.animationState&&o.whileHover&&t.animationState.setActive("whileHover",n),o[a]&&Jl.update(()=>o[a](s,i))};return addPointerEvent(t.current,s,handleEvent,{passive:!t.getProps()[a]})}class dc extends cc{mount(){this.unmount=pipe(addHoverEvent(this.node,!0),addHoverEvent(this.node,!1))}unmount(){}}class hc extends cc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch(qx){t=!0}t&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe(addDomEvent(this.node.current,"focus",()=>this.onFocus()),addDomEvent(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const isNodeOrChild=(t,n)=>!!n&&(t===n||isNodeOrChild(t,n.parentElement));function fireSyntheticPointerEvent(t,n){if(!n)return;const s=new PointerEvent("pointer"+t);n(s,extractEventInfo(s))}class pc extends cc{constructor(){super(...arguments),this.removeStartListeners=noop$1,this.removeEndListeners=noop$1,this.removeAccessibleListeners=noop$1,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const s=this.node.getProps(),a=undefined,i=addPointerEvent(window,"pointerup",(t,n)=>{if(!this.checkPressEnd())return;const{onTap:s,onTapCancel:a,globalTapTarget:i}=this.node.getProps();Jl.update(()=>{i||isNodeOrChild(this.node.current,t.target)?s&&s(t,n):a&&a(t,n)})},{passive:!(s.onTap||s.onPointerUp)}),o=addPointerEvent(window,"pointercancel",(t,n)=>this.cancelPress(t,n),{passive:!(s.onTapCancel||s.onPointerCancel)});this.removeEndListeners=pipe(i,o),this.startPress(t,n)},this.startAccessiblePress=()=>{const handleKeydown=t=>{if("Enter"!==t.key||this.isPressing)return;const handleKeyup=t=>{"Enter"===t.key&&this.checkPressEnd()&&fireSyntheticPointerEvent("up",(t,n)=>{const{onTap:s}=this.node.getProps();s&&Jl.update(()=>s(t,n))})};this.removeEndListeners(),this.removeEndListeners=addDomEvent(this.node.current,"keyup",handleKeyup),fireSyntheticPointerEvent("down",(t,n)=>{this.startPress(t,n)})},t=addDomEvent(this.node.current,"keydown",handleKeydown),handleBlur=()=>{this.isPressing&&fireSyntheticPointerEvent("cancel",(t,n)=>this.cancelPress(t,n))},n=addDomEvent(this.node.current,"blur",handleBlur);this.removeAccessibleListeners=pipe(t,n)}}startPress(t,n){this.isPressing=!0;const{onTapStart:s,whileTap:a}=this.node.getProps();a&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),s&&Jl.update(()=>s(t,n))}checkPressEnd(){this.removeEndListeners(),this.isPressing=!1;const t=undefined;return this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!isDragActive()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:s}=this.node.getProps();s&&Jl.update(()=>s(t,n))}mount(){const t=this.node.getProps(),n=addPointerEvent(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),s=addDomEvent(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=pipe(n,s)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const fc=new WeakMap,gc=new WeakMap,fireObserverCallback=t=>{const n=fc.get(t.target);n&&n(t)},fireAllObserverCallbacks=t=>{t.forEach(fireObserverCallback)};function initIntersectionObserver({root:t,...n}){const s=t||document;gc.has(s)||gc.set(s,{});const a=gc.get(s),i=JSON.stringify(n);return a[i]||(a[i]=new IntersectionObserver(fireAllObserverCallbacks,{root:t,...n})),a[i]}function observeIntersection(t,n,s){const a=initIntersectionObserver(n);return fc.set(t,s),a.observe(t),()=>{fc.delete(t),a.unobserve(t)}}const bc={some:0,all:1};class jc extends cc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:s,threshold:"number"==typeof a?a:bc[a]},onIntersectionUpdate=t=>{const{isIntersecting:n}=t;if(this.isInView===n)return;if(this.isInView=n,i&&!n&&this.hasEnteredView)return;n&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",n);const{onViewportEnter:s,onViewportLeave:a}=this.node.getProps(),o=n?s:a;o&&o(t)};return observeIntersection(this.node.current,o,onIntersectionUpdate)}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;const{props:t,prevProps:n}=this.node,s=undefined;["amount","margin","root"].some(hasViewportOptionChanged(t,n))&&this.startObserver()}unmount(){}}function hasViewportOptionChanged({viewport:t={}},{viewport:n={}}={}){return s=>t[s]!==n[s]}const Nc={inView:{Feature:jc},tap:{Feature:pc},focus:{Feature:hc},hover:{Feature:dc}};function shallowCompare(t,n){if(!Array.isArray(n))return!1;const s=n.length;if(s!==t.length)return!1;for(let a=0;a<s;a++)if(n[a]!==t[a])return!1;return!0}function getCurrent(t){const n={};return t.values.forEach((t,s)=>n[s]=t.get()),n}function getVelocity$1(t){const n={};return t.values.forEach((t,s)=>n[s]=t.getVelocity()),n}function resolveVariant(t,n,s){const a=t.getProps();return resolveVariantFromProps(a,n,void 0!==s?s:a.custom,getCurrent(t),getVelocity$1(t))}let kc=noop$1,Ec=noop$1;const secondsToMilliseconds=t=>1e3*t,millisecondsToSeconds=t=>t/1e3,Pc=!1,isBezierDefinition=t=>Array.isArray(t)&&"number"==typeof t[0];function isWaapiSupportedEasing(t){return Boolean(!t||"string"==typeof t&&_c[t]||isBezierDefinition(t)||Array.isArray(t)&&t.every(isWaapiSupportedEasing))}const cubicBezierAsString=([t,n,s,a])=>`cubic-bezier(${t}, ${n}, ${s}, ${a})`,_c={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasing(t){if(t)return isBezierDefinition(t)?cubicBezierAsString(t):Array.isArray(t)?t.map(mapEasingToNativeEasing):_c[t]}function animateStyle(t,n,s,{delay:a=0,duration:i,repeat:o=0,repeatType:l="loop",ease:u,times:m}={}){const f={[n]:s};m&&(f.offset=m);const x=mapEasingToNativeEasing(u);return Array.isArray(x)&&(f.easing=x),t.animate(f,{delay:a,duration:i,easing:Array.isArray(x)?"linear":x,fill:"both",iterations:o+1,direction:"reverse"===l?"alternate":"normal"})}function getFinalKeyframe(t,{repeat:n,repeatType:s="loop"}){const a=undefined;return t[n&&"loop"!==s&&n%2==1?0:t.length-1]}const calcBezier=(t,n,s)=>(((1-3*s+3*n)*t+(3*s-6*n))*t+3*n)*t,Rc=1e-7,Lc=12;function binarySubdivide(t,n,s,a,i){let o,l,u=0;do{l=n+(s-n)/2,o=calcBezier(l,a,i)-t,o>0?s=l:n=l}while(Math.abs(o)>Rc&&++u<Lc);return l}function cubicBezier(t,n,s,a){if(t===n&&s===a)return noop$1;const getTForX=n=>binarySubdivide(n,0,1,t,s);return t=>0===t||1===t?t:calcBezier(getTForX(t),n,a)}const Mc=cubicBezier(.42,0,1,1),Oc=cubicBezier(0,0,.58,1),Fc=cubicBezier(.42,0,.58,1),isEasingArray=t=>Array.isArray(t)&&"number"!=typeof t[0],mirrorEasing=t=>n=>n<=.5?t(2*n)/2:(2-t(2*(1-n)))/2,reverseEasing=t=>n=>1-t(1-n),circIn=t=>1-Math.sin(Math.acos(t)),Ic=reverseEasing(circIn),Hc=mirrorEasing(circIn),qc=cubicBezier(.33,1.53,.69,.99),Kc=reverseEasing(qc),Gc=mirrorEasing(Kc),anticipate=t=>(t*=2)<1?.5*Kc(t):.5*(2-Math.pow(2,-10*(t-1))),Qc={linear:noop$1,easeIn:Mc,easeInOut:Fc,easeOut:Oc,circIn:circIn,circInOut:Hc,circOut:Ic,backIn:Kc,backInOut:Gc,backOut:qc,anticipate:anticipate},easingDefinitionToFunction=t=>{if(Array.isArray(t)){Ec(4===t.length);const[n,s,a,i]=t;return cubicBezier(n,s,a,i)}return"string"==typeof t?Qc[t]:t},isColorString=(t,n)=>s=>Boolean(isString$1(s)&&Ol.test(s)&&s.startsWith(t)||n&&Object.prototype.hasOwnProperty.call(s,n)),splitColor=(t,n,s)=>a=>{if(!isString$1(a))return a;const[i,o,l,u]=a.match(Ml);return{[t]:parseFloat(i),[n]:parseFloat(o),[s]:parseFloat(l),alpha:void 0!==u?parseFloat(u):1}},clampRgbUnit=t=>clamp(0,255,t),Jc={...Rl,transform:t=>Math.round(clampRgbUnit(t))},td={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:t,green:n,blue:s,alpha:a=1})=>"rgba("+Jc.transform(t)+", "+Jc.transform(n)+", "+Jc.transform(s)+", "+sanitize(Al.transform(a))+")"};function parseHex(t){let n="",s="",a="",i="";return t.length>5?(n=t.substring(1,3),s=t.substring(3,5),a=t.substring(5,7),i=t.substring(7,9)):(n=t.substring(1,2),s=t.substring(2,3),a=t.substring(3,4),i=t.substring(4,5),n+=n,s+=s,a+=a,i+=i),{red:parseInt(n,16),green:parseInt(s,16),blue:parseInt(a,16),alpha:i?parseInt(i,16)/255:1}}const sd={test:isColorString("#"),parse:parseHex,transform:td.transform},id={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:t,saturation:n,lightness:s,alpha:a=1})=>"hsla("+Math.round(t)+", "+Fl.transform(sanitize(n))+", "+Fl.transform(sanitize(s))+", "+sanitize(Al.transform(a))+")"},ld={test:t=>td.test(t)||sd.test(t)||id.test(t),parse:t=>td.test(t)?td.parse(t):id.test(t)?id.parse(t):sd.parse(t),transform:t=>isString$1(t)?t:t.hasOwnProperty("red")?td.transform(t):id.transform(t)},mix=(t,n,s)=>-s*t+s*n+t;function hueToRgb(t,n,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?t+6*(n-t)*s:s<.5?n:s<2/3?t+(n-t)*(2/3-s)*6:t}function hslaToRgba({hue:t,saturation:n,lightness:s,alpha:a}){t/=360,s/=100;let i=0,o=0,l=0;if(n/=100){const a=s<.5?s*(1+n):s+n-s*n,u=2*s-a;i=hueToRgb(u,a,t+1/3),o=hueToRgb(u,a,t),l=hueToRgb(u,a,t-1/3)}else i=o=l=s;return{red:Math.round(255*i),green:Math.round(255*o),blue:Math.round(255*l),alpha:a}}const mixLinearColor=(t,n,s)=>{const a=t*t;return Math.sqrt(Math.max(0,s*(n*n-a)+a))},cd=[sd,td,id],getColorType=t=>cd.find(n=>n.test(t));function asRGBA(t){const n=getColorType(t);let s=n.parse(t);return n===id&&(s=hslaToRgba(s)),s}const mixColor=(t,n)=>{const s=asRGBA(t),a=asRGBA(n),i={...s};return t=>(i.red=mixLinearColor(s.red,a.red,t),i.green=mixLinearColor(s.green,a.green,t),i.blue=mixLinearColor(s.blue,a.blue,t),i.alpha=mix(s.alpha,a.alpha,t),td.transform(i))};function test$1(t){var n,s;return isNaN(t)&&isString$1(t)&&((null===(n=t.match(Ml))||void 0===n?void 0:n.length)||0)+((null===(s=t.match(Dl))||void 0===s?void 0:s.length)||0)>0}const dd={regex:_l,countKey:"Vars",token:"${v}",parse:noop$1},ud={regex:Dl,countKey:"Colors",token:"${c}",parse:ld.parse},md={regex:Ml,countKey:"Numbers",token:"${n}",parse:Rl.parse};function tokenise(t,{regex:n,countKey:s,token:a,parse:i}){const o=t.tokenised.match(n);o&&(t["num"+s]=o.length,t.tokenised=t.tokenised.replace(n,a),t.values.push(...o.map(i)))}function analyseComplexValue(t){const n=t.toString(),s={value:n,tokenised:n,values:[],numVars:0,numColors:0,numNumbers:0};return s.value.includes("var(--")&&tokenise(s,dd),tokenise(s,ud),tokenise(s,md),s}function parseComplexValue(t){return analyseComplexValue(t).values}function createTransformer(t){const{values:n,numColors:s,numVars:a,tokenised:i}=analyseComplexValue(t),o=n.length;return t=>{let n=i;for(let i=0;i<o;i++)n=i<a?n.replace(dd.token,t[i]):i<a+s?n.replace(ud.token,ld.transform(t[i])):n.replace(md.token,sanitize(t[i]));return n}}const convertNumbersToZero=t=>"number"==typeof t?0:t;function getAnimatableNone$1(t){const n=parseComplexValue(t),s=undefined;return createTransformer(t)(n.map(convertNumbersToZero))}const xd={test:test$1,parse:parseComplexValue,createTransformer:createTransformer,getAnimatableNone:getAnimatableNone$1},mixImmediate=(t,n)=>s=>`${s>0?n:t}`;function getMixer(t,n){return"number"==typeof t?s=>mix(t,n,s):ld.test(t)?mixColor(t,n):t.startsWith("var(")?mixImmediate(t,n):mixComplex(t,n)}const mixArray=(t,n)=>{const s=[...t],a=s.length,i=t.map((t,s)=>getMixer(t,n[s]));return t=>{for(let n=0;n<a;n++)s[n]=i[n](t);return s}},mixObject=(t,n)=>{const s={...t,...n},a={};for(const i in s)void 0!==t[i]&&void 0!==n[i]&&(a[i]=getMixer(t[i],n[i]));return t=>{for(const n in a)s[n]=a[n](t);return s}},mixComplex=(t,n)=>{const s=xd.createTransformer(n),a=analyseComplexValue(t),i=analyseComplexValue(n),o=undefined;return a.numVars===i.numVars&&a.numColors===i.numColors&&a.numNumbers>=i.numNumbers?pipe(mixArray(a.values,i.values),s):mixImmediate(t,n)},progress=(t,n,s)=>{const a=n-t;return 0===a?1:(s-t)/a},mixNumber=(t,n)=>s=>mix(t,n,s);function detectMixerFactory(t){return"number"==typeof t?mixNumber:"string"==typeof t?ld.test(t)?mixColor:mixComplex:Array.isArray(t)?mixArray:"object"==typeof t?mixObject:mixNumber}function createMixers(t,n,s){const a=[],i=s||detectMixerFactory(t[0]),o=t.length-1;for(let l=0;l<o;l++){let s=i(t[l],t[l+1]);if(n){const t=Array.isArray(n)?n[l]||noop$1:n;s=pipe(t,s)}a.push(s)}return a}function interpolate(t,n,{clamp:s=!0,ease:a,mixer:i}={}){const o=t.length;if(Ec(o===n.length),1===o)return()=>n[0];t[0]>t[o-1]&&(t=[...t].reverse(),n=[...n].reverse());const l=createMixers(n,a,i),u=l.length,interpolator=n=>{let s=0;if(u>1)for(;s<t.length-2&&!(n<t[s+1]);s++);const a=progress(t[s],t[s+1],n);return l[s](a)};return s?n=>interpolator(clamp(t[0],t[o-1],n)):interpolator}function fillOffset(t,n){const s=t[t.length-1];for(let a=1;a<=n;a++){const i=progress(0,n,a);t.push(mix(s,1,i))}}function defaultOffset(t){const n=[0];return fillOffset(n,t.length-1),n}function convertOffsetToTimes(t,n){return t.map(t=>t*n)}function defaultEasing(t,n){return t.map(()=>n||Fc).splice(0,t.length-1)}function keyframes({duration:t=300,keyframes:n,times:s,ease:a="easeInOut"}){const i=isEasingArray(a)?a.map(easingDefinitionToFunction):easingDefinitionToFunction(a),o={done:!1,value:n[0]},l=undefined,u=interpolate(convertOffsetToTimes(s&&s.length===n.length?s:defaultOffset(n),t),n,{ease:Array.isArray(i)?i:defaultEasing(n,i)});return{calculatedDuration:t,next:n=>(o.value=u(n),o.done=n>=t,o)}}function velocityPerSecond(t,n){return n?t*(1e3/n):0}const yd=5;function calcGeneratorVelocity(t,n,s){const a=Math.max(n-5,0);return velocityPerSecond(s-t(a),n-a)}const vd=.001,wd=.01,Nd=10,kd=.05,Sd=1;function findSpring({duration:t=800,bounce:n=.25,velocity:s=0,mass:a=1}){let i,o;kc(t<=secondsToMilliseconds(Nd));let l=1-n;l=clamp(kd,1,l),t=clamp(wd,Nd,millisecondsToSeconds(t)),l<1?(i=n=>{const a=n*l,i=a*t,o=a-s,u=calcAngularFreq(n,l),m=Math.exp(-i);return vd-o/u*m},o=n=>{const a=undefined,o=n*l*t,u=o*s+s,m=Math.pow(l,2)*Math.pow(n,2)*t,f=Math.exp(-o),x=calcAngularFreq(Math.pow(n,2),l),y=undefined;return(-i(n)+vd>0?-1:1)*((u-m)*f)/x}):(i=n=>{const a=undefined,i=undefined;return Math.exp(-n*t)*((n-s)*t+1)-.001},o=n=>{const a=undefined,i=undefined;return Math.exp(-n*t)*(t*t*(s-n))});const u=undefined,m=approximateRoot(i,o,5/t);if(t=secondsToMilliseconds(t),isNaN(m))return{stiffness:100,damping:10,duration:t};{const n=Math.pow(m,2)*a;return{stiffness:n,damping:2*l*Math.sqrt(a*n),duration:t}}}const Cd=12;function approximateRoot(t,n,s){let a=s;for(let i=1;i<Cd;i++)a-=t(a)/n(a);return a}function calcAngularFreq(t,n){return t*Math.sqrt(1-n*n)}const Ed=["duration","bounce"],Td=["stiffness","damping","mass"];function isSpringType(t,n){return n.some(n=>void 0!==t[n])}function getSpringOptions(t){let n={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!isSpringType(t,Td)&&isSpringType(t,Ed)){const s=findSpring(t);n={...n,...s,mass:1},n.isResolvedFromDuration=!0}return n}function spring({keyframes:t,restDelta:n,restSpeed:s,...a}){const i=t[0],o=t[t.length-1],l={done:!1,value:i},{stiffness:u,damping:m,mass:f,duration:x,velocity:y,isResolvedFromDuration:j}=getSpringOptions({...a,velocity:-millisecondsToSeconds(a.velocity||0)}),w=y||0,N=m/(2*Math.sqrt(u*f)),k=o-i,C=millisecondsToSeconds(Math.sqrt(u/f)),T=Math.abs(k)<5;let _;if(s||(s=T?.01:2),n||(n=T?.005:.5),N<1){const t=calcAngularFreq(C,N);_=n=>{const s=Math.exp(-N*C*n);return o-s*((w+N*C*k)/t*Math.sin(t*n)+k*Math.cos(t*n))}}else if(1===N)_=t=>o-Math.exp(-C*t)*(k+(w+C*k)*t);else{const t=C*Math.sqrt(N*N-1);_=n=>{const s=Math.exp(-N*C*n),a=Math.min(t*n,300);return o-s*((w+N*C*k)*Math.sinh(a)+t*k*Math.cosh(a))/t}}return{calculatedDuration:j&&x||null,next:t=>{const a=_(t);if(j)l.done=t>=x;else{let i=w;0!==t&&(i=N<1?calcGeneratorVelocity(_,t,a):0);const u=Math.abs(i)<=s,m=Math.abs(o-a)<=n;l.done=u&&m}return l.value=l.done?o:a,l}}}function inertia({keyframes:t,velocity:n=0,power:s=.8,timeConstant:a=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:l,min:u,max:m,restDelta:f=.5,restSpeed:x}){const y=t[0],j={done:!1,value:y},isOutOfBounds=t=>void 0!==u&&t<u||void 0!==m&&t>m,nearestBoundary=t=>void 0===u?m:void 0===m||Math.abs(u-t)<Math.abs(m-t)?u:m;let w=s*n;const N=y+w,k=void 0===l?N:l(N);k!==N&&(w=k-y);const calcDelta=t=>-w*Math.exp(-t/a),calcLatest=t=>k+calcDelta(t),applyFriction=t=>{const n=calcDelta(t),s=calcLatest(t);j.done=Math.abs(n)<=f,j.value=j.done?k:s};let C,T;const checkCatchBoundary=t=>{isOutOfBounds(j.value)&&(C=t,T=spring({keyframes:[j.value,nearestBoundary(j.value)],velocity:calcGeneratorVelocity(calcLatest,t,j.value),damping:i,stiffness:o,restDelta:f,restSpeed:x}))};return checkCatchBoundary(0),{calculatedDuration:null,next:t=>{let n=!1;return T||void 0!==C||(n=!0,applyFriction(t),checkCatchBoundary(t)),void 0!==C&&t>C?T.next(t-C):(!n&&applyFriction(t),j)}}}const frameloopDriver=t=>{const passTimestamp=({timestamp:n})=>t(n);return{start:()=>Jl.update(passTimestamp,!0),stop:()=>ec(passTimestamp),now:()=>sc.isProcessing?sc.timestamp:performance.now()}},_d=2e4;function calcGeneratorDuration(t){let n=0;const s=50;let a=t.next(n);for(;!a.done&&n<_d;)n+=s,a=t.next(n);return n>=_d?1/0:n}const Rd={decay:inertia,inertia:inertia,tween:keyframes,keyframes:keyframes,spring:spring};function animateValue({autoplay:t=!0,delay:n=0,driver:s=frameloopDriver,keyframes:a,type:i="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:u="loop",onPlay:m,onStop:f,onComplete:x,onUpdate:y,...j}){let w=1,N=!1,k,C;const updateFinishedPromise=()=>{C=new Promise(t=>{k=t})};let T;updateFinishedPromise();const _=Rd[i]||keyframes;let A;_!==keyframes&&"number"!=typeof a[0]&&(A=interpolate([0,100],a,{clamp:!1}),a=[0,100]);const L=_({...j,keyframes:a});let M;"mirror"===u&&(M=_({...j,keyframes:[...a].reverse(),velocity:-(j.velocity||0)}));let O="idle",V=null,B=null,I=null;null===L.calculatedDuration&&o&&(L.calculatedDuration=calcGeneratorDuration(L));const{calculatedDuration:U}=L;let z=1/0,$=1/0;null!==U&&(z=U+l,$=z*(o+1)-l);let H=0;const tick=t=>{if(null===B)return;w>0&&(B=Math.min(B,t)),w<0&&(B=Math.min(t-$/w,B)),H=null!==V?V:Math.round(t-B)*w;const s=H-n*(w>=0?1:-1),i=w>=0?s<0:s>$;H=Math.max(s,0),"finished"===O&&null===V&&(H=$);let m=H,f=L;if(o){const t=Math.min(H,$)/z;let n=Math.floor(t),s=t%1;!s&&t>=1&&(s=1),1===s&&n--,n=Math.min(n,o+1);const a=undefined;Boolean(n%2)&&("reverse"===u?(s=1-s,l&&(s-=l/z)):"mirror"===u&&(f=M)),m=clamp(0,1,s)*z}const x=i?{done:!1,value:a[0]}:f.next(m);A&&(x.value=A(x.value));let{done:j}=x;i||null===U||(j=w>=0?H>=$:H<=0);const N=null===V&&("finished"===O||"running"===O&&j);return y&&y(x.value),N&&finish(),x},stopAnimationDriver=()=>{T&&T.stop(),T=void 0},cancel=()=>{O="idle",stopAnimationDriver(),k(),updateFinishedPromise(),B=I=null},finish=()=>{O="finished",x&&x(),stopAnimationDriver(),k()},play=()=>{if(N)return;T||(T=s(tick));const t=T.now();m&&m(),null!==V?B=t-V:B&&"finished"!==O||(B=t),"finished"===O&&updateFinishedPromise(),I=B,V=null,O="running",T.start()};t&&play();const X={then:(t,n)=>C.then(t,n),get time(){return millisecondsToSeconds(H)},set time(t){t=secondsToMilliseconds(t),H=t,null===V&&T&&0!==w?B=T.now()-t/w:V=t},get duration(){const t=null===L.calculatedDuration?calcGeneratorDuration(L):L.calculatedDuration;return millisecondsToSeconds(t)},get speed(){return w},set speed(t){t!==w&&T&&(w=t,X.time=millisecondsToSeconds(H))},get state(){return O},play:play,pause:()=>{O="paused",V=H},stop:()=>{N=!0,"idle"!==O&&(O="idle",f&&f(),cancel())},cancel:()=>{null!==I&&tick(I),cancel()},complete:()=>{O="finished"},sample:t=>(B=0,tick(t))};return X}function memo(t){let n;return()=>(void 0===n&&(n=t()),n)}const Ad=memo(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Ld=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Md=10,Dd=2e4,requiresPregeneratedKeyframes=(t,n)=>"spring"===n.type||"backgroundColor"===t||!isWaapiSupportedEasing(n.ease);function createAcceleratedAnimation(t,n,{onUpdate:s,onComplete:a,...i}){const o=undefined;if(!(Ad()&&Ld.has(n)&&!i.repeatDelay&&"mirror"!==i.repeatType&&0!==i.damping&&"inertia"!==i.type))return!1;let l=!1,u,m,f=!1;const updateFinishedPromise=()=>{m=new Promise(t=>{u=t})};updateFinishedPromise();let{keyframes:x,duration:y=300,ease:j,times:w}=i;if(requiresPregeneratedKeyframes(n,i)){const t=animateValue({...i,repeat:0,delay:0});let n={done:!1,value:x[0]};const s=[];let a=0;for(;!n.done&&a<Dd;)n=t.sample(a),s.push(n.value),a+=Md;w=void 0,x=s,y=a-Md,j="linear"}const N=animateStyle(t.owner.current,n,x,{...i,duration:y,ease:j,times:w}),cancelAnimation=()=>{f=!1,N.cancel()},safeCancel=()=>{f=!0,Jl.update(cancelAnimation),u(),updateFinishedPromise()};N.onfinish=()=>{f||(t.set(getFinalKeyframe(x,i)),a&&a(),safeCancel())};const k=undefined;return{then:(t,n)=>m.then(t,n),attachTimeline:t=>(N.timeline=t,N.onfinish=null,noop$1),get time(){return millisecondsToSeconds(N.currentTime||0)},set time(t){N.currentTime=secondsToMilliseconds(t)},get speed(){return N.playbackRate},set speed(t){N.playbackRate=t},get duration(){return millisecondsToSeconds(y)},play:()=>{l||(N.play(),ec(cancelAnimation))},pause:()=>N.pause(),stop:()=>{if(l=!0,"idle"===N.playState)return;const{currentTime:n}=N;if(n){const s=animateValue({...i,autoplay:!1});t.setWithVelocity(s.sample(n-Md).value,s.sample(n).value,Md)}safeCancel()},complete:()=>{f||N.finish()},cancel:safeCancel}}function createInstantAnimation({keyframes:t,delay:n,onUpdate:s,onComplete:a}){const setValue=()=>(s&&s(t[t.length-1]),a&&a(),{time:0,speed:1,duration:0,play:noop$1,pause:noop$1,stop:noop$1,then:t=>(t(),Promise.resolve()),cancel:noop$1,complete:noop$1});return n?animateValue({keyframes:[0,1],duration:0,delay:n,onComplete:setValue}):setValue()}const Od={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring=t=>({type:"spring",stiffness:550,damping:0===t?2*Math.sqrt(550):30,restSpeed:10}),Vd={type:"keyframes",duration:.8},Fd={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition=(t,{keyframes:n})=>n.length>2?Vd:Sl.has(t)?t.startsWith("scale")?criticallyDampedSpring(n[1]):Od:Fd,isAnimatable=(t,n)=>"zIndex"!==t&&(!("number"!=typeof n&&!Array.isArray(n))||!("string"!=typeof n||!xd.test(n)&&"0"!==n||n.startsWith("url("))),Bd=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(t){const[n,s]=t.slice(0,-1).split("(");if("drop-shadow"===n)return t;const[a]=s.match(Ml)||[];if(!a)return t;const i=s.replace(a,"");let o=Bd.has(n)?1:0;return a!==s&&(o*=100),n+"("+o+i+")"}const Id=/([a-z-]*)\(.*?\)/g,Ud={...xd,getAnimatableNone:t=>{const n=t.match(Id);return n?n.map(applyDefaultFilter).join(" "):t}},$d={...Hl,color:ld,backgroundColor:ld,outlineColor:ld,fill:ld,stroke:ld,borderColor:ld,borderTopColor:ld,borderRightColor:ld,borderBottomColor:ld,borderLeftColor:ld,filter:Ud,WebkitFilter:Ud},getDefaultValueType=t=>$d[t];function getAnimatableNone(t,n){let s=getDefaultValueType(t);return s!==Ud&&(s=xd),s.getAnimatableNone?s.getAnimatableNone(n):void 0}const isZeroValueString=t=>/^0[^.\s]+$/.test(t);function isNone(t){return"number"==typeof t?0===t:null!==t?"none"===t||"0"===t||isZeroValueString(t):void 0}function getKeyframes(t,n,s,a){const i=isAnimatable(n,s);let o;o=Array.isArray(s)?[...s]:[null,s];const l=void 0!==a.from?a.from:t.get();let u;const m=[];for(let f=0;f<o.length;f++)null===o[f]&&(o[f]=0===f?l:o[f-1]),isNone(o[f])&&m.push(f),"string"==typeof o[f]&&"none"!==o[f]&&"0"!==o[f]&&(u=o[f]);if(i&&m.length&&u)for(let f=0;f<m.length;f++){const t=undefined;o[m[f]]=getAnimatableNone(n,u)}return o}function isTransitionDefined({when:t,delay:n,delayChildren:s,staggerChildren:a,staggerDirection:i,repeat:o,repeatType:l,repeatDelay:u,from:m,elapsed:f,...x}){return!!Object.keys(x).length}function getValueTransition(t,n){return t[n]||t.default||t}const Hd=!1,animateMotionValue=(t,n,s,a={})=>i=>{const o=getValueTransition(a,t)||{},l=o.delay||a.delay||0;let{elapsed:u=0}=a;u-=secondsToMilliseconds(l);const m=getKeyframes(n,t,s,o),f=m[0],x=m[m.length-1],y=isAnimatable(t,f),j=isAnimatable(t,x);let w={keyframes:m,velocity:n.getVelocity(),ease:"easeOut",...o,delay:-u,onUpdate:t=>{n.set(t),o.onUpdate&&o.onUpdate(t)},onComplete:()=>{i(),o.onComplete&&o.onComplete()}};if(isTransitionDefined(o)||(w={...w,...getDefaultTransition(t,w)}),w.duration&&(w.duration=secondsToMilliseconds(w.duration)),w.repeatDelay&&(w.repeatDelay=secondsToMilliseconds(w.repeatDelay)),!y||!j||Pc||!1===o.type||Hd)return createInstantAnimation(w);if(!a.isHandoff&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate){const s=createAcceleratedAnimation(n,t,w);if(s)return s}return animateValue(w)};function isWillChangeMotionValue(t){return Boolean(isMotionValue(t)&&t.add)}const isNumericalString=t=>/^\-?\d*\.?\d+$/.test(t);function addUniqueItem(t,n){-1===t.indexOf(n)&&t.push(n)}function removeItem(t,n){const s=t.indexOf(n);s>-1&&t.splice(s,1)}class Wd{constructor(){this.subscriptions=[]}add(t){return addUniqueItem(this.subscriptions,t),()=>removeItem(this.subscriptions,t)}notify(t,n,s){const a=this.subscriptions.length;if(a)if(1===a)this.subscriptions[0](t,n,s);else for(let i=0;i<a;i++){const a=this.subscriptions[i];a&&a(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const isFloat=t=>!isNaN(parseFloat(t));class Xd{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(t,n=!0)=>{this.prev=this.current,this.current=t;const{delta:s,timestamp:a}=sc;this.lastUpdated!==a&&(this.timeDelta=s,this.lastUpdated=a,Jl.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),n&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Jl.postRender(this.velocityCheck),this.velocityCheck=({timestamp:t})=>{t!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=isFloat(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Wd);const s=this.events[t].add(n);return"change"===t?()=>{s(),Jl.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){n&&this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t,n)}setWithVelocity(t,n,s){this.set(n),this.prev=t,this.timeDelta=s}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?velocityPerSecond(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(t,n){return new Xd(t,n)}const testValueType=t=>n=>n.test(t),Kd=undefined,Gd=[Rl,Bl,Fl,Vl,Ul,Il,{test:t=>"auto"===t,parse:t=>t}],findDimensionValueType=t=>Gd.find(testValueType(t)),Yd=[...Gd,ld,xd],findValueType=t=>Yd.find(testValueType(t));function setMotionValue(t,n,s){t.hasValue(n)?t.getValue(n).set(s):t.addValue(n,motionValue(s))}function setTarget(t,n){const s=resolveVariant(t,n);let{transitionEnd:a={},transition:i={},...o}=s?t.makeTargetAnimatable(s,!1):{};o={...o,...a};for(const l in o){const n=undefined;setMotionValue(t,l,resolveFinalValueInKeyframes(o[l]))}}function checkTargetForNewValues(t,n,s){var a,i;const o=Object.keys(n).filter(n=>!t.hasValue(n)),l=o.length;if(l)for(let u=0;u<l;u++){const l=o[u],m=n[l];let f=null;Array.isArray(m)&&(f=m[0]),null===f&&(f=null!==(i=null!==(a=s[l])&&void 0!==a?a:t.readValue(l))&&void 0!==i?i:n[l]),null!=f&&("string"==typeof f&&(isNumericalString(f)||isZeroValueString(f))?f=parseFloat(f):!findValueType(f)&&xd.test(m)&&(f=getAnimatableNone(l,m)),t.addValue(l,motionValue(f,{owner:t})),void 0===s[l]&&(s[l]=f),null!==f&&t.setBaseTarget(l,f))}}function getOriginFromTransition(t,n){if(!n)return;const s=undefined;return(n[t]||n.default||n).from}function getOrigin(t,n,s){const a={};for(const i in t){const t=getOriginFromTransition(i,n);if(void 0!==t)a[i]=t;else{const t=s.getValue(i);t&&(a[i]=t.get())}}return a}function shouldBlockAnimation({protectedKeys:t,needsAnimating:n},s){const a=t.hasOwnProperty(s)&&!0!==n[s];return n[s]=!1,a}function hasKeyframesChanged(t,n){const s=t.get();if(!Array.isArray(n))return s!==n;for(let a=0;a<n.length;a++)if(n[a]!==s)return!0}function animateTarget(t,n,{delay:s=0,transitionOverride:a,type:i}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:l,...u}=t.makeTargetAnimatable(n);const m=t.getValue("willChange");a&&(o=a);const f=[],x=i&&t.animationState&&t.animationState.getState()[i];for(const y in u){const n=t.getValue(y),a=u[y];if(!n||void 0===a||x&&shouldBlockAnimation(x,y))continue;const i={delay:s,elapsed:0,...getValueTransition(o||{},y)};if(window.HandoffAppearAnimations){const s=t.getProps()[Zo];if(s){const t=window.HandoffAppearAnimations(s,y,n,Jl);null!==t&&(i.elapsed=t,i.isHandoff=!0)}}let l=!i.isHandoff&&!hasKeyframesChanged(n,a);if("spring"===i.type&&(n.getVelocity()||i.velocity)&&(l=!1),n.animation&&(l=!1),l)continue;n.start(animateMotionValue(y,n,a,t.shouldReduceMotion&&Sl.has(y)?{type:!1}:i));const j=n.animation;isWillChangeMotionValue(m)&&(m.add(y),j.then(()=>m.remove(y))),f.push(j)}return l&&Promise.all(f).then(()=>{l&&setTarget(t,l)}),f}function animateVariant(t,n,s={}){const a=resolveVariant(t,n,s.custom);let{transition:i=t.getDefaultTransition()||{}}=a||{};s.transitionOverride&&(i=s.transitionOverride);const o=a?()=>Promise.all(animateTarget(t,a,s)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(a=0)=>{const{delayChildren:o=0,staggerChildren:l,staggerDirection:u}=i;return animateChildren(t,n,o+a,l,u,s)}:()=>Promise.resolve(),{when:u}=i;if(u){const[t,n]="beforeChildren"===u?[o,l]:[l,o];return t().then(()=>n())}return Promise.all([o(),l(s.delay)])}function animateChildren(t,n,s=0,a=0,i=1,o){const l=[],u=(t.variantChildren.size-1)*a,m=1===i?(t=0)=>t*a:(t=0)=>u-t*a;return Array.from(t.variantChildren).sort(sortByTreeOrder).forEach((t,a)=>{t.notify("AnimationStart",n),l.push(animateVariant(t,n,{...o,delay:s+m(a)}).then(()=>t.notify("AnimationComplete",n)))}),Promise.all(l)}function sortByTreeOrder(t,n){return t.sortNodePosition(n)}function animateVisualElement(t,n,s={}){let a;if(t.notify("AnimationStart",n),Array.isArray(n)){const i=n.map(n=>animateVariant(t,n,s));a=Promise.all(i)}else if("string"==typeof n)a=animateVariant(t,n,s);else{const i="function"==typeof n?resolveVariant(t,n,s.custom):n;a=Promise.all(animateTarget(t,i,s))}return a.then(()=>t.notify("AnimationComplete",n))}const Qd=[...Jo].reverse(),Zd=Jo.length;function animateList(t){return n=>Promise.all(n.map(({animation:n,options:s})=>animateVisualElement(t,n,s)))}function createAnimationState(t){let n=animateList(t);const s=createState();let a=!0;const buildResolvedTypeValues=(n,s)=>{const a=resolveVariant(t,s);if(a){const{transition:t,transitionEnd:s,...i}=a;n={...n,...i,...s}}return n};function setAnimateFunction(s){n=s(t)}function animateChanges(i,o){const l=t.getProps(),u=t.getVariantContext(!0)||{},m=[],f=new Set;let x={},y=1/0;for(let n=0;n<Zd;n++){const j=Qd[n],w=s[j],N=void 0!==l[j]?l[j]:u[j],k=isVariantLabel(N),C=j===o?w.isActive:null;!1===C&&(y=n);let T=N===u[j]&&N!==l[j]&&k;if(T&&a&&t.manuallyAnimateOnMount&&(T=!1),w.protectedKeys={...x},!w.isActive&&null===C||!N&&!w.prevProp||isAnimationControls(N)||"boolean"==typeof N)continue;const _=undefined;let A=checkVariantsDidChange(w.prevProp,N)||j===o&&w.isActive&&!T&&k||n>y&&k,L=!1;const M=Array.isArray(N)?N:[N];let O=M.reduce(buildResolvedTypeValues,{});!1===C&&(O={});const{prevResolvedValues:V={}}=w,B={...V,...O},markToAnimate=t=>{A=!0,f.has(t)&&(L=!0,f.delete(t)),w.needsAnimating[t]=!0};for(const t in B){const n=O[t],s=V[t];if(x.hasOwnProperty(t))continue;let a=!1;a=isKeyframesTarget(n)&&isKeyframesTarget(s)?!shallowCompare(n,s):n!==s,a?void 0!==n?markToAnimate(t):f.add(t):void 0!==n&&f.has(t)?markToAnimate(t):w.protectedKeys[t]=!0}w.prevProp=N,w.prevResolvedValues=O,w.isActive&&(x={...x,...O}),a&&t.blockInitialAnimation&&(A=!1),!A||T&&!L||m.push(...M.map(t=>({animation:t,options:{type:j,...i}})))}if(f.size){const n={};f.forEach(s=>{const a=t.getBaseTarget(s);void 0!==a&&(n[s]=a)}),m.push({animation:n})}let j=Boolean(m.length);return!a||!1!==l.initial&&l.initial!==l.animate||t.manuallyAnimateOnMount||(j=!1),a=!1,j?n(m):Promise.resolve()}function setActive(n,a,i){var o;if(s[n].isActive===a)return Promise.resolve();null===(o=t.variantChildren)||void 0===o||o.forEach(t=>{var s;return null===(s=t.animationState)||void 0===s?void 0:s.setActive(n,a)}),s[n].isActive=a;const l=animateChanges(i,n);for(const t in s)s[t].protectedKeys={};return l}return{animateChanges:animateChanges,setActive:setActive,setAnimateFunction:setAnimateFunction,getState:()=>s}}function checkVariantsDidChange(t,n){return"string"==typeof n?n!==t:!!Array.isArray(n)&&!shallowCompare(n,t)}function createTypeState(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState(){return{animate:createTypeState(!0),whileInView:createTypeState(),whileHover:createTypeState(),whileTap:createTypeState(),whileDrag:createTypeState(),whileFocus:createTypeState(),exit:createTypeState()}}class Jd extends cc{constructor(t){super(t),t.animationState||(t.animationState=createAnimationState(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),isAnimationControls(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let eu=0;class tu extends cc{constructor(){super(...arguments),this.id=eu++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:s}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===a)return;const i=this.node.animationState.setActive("exit",!t,{custom:null!=s?s:this.node.getProps().custom});n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const nu={animation:{Feature:Jd},exit:{Feature:tu}},distance=(t,n)=>Math.abs(t-n);function distance2D(t,n){const s=distance(t.x,n.x),a=distance(t.y,n.y);return Math.sqrt(s**2+a**2)}class su{constructor(t,n,{transformPagePoint:s,contextWindow:a,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const t=getPanInfo(this.lastMoveEventInfo,this.history),n=null!==this.startEvent,s=distance2D(t.offset,{x:0,y:0})>=3;if(!n&&!s)return;const{point:a}=t,{timestamp:i}=sc;this.history.push({...a,timestamp:i});const{onStart:o,onMove:l}=this.handlers;n||(o&&o(this.lastMoveEvent,t),this.startEvent=this.lastMoveEvent),l&&l(this.lastMoveEvent,t)},this.handlePointerMove=(t,n)=>{this.lastMoveEvent=t,this.lastMoveEventInfo=transformPoint(n,this.transformPagePoint),Jl.update(this.updatePoint,!0)},this.handlePointerUp=(t,n)=>{this.end();const{onEnd:s,onSessionEnd:a,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const o=getPanInfo("pointercancel"===t.type?this.lastMoveEventInfo:transformPoint(n,this.transformPagePoint),this.history);this.startEvent&&s&&s(t,o),a&&a(t,o)},!isPrimaryPointer(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=s,this.contextWindow=a||window;const o=undefined,l=transformPoint(extractEventInfo(t),this.transformPagePoint),{point:u}=l,{timestamp:m}=sc;this.history=[{...u,timestamp:m}];const{onSessionStart:f}=n;f&&f(t,getPanInfo(l,this.history)),this.removeListeners=pipe(addPointerEvent(this.contextWindow,"pointermove",this.handlePointerMove),addPointerEvent(this.contextWindow,"pointerup",this.handlePointerUp),addPointerEvent(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ec(this.updatePoint)}}function transformPoint(t,n){return n?{point:n(t.point)}:t}function subtractPoint(t,n){return{x:t.x-n.x,y:t.y-n.y}}function getPanInfo({point:t},n){return{point:t,delta:subtractPoint(t,lastDevicePoint(n)),offset:subtractPoint(t,startDevicePoint(n)),velocity:getVelocity(n,.1)}}function startDevicePoint(t){return t[0]}function lastDevicePoint(t){return t[t.length-1]}function getVelocity(t,n){if(t.length<2)return{x:0,y:0};let s=t.length-1,a=null;const i=lastDevicePoint(t);for(;s>=0&&(a=t[s],!(i.timestamp-a.timestamp>secondsToMilliseconds(n)));)s--;if(!a)return{x:0,y:0};const o=millisecondsToSeconds(i.timestamp-a.timestamp);if(0===o)return{x:0,y:0};const l={x:(i.x-a.x)/o,y:(i.y-a.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function calcLength(t){return t.max-t.min}function isNear(t,n=0,s=.01){return Math.abs(t-n)<=s}function calcAxisDelta(t,n,s,a=.5){t.origin=a,t.originPoint=mix(n.min,n.max,t.origin),t.scale=calcLength(s)/calcLength(n),(isNear(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=mix(s.min,s.max,t.origin)-t.originPoint,(isNear(t.translate)||isNaN(t.translate))&&(t.translate=0)}function calcBoxDelta(t,n,s,a){calcAxisDelta(t.x,n.x,s.x,a?a.originX:void 0),calcAxisDelta(t.y,n.y,s.y,a?a.originY:void 0)}function calcRelativeAxis(t,n,s){t.min=s.min+n.min,t.max=t.min+calcLength(n)}function calcRelativeBox(t,n,s){calcRelativeAxis(t.x,n.x,s.x),calcRelativeAxis(t.y,n.y,s.y)}function calcRelativeAxisPosition(t,n,s){t.min=n.min-s.min,t.max=t.min+calcLength(n)}function calcRelativePosition(t,n,s){calcRelativeAxisPosition(t.x,n.x,s.x),calcRelativeAxisPosition(t.y,n.y,s.y)}function applyConstraints(t,{min:n,max:s},a){return void 0!==n&&t<n?t=a?mix(n,t,a.min):Math.max(t,n):void 0!==s&&t>s&&(t=a?mix(s,t,a.max):Math.min(t,s)),t}function calcRelativeAxisConstraints(t,n,s){return{min:void 0!==n?t.min+n:void 0,max:void 0!==s?t.max+s-(t.max-t.min):void 0}}function calcRelativeConstraints(t,{top:n,left:s,bottom:a,right:i}){return{x:calcRelativeAxisConstraints(t.x,s,i),y:calcRelativeAxisConstraints(t.y,n,a)}}function calcViewportAxisConstraints(t,n){let s=n.min-t.min,a=n.max-t.max;return n.max-n.min<t.max-t.min&&([s,a]=[a,s]),{min:s,max:a}}function calcViewportConstraints(t,n){return{x:calcViewportAxisConstraints(t.x,n.x),y:calcViewportAxisConstraints(t.y,n.y)}}function calcOrigin(t,n){let s=.5;const a=calcLength(t),i=calcLength(n);return i>a?s=progress(n.min,n.max-a,t.min):a>i&&(s=progress(t.min,t.max-i,n.min)),clamp(0,1,s)}function rebaseAxisConstraints(t,n){const s={};return void 0!==n.min&&(s.min=n.min-t.min),void 0!==n.max&&(s.max=n.max-t.min),s}const ru=.35;function resolveDragElastic(t=ru){return!1===t?t=0:!0===t&&(t=ru),{x:resolveAxisElastic(t,"left","right"),y:resolveAxisElastic(t,"top","bottom")}}function resolveAxisElastic(t,n,s){return{min:resolvePointElastic(t,n),max:resolvePointElastic(t,s)}}function resolvePointElastic(t,n){return"number"==typeof t?t:t[n]||0}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:{min:0,max:0},y:{min:0,max:0}});function eachAxis(t){return[t("x"),t("y")]}function convertBoundingBoxToBox({top:t,left:n,right:s,bottom:a}){return{x:{min:n,max:s},y:{min:t,max:a}}}function convertBoxToBoundingBox({x:t,y:n}){return{top:n.min,right:t.max,bottom:n.max,left:t.min}}function transformBoxPoints(t,n){if(!n)return t;const s=n({x:t.left,y:t.top}),a=n({x:t.right,y:t.bottom});return{top:s.y,left:s.x,bottom:a.y,right:a.x}}function isIdentityScale(t){return void 0===t||1===t}function hasScale({scale:t,scaleX:n,scaleY:s}){return!isIdentityScale(t)||!isIdentityScale(n)||!isIdentityScale(s)}function hasTransform(t){return hasScale(t)||has2DTranslate(t)||t.z||t.rotate||t.rotateX||t.rotateY}function has2DTranslate(t){return is2DTranslate(t.x)||is2DTranslate(t.y)}function is2DTranslate(t){return t&&"0%"!==t}function scalePoint(t,n,s){const a=undefined,i=undefined;return s+n*(t-s)}function applyPointDelta(t,n,s,a,i){return void 0!==i&&(t=scalePoint(t,i,a)),scalePoint(t,s,a)+n}function applyAxisDelta(t,n=0,s=1,a,i){t.min=applyPointDelta(t.min,n,s,a,i),t.max=applyPointDelta(t.max,n,s,a,i)}function applyBoxDelta(t,{x:n,y:s}){applyAxisDelta(t.x,n.translate,n.scale,n.originPoint),applyAxisDelta(t.y,s.translate,s.scale,s.originPoint)}function applyTreeDeltas(t,n,s,a=!1){const i=s.length;if(!i)return;let o,l;n.x=n.y=1;for(let u=0;u<i;u++){o=s[u],l=o.projectionDelta;const i=o.instance;i&&i.style&&"contents"===i.style.display||(a&&o.options.layoutScroll&&o.scroll&&o!==o.root&&transformBox(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(n.x*=l.x.scale,n.y*=l.y.scale,applyBoxDelta(t,l)),a&&hasTransform(o.latestValues)&&transformBox(t,o.latestValues))}n.x=snapToDefault(n.x),n.y=snapToDefault(n.y)}function snapToDefault(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function translateAxis(t,n){t.min=t.min+n,t.max=t.max+n}function transformAxis(t,n,[s,a,i]){const o=void 0!==n[i]?n[i]:.5,l=mix(t.min,t.max,o);applyAxisDelta(t,n[s],n[a],l,n.scale)}const au=["x","scaleX","originX"],iu=["y","scaleY","originY"];function transformBox(t,n){transformAxis(t.x,n,au),transformAxis(t.y,n,iu)}function measureViewportBox(t,n){return convertBoundingBoxToBox(transformBoxPoints(t.getBoundingClientRect(),n))}function measurePageBox(t,n,s){const a=measureViewportBox(t,s),{scroll:i}=n;return i&&(translateAxis(a.x,i.offset.x),translateAxis(a.y,i.offset.y)),a}const getContextWindow=({current:t})=>t?t.ownerDocument.defaultView:null,ou=new WeakMap;class lu{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&!1===s.isPresent)return;const onSessionStart=t=>{const{dragSnapToOrigin:s}=this.getProps();s?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(extractEventInfo(t,"page").point)},onStart=(t,n)=>{const{drag:s,dragPropagation:a,onDragStart:i}=this.getProps();if(s&&!a&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=getGlobalLock(s),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(t=>{let n=this.getAxisMotionValue(t).get()||0;if(Fl.test(n)){const{projection:s}=this.visualElement;if(s&&s.layout){const a=s.layout.layoutBox[t];if(a){const t=undefined;n=calcLength(a)*(parseFloat(n)/100)}}}this.originPoint[t]=n}),i&&Jl.update(()=>i(t,n),!1,!0);const{animationState:o}=this.visualElement;o&&o.setActive("whileDrag",!0)},onMove=(t,n)=>{const{dragPropagation:s,dragDirectionLock:a,onDirectionLock:i,onDrag:o}=this.getProps();if(!s&&!this.openGlobalLock)return;const{offset:l}=n;if(a&&null===this.currentDirection)return this.currentDirection=getCurrentDirection(l),void(null!==this.currentDirection&&i&&i(this.currentDirection));this.updateAxis("x",n.point,l),this.updateAxis("y",n.point,l),this.visualElement.render(),o&&o(t,n)},onSessionEnd=(t,n)=>this.stop(t,n),resumeAnimation=()=>eachAxis(t=>{var n;return"paused"===this.getAnimationState(t)&&(null===(n=this.getAxisMotionValue(t).animation)||void 0===n?void 0:n.play())}),{dragSnapToOrigin:a}=this.getProps();this.panSession=new su(t,{onSessionStart:onSessionStart,onStart:onStart,onMove:onMove,onSessionEnd:onSessionEnd,resumeAnimation:resumeAnimation},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:a,contextWindow:getContextWindow(this.visualElement)})}stop(t,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&Jl.update(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:a}=this.getProps();if(!s||!shouldDrag(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(o=applyConstraints(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:s}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(t=this.visualElement.projection)||void 0===t?void 0:t.layout,i=this.constraints;n&&isRefObject(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!n||!a)&&calcRelativeConstraints(a.layoutBox,n),this.elastic=resolveDragElastic(s),i!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(t=>{this.getAxisMotionValue(t)&&(this.constraints[t]=rebaseAxisConstraints(a.layoutBox[t],this.constraints[t]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!isRefObject(t))return!1;const s=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=measurePageBox(s,a.root,this.visualElement.getTransformPagePoint());let o=calcViewportConstraints(a.layout.layoutBox,i);if(n){const t=n(convertBoxToBoundingBox(o));this.hasMutatedConstraints=!!t,t&&(o=convertBoundingBoxToBox(t))}return o}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),u=this.constraints||{},m=eachAxis(l=>{if(!shouldDrag(l,n,this.currentDirection))return;let m=u&&u[l]||{};o&&(m={min:0,max:0});const f=a?200:1e6,x=a?40:1e7,y={type:"inertia",velocity:s?t[l]:0,bounceStiffness:f,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...i,...m};return this.startAxisValueAnimation(l,y)});return Promise.all(m).then(l)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return s.start(animateMotionValue(t,s,0,n))}stopAnimation(){eachAxis(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){eachAxis(t=>{var n;return null===(n=this.getAxisMotionValue(t).animation)||void 0===n?void 0:n.pause()})}getAnimationState(t){var n;return null===(n=this.getAxisMotionValue(t).animation)||void 0===n?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){eachAxis(n=>{const{drag:s}=this.getProps();if(!shouldDrag(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(n);if(a&&a.layout){const{min:s,max:o}=a.layout.layoutBox[n];i.set(t[n]-mix(s,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!isRefObject(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};eachAxis(t=>{const n=this.getAxisMotionValue(t);if(n){const s=n.get();a[t]=calcOrigin({min:s,max:s},this.constraints[t])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),eachAxis(n=>{if(!shouldDrag(n,t,null))return;const s=this.getAxisMotionValue(n),{min:i,max:o}=this.constraints[n];s.set(mix(i,o,a[n]))})}addListeners(){if(!this.visualElement.current)return;ou.set(this.visualElement,this);const t=undefined,n=addPointerEvent(this.visualElement.current,"pointerdown",t=>{const{drag:n,dragListener:s=!0}=this.getProps();n&&s&&this.start(t)}),measureDragConstraints=()=>{const{dragConstraints:t}=this.getProps();isRefObject(t)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",measureDragConstraints);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),measureDragConstraints();const i=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),o=s.addEventListener("didUpdate",({delta:t,hasLayoutChanged:n})=>{this.isDragging&&n&&(eachAxis(n=>{const s=this.getAxisMotionValue(n);s&&(this.originPoint[n]+=t[n].translate,s.set(s.get()+t[n].translate))}),this.visualElement.render())});return()=>{i(),n(),a(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=ru,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function shouldDrag(t,n,s){return!(!0!==n&&n!==t||null!==s&&s!==t)}function getCurrentDirection(t,n=10){let s=null;return Math.abs(t.y)>n?s="y":Math.abs(t.x)>n&&(s="x"),s}class cu extends cc{constructor(t){super(t),this.removeGroupControls=noop$1,this.removeListeners=noop$1,this.controls=new lu(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop$1}unmount(){this.removeGroupControls(),this.removeListeners()}}const asyncHandler=t=>(n,s)=>{t&&Jl.update(()=>t(n,s))};class du extends cc{constructor(){super(...arguments),this.removePointerDownListener=noop$1}onPointerDown(t){this.session=new su(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:getContextWindow(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:asyncHandler(t),onStart:asyncHandler(n),onMove:s,onEnd:(t,n)=>{delete this.session,a&&Jl.update(()=>a(t,n))}}}mount(){this.removePointerDownListener=addPointerEvent(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function usePresence(){const t=H.useContext(Xo);if(null===t)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=t,i=H.useId();H.useEffect(()=>a(i),[]);const safeToRemove=()=>s&&s(i);return!n&&s?[!1,safeToRemove]:[!0]}const uu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pixelsToPercent(t,n){return n.max===n.min?0:t/(n.max-n.min)*100}const hu={correct:(t,n)=>{if(!n.target)return t;if("string"==typeof t){if(!Bl.test(t))return t;t=parseFloat(t)}const s=undefined,a=undefined;return`${pixelsToPercent(t,n.target.x)}% ${pixelsToPercent(t,n.target.y)}%`}},mu={correct:(t,{treeScale:n,projectionDelta:s})=>{const a=t,i=xd.parse(t);if(i.length>5)return a;const o=xd.createTransformer(t),l="number"!=typeof i[0]?1:0,u=s.x.scale*n.x,m=s.y.scale*n.y;i[0+l]/=u,i[1+l]/=m;const f=mix(u,m,.5);return"number"==typeof i[2+l]&&(i[2+l]/=f),"number"==typeof i[3+l]&&(i[3+l]/=f),o(i)}};class pu extends X.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:i}=t;addScaleCorrector(fu),i&&(n.group&&n.group.add(i),s&&s.register&&a&&s.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),uu.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:a,isPresent:i}=this.props,o=s.projection;return o?(o.isPresent=i,a||t.layoutDependency!==n||void 0===n?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||Jl.postRender(()=>{const t=o.getStack();t&&t.members.length||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function MeasureLayout(t){const[n,s]=usePresence(),a=H.useContext(xl);return X.createElement(pu,{...t,layoutGroup:a,switchLayoutGroup:H.useContext(yl),isPresent:n,safeToRemove:s})}const fu={borderRadius:{...hu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:hu,borderTopRightRadius:hu,borderBottomLeftRadius:hu,borderBottomRightRadius:hu,boxShadow:mu},xu=["TopLeft","TopRight","BottomLeft","BottomRight"],gu=xu.length,asNumber=t=>"string"==typeof t?parseFloat(t):t,isPx=t=>"number"==typeof t||Bl.test(t);function mixValues(t,n,s,a,i,o){i?(t.opacity=mix(0,void 0!==s.opacity?s.opacity:1,yu(a)),t.opacityExit=mix(void 0!==n.opacity?n.opacity:1,0,vu(a))):o&&(t.opacity=mix(void 0!==n.opacity?n.opacity:1,void 0!==s.opacity?s.opacity:1,a));for(let l=0;l<gu;l++){const i=`border${xu[l]}Radius`;let o=getRadius(n,i),u=getRadius(s,i);if(void 0===o&&void 0===u)continue;o||(o=0),u||(u=0);const m=undefined;0===o||0===u||isPx(o)===isPx(u)?(t[i]=Math.max(mix(asNumber(o),asNumber(u),a),0),(Fl.test(u)||Fl.test(o))&&(t[i]+="%")):t[i]=u}(n.rotate||s.rotate)&&(t.rotate=mix(n.rotate||0,s.rotate||0,a))}function getRadius(t,n){return void 0!==t[n]?t[n]:t.borderRadius}const yu=compress(0,.5,Ic),vu=compress(.5,.95,noop$1);function compress(t,n,s){return a=>a<t?0:a>n?1:s(progress(t,n,a))}function copyAxisInto(t,n){t.min=n.min,t.max=n.max}function copyBoxInto(t,n){copyAxisInto(t.x,n.x),copyAxisInto(t.y,n.y)}function removePointDelta(t,n,s,a,i){return t=scalePoint(t-=n,1/s,a),void 0!==i&&(t=scalePoint(t,1/i,a)),t}function removeAxisDelta(t,n=0,s=1,a=.5,i,o=t,l=t){if(Fl.test(n)){n=parseFloat(n);const t=undefined;n=mix(l.min,l.max,n/100)-l.min}if("number"!=typeof n)return;let u=mix(o.min,o.max,a);t===o&&(u-=n),t.min=removePointDelta(t.min,n,s,u,i),t.max=removePointDelta(t.max,n,s,u,i)}function removeAxisTransforms(t,n,[s,a,i],o,l){removeAxisDelta(t,n[s],n[a],n[i],n.scale,o,l)}const bu=["x","scaleX","originX"],ju=["y","scaleY","originY"];function removeBoxTransforms(t,n,s,a){removeAxisTransforms(t.x,n,bu,s?s.x:void 0,a?a.x:void 0),removeAxisTransforms(t.y,n,ju,s?s.y:void 0,a?a.y:void 0)}function isAxisDeltaZero(t){return 0===t.translate&&1===t.scale}function isDeltaZero(t){return isAxisDeltaZero(t.x)&&isAxisDeltaZero(t.y)}function boxEquals(t,n){return t.x.min===n.x.min&&t.x.max===n.x.max&&t.y.min===n.y.min&&t.y.max===n.y.max}function boxEqualsRounded(t,n){return Math.round(t.x.min)===Math.round(n.x.min)&&Math.round(t.x.max)===Math.round(n.x.max)&&Math.round(t.y.min)===Math.round(n.y.min)&&Math.round(t.y.max)===Math.round(n.y.max)}function aspectRatio(t){return calcLength(t.x)/calcLength(t.y)}class wu{constructor(){this.members=[]}add(t){addUniqueItem(this.members,t),t.scheduleRender()}remove(t){if(removeItem(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(t){const n=this.members.findIndex(n=>t===n);if(0===n)return!1;let s;for(let a=n;a>=0;a--){const t=this.members[a];if(!1!==t.isPresent){s=t;break}}return!!s&&(this.promote(s),!0)}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;!1===a&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function buildProjectionTransform(t,n,s){let a="";const i=t.x.translate/n.x,o=t.y.translate/n.y;if((i||o)&&(a=`translate3d(${i}px, ${o}px, 0) `),1===n.x&&1===n.y||(a+=`scale(${1/n.x}, ${1/n.y}) `),s){const{rotate:t,rotateX:n,rotateY:i}=s;t&&(a+=`rotate(${t}deg) `),n&&(a+=`rotateX(${n}deg) `),i&&(a+=`rotateY(${i}deg) `)}const l=t.x.scale*n.x,u=t.y.scale*n.y;return 1===l&&1===u||(a+=`scale(${l}, ${u})`),a||"none"}const compareByDepth=(t,n)=>t.depth-n.depth;class Nu{constructor(){this.children=[],this.isDirty=!1}add(t){addUniqueItem(this.children,t),this.isDirty=!0}remove(t){removeItem(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(t)}}function delay(t,n){const s=performance.now(),checkElapsed=({timestamp:a})=>{const i=a-s;i>=n&&(ec(checkElapsed),t(i-n))};return Jl.read(checkElapsed,!0),()=>ec(checkElapsed)}function record(t){window.MotionDebug&&window.MotionDebug.record(t)}function isSVGElement(t){return t instanceof SVGElement&&"svg"!==t.tagName}function animateSingleValue(t,n,s){const a=isMotionValue(t)?t:motionValue(t);return a.start(animateMotionValue("",a,n,s)),a.animation}const ku=["","X","Y","Z"],Su={visibility:"hidden"},Cu=1e3;let Eu=0;const Pu={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function createProjectionNode({attachResizeListener:t,defaultParent:n,measureScroll:s,checkIsScrollRoot:a,resetTransform:i}){return class o{constructor(t={},s=(null==n?void 0:n())){this.id=Eu++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Pu.totalNodes=Pu.resolvedTargetDeltas=Pu.recalculatedProjection=0,this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection),this.nodes.forEach(cleanDirtyNodes),record(Pu)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=t,this.root=s?s.root||s:this,this.path=s?[...s.path,s]:[],this.parent=s,this.depth=s?s.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new Nu)}addEventListener(t,n){return this.eventHandlers.has(t)||this.eventHandlers.set(t,new Wd),this.eventHandlers.get(t).add(n)}notifyListeners(t,...n){const s=this.eventHandlers.get(t);s&&s.notify(...n)}hasListeners(t){return this.eventHandlers.has(t)}mount(n,s=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=isSVGElement(n),this.instance=n;const{layoutId:a,layout:i,visualElement:o}=this.options;if(o&&!o.current&&o.mount(n),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),s&&(i||a)&&(this.isLayoutDirty=!0),t){let s;const resizeUnblockUpdate=()=>this.root.updateBlockedByResize=!1;t(n,()=>{this.root.updateBlockedByResize=!0,s&&s(),s=delay(resizeUnblockUpdate,250),uu.hasAnimatedSinceResize&&(uu.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation))})}a&&this.root.registerSharedNode(a,this),!1!==this.options.animate&&o&&(a||i)&&this.addEventListener("didUpdate",({delta:t,hasLayoutChanged:n,hasRelativeTargetChanged:s,layout:a})=>{if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const i=this.options.transition||o.getDefaultTransition()||Tu,{onLayoutAnimationStart:l,onLayoutAnimationComplete:u}=o.getProps(),m=!this.targetLayout||!boxEqualsRounded(this.targetLayout,a)||s,f=!n&&s;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||f||n&&(m||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,f);const n={...getValueTransition(i,"layout"),onPlay:l,onComplete:u};(o.shouldReduceMotion||this.options.layoutRoot)&&(n.delay=0,n.type=!1),this.startAnimation(n)}else n||finishAnimation(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=a})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const t=this.getStack();t&&t.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ec(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetRotation),this.animationId++)}getTransformTemplate(){const{visualElement:t}=this.options;return t&&t.getProps().transformTemplate}willUpdate(t=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let i=0;i<this.path.length;i++){const t=this.path[i];t.shouldResetTransform=!0,t.updateScroll("snapshot"),t.options.layoutRoot&&t.willUpdate(!1)}const{layoutId:n,layout:s}=this.options;if(void 0===n&&!s)return;const a=this.getTransformTemplate();this.prevTransformTemplateValue=a?a(this.latestValues,""):void 0,this.updateSnapshot(),t&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;const t=undefined;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(clearMeasurements);this.isUpdating||this.nodes.forEach(clearIsLayoutDirty),this.isUpdating=!1,this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate),this.clearAllSnapshots();const n=performance.now();sc.delta=clamp(0,1e3/60,n-sc.timestamp),sc.timestamp=n,sc.isProcessing=!0,rc.update.process(sc),rc.preRender.process(sc),rc.render.process(sc),sc.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Jl.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Jl.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance)return;if(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let s=0;s<this.path.length;s++){const t=undefined;this.path[s].updateScroll()}const t=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:n}=this.options;n&&n.notify("LayoutMeasure",this.layout.layoutBox,t?t.layoutBox:void 0)}updateScroll(t="measure"){let n=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===t&&(n=!1),n&&(this.scroll={animationId:this.root.animationId,phase:t,isRoot:a(this.instance),offset:s(this.instance)})}resetTransform(){if(!i)return;const t=this.isLayoutDirty||this.shouldResetTransform,n=this.projectionDelta&&!isDeltaZero(this.projectionDelta),s=this.getTransformTemplate(),a=s?s(this.latestValues,""):void 0,o=a!==this.prevTransformTemplateValue;t&&(n||hasTransform(this.latestValues)||o)&&(i(this.instance,a),this.shouldResetTransform=!1,this.scheduleRender())}measure(t=!0){const n=this.measurePageBox();let s=this.removeElementScroll(n);return t&&(s=this.removeTransform(s)),roundBox(s),{animationId:this.root.animationId,measuredBox:n,layoutBox:s,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const n=t.measureViewportBox(),{scroll:s}=this.root;return s&&(translateAxis(n.x,s.offset.x),translateAxis(n.y,s.offset.y)),n}removeElementScroll(t){const n={x:{min:0,max:0},y:{min:0,max:0}};copyBoxInto(n,t);for(let s=0;s<this.path.length;s++){const a=this.path[s],{scroll:i,options:o}=a;if(a!==this.root&&i&&o.layoutScroll){if(i.isRoot){copyBoxInto(n,t);const{scroll:s}=this.root;s&&(translateAxis(n.x,-s.offset.x),translateAxis(n.y,-s.offset.y))}translateAxis(n.x,i.offset.x),translateAxis(n.y,i.offset.y)}}return n}applyTransform(t,n=!1){const s={x:{min:0,max:0},y:{min:0,max:0}};copyBoxInto(s,t);for(let a=0;a<this.path.length;a++){const t=this.path[a];!n&&t.options.layoutScroll&&t.scroll&&t!==t.root&&transformBox(s,{x:-t.scroll.offset.x,y:-t.scroll.offset.y}),hasTransform(t.latestValues)&&transformBox(s,t.latestValues)}return hasTransform(this.latestValues)&&transformBox(s,this.latestValues),s}removeTransform(t){const n={x:{min:0,max:0},y:{min:0,max:0}};copyBoxInto(n,t);for(let s=0;s<this.path.length;s++){const t=this.path[s];if(!t.instance)continue;if(!hasTransform(t.latestValues))continue;hasScale(t.latestValues)&&t.updateSnapshot();const a=createBox(),i=undefined;copyBoxInto(a,t.measurePageBox()),removeBoxTransforms(n,t.latestValues,t.snapshot?t.snapshot.layoutBox:void 0,a)}return hasTransform(this.latestValues)&&removeBoxTransforms(n,this.latestValues),n}setTargetDelta(t){this.targetDelta=t,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(t){this.options={...this.options,...t,crossfade:void 0===t.crossfade||t.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==sc.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(t=!1){var n;const s=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=s.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=s.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=s.isSharedProjectionDirty);const a=Boolean(this.resumingFrom)||this!==s,i=undefined;if(!(t||a&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(n=this.parent)||void 0===n?void 0:n.isProjectionDirty)||this.attemptToResolveRelativeTarget))return;const{layout:o,layoutId:l}=this.options;if(this.layout&&(o||l)){if(this.resolvedRelativeTargetAt=sc.timestamp,!this.targetDelta&&!this.relativeTarget){const t=this.getClosestProjectingParent();t&&t.layout&&1!==this.animationProgress?(this.relativeParent=t,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},calcRelativePosition(this.relativeTargetOrigin,this.layout.layoutBox,t.layout.layoutBox),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const t=this.getClosestProjectingParent();t&&Boolean(t.resumingFrom)===Boolean(this.resumingFrom)&&!t.options.layoutScroll&&t.target&&1!==this.animationProgress?(this.relativeParent=t,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},calcRelativePosition(this.relativeTargetOrigin,this.target,t.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Pu.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!hasScale(this.parent.latestValues)&&!has2DTranslate(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var t;const n=this.getLead(),s=Boolean(this.resumingFrom)||this!==n;let a=!0;if((this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty))&&(a=!1),s&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(a=!1),this.resolvedRelativeTargetAt===sc.timestamp&&(a=!1),a)return;const{layout:i,layoutId:o}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!i&&!o)return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox);const l=this.treeScale.x,u=this.treeScale.y;applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,s),!n.layout||n.target||1===this.treeScale.x&&1===this.treeScale.y||(n.target=n.layout.layoutBox);const{target:m}=n;if(!m)return void(this.projectionTransform&&(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionTransform="none",this.scheduleRender()));this.projectionDelta||(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}});const f=this.projectionTransform;calcBoxDelta(this.projectionDelta,this.layoutCorrected,m,this.latestValues),this.projectionTransform=buildProjectionTransform(this.projectionDelta,this.treeScale),this.projectionTransform===f&&this.treeScale.x===l&&this.treeScale.y===u||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),Pu.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(t=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),t){const t=this.getStack();t&&t.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(t,n=!1){const s=this.snapshot,a=s?s.latestValues:{},i={...this.latestValues},o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!n;const l={x:{min:0,max:0},y:{min:0,max:0}},u=undefined,m=undefined,f=(s?s.source:void 0)!==(this.layout?this.layout.source:void 0),x=this.getStack(),y=!x||x.members.length<=1,j=Boolean(f&&!y&&!0===this.options.crossfade&&!this.path.some(hasOpacityCrossfade));let w;this.animationProgress=0,this.mixTargetDelta=n=>{const s=n/1e3;mixAxisDelta(o.x,t.x,s),mixAxisDelta(o.y,t.y,s),this.setTargetDelta(o),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition(l,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,l,s),w&&boxEquals(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w={x:{min:0,max:0},y:{min:0,max:0}}),copyBoxInto(w,this.relativeTarget)),f&&(this.animationValues=i,mixValues(i,a,this.latestValues,s,j,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=s},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(t){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ec(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Jl.update(()=>{uu.hasAnimatedSinceResize=!0,this.currentAnimation=animateSingleValue(0,Cu,{...t,onUpdate:n=>{this.mixTargetDelta(n),t.onUpdate&&t.onUpdate(n)},onComplete:()=>{t.onComplete&&t.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const t=this.getStack();t&&t.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Cu),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const t=this.getLead();let{targetWithTransforms:n,target:s,layout:a,latestValues:i}=t;if(n&&s&&a){if(this!==t&&this.layout&&a&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,a.layoutBox)){s=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const n=calcLength(this.layout.layoutBox.x);s.x.min=t.target.x.min,s.x.max=s.x.min+n;const a=calcLength(this.layout.layoutBox.y);s.y.min=t.target.y.min,s.y.max=s.y.min+a}copyBoxInto(n,s),transformBox(n,i),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,n,i)}}registerSharedNode(t,n){this.sharedNodes.has(t)||this.sharedNodes.set(t,new wu);const s=undefined;this.sharedNodes.get(t).add(n);const a=n.options.initialPromotionConfig;n.promote({transition:a?a.transition:void 0,preserveFollowOpacity:a&&a.shouldPreserveFollowOpacity?a.shouldPreserveFollowOpacity(n):void 0})}isLead(){const t=this.getStack();return!t||t.lead===this}getLead(){var t;const{layoutId:n}=this.options;return n&&(null===(t=this.getStack())||void 0===t?void 0:t.lead)||this}getPrevLead(){var t;const{layoutId:n}=this.options;return n?null===(t=this.getStack())||void 0===t?void 0:t.prevLead:void 0}getStack(){const{layoutId:t}=this.options;if(t)return this.root.sharedNodes.get(t)}promote({needsReset:t,transition:n,preserveFollowOpacity:s}={}){const a=this.getStack();a&&a.promote(this,s),t&&(this.projectionDelta=void 0,this.needsReset=!0),n&&this.setOptions({transition:n})}relegate(){const t=this.getStack();return!!t&&t.relegate(this)}resetRotation(){const{visualElement:t}=this.options;if(!t)return;let n=!1;const{latestValues:s}=t;if((s.rotate||s.rotateX||s.rotateY||s.rotateZ)&&(n=!0),!n)return;const a={};for(let i=0;i<ku.length;i++){const n="rotate"+ku[i];s[n]&&(a[n]=s[n],t.setStaticValue(n,0))}t.render();for(const i in a)t.setStaticValue(i,a[i]);t.scheduleRender()}getProjectionStyles(t){var n,s;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Su;const a={visibility:""},i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,a.opacity="",a.pointerEvents=resolveMotionValue(null==t?void 0:t.pointerEvents)||"",a.transform=i?i(this.latestValues,""):"none",a;const o=this.getLead();if(!this.projectionDelta||!this.layout||!o.target){const n={};return this.options.layoutId&&(n.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,n.pointerEvents=resolveMotionValue(null==t?void 0:t.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(n.transform=i?i({},""):"none",this.hasProjected=!1),n}const l=o.animationValues||o.latestValues;this.applyTransformsToTarget(),a.transform=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,l),i&&(a.transform=i(l,a.transform));const{x:u,y:m}=this.projectionDelta;a.transformOrigin=`${100*u.origin}% ${100*m.origin}% 0`,o.animationValues?a.opacity=o===this?null!==(s=null!==(n=l.opacity)&&void 0!==n?n:this.latestValues.opacity)&&void 0!==s?s:1:this.preserveOpacity?this.latestValues.opacity:l.opacityExit:a.opacity=o===this?void 0!==l.opacity?l.opacity:"":void 0!==l.opacityExit?l.opacityExit:0;for(const f in Nl){if(void 0===l[f])continue;const{correct:t,applyTo:n}=Nl[f],s="none"===a.transform?l[f]:t(l[f],o);if(n){const t=n.length;for(let i=0;i<t;i++)a[n[i]]=s}else a[f]=s}return this.options.layoutId&&(a.pointerEvents=o===this?resolveMotionValue(null==t?void 0:t.pointerEvents)||"":"none"),a}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(t=>{var n;return null===(n=t.currentAnimation)||void 0===n?void 0:n.stop()}),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(t){t.updateLayout()}function notifyLayoutUpdate(t){var n;const s=(null===(n=t.resumeFrom)||void 0===n?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&s&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=t.layout,{animationType:i}=t.options,o=s.source!==t.layout.source;"size"===i?eachAxis(t=>{const a=o?s.measuredBox[t]:s.layoutBox[t],i=calcLength(a);a.min=n[t].min,a.max=a.min+i}):shouldAnimatePositionOnly(i,s.layoutBox,n)&&eachAxis(a=>{const i=o?s.measuredBox[a]:s.layoutBox[a],l=calcLength(n[a]);i.max=i.min+l,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[a].max=t.relativeTarget[a].min+l)});const l={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};calcBoxDelta(l,n,s.layoutBox);const u={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};o?calcBoxDelta(u,t.applyTransform(a,!0),s.measuredBox):calcBoxDelta(u,n,s.layoutBox);const m=!isDeltaZero(l);let f=!1;if(!t.resumeFrom){const a=t.getClosestProjectingParent();if(a&&!a.resumeFrom){const{snapshot:i,layout:o}=a;if(i&&o){const l={x:{min:0,max:0},y:{min:0,max:0}};calcRelativePosition(l,s.layoutBox,i.layoutBox);const u={x:{min:0,max:0},y:{min:0,max:0}};calcRelativePosition(u,n,o.layoutBox),boxEqualsRounded(l,u)||(f=!0),a.options.layoutRoot&&(t.relativeTarget=u,t.relativeTargetOrigin=l,t.relativeParent=a)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:s,delta:u,layoutDelta:l,hasLayoutChanged:m,hasRelativeTargetChanged:f})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function propagateDirtyNodes(t){Pu.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=Boolean(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function cleanDirtyNodes(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function clearSnapshot(t){t.clearSnapshot()}function clearMeasurements(t){t.clearMeasurements()}function clearIsLayoutDirty(t){t.isLayoutDirty=!1}function resetTransformStyle(t){const{visualElement:n}=t.options;n&&n.getProps().onBeforeLayoutMeasure&&n.notify("BeforeLayoutMeasure"),t.resetTransform()}function finishAnimation(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function resolveTargetDelta(t){t.resolveTargetDelta()}function calcProjection(t){t.calcProjection()}function resetRotation(t){t.resetRotation()}function removeLeadSnapshots(t){t.removeLeadSnapshot()}function mixAxisDelta(t,n,s){t.translate=mix(n.translate,0,s),t.scale=mix(n.scale,1,s),t.origin=n.origin,t.originPoint=n.originPoint}function mixAxis(t,n,s,a){t.min=mix(n.min,s.min,a),t.max=mix(n.max,s.max,a)}function mixBox(t,n,s,a){mixAxis(t.x,n.x,s.x,a),mixAxis(t.y,n.y,s.y,a)}function hasOpacityCrossfade(t){return t.animationValues&&void 0!==t.animationValues.opacityExit}const Tu={duration:.45,ease:[.4,0,.1,1]},userAgentContains=t=>"undefined"!=typeof navigator&&navigator.userAgent.toLowerCase().includes(t),_u=userAgentContains("applewebkit/")&&!userAgentContains("chrome/")?Math.round:noop$1;function roundAxis(t){t.min=_u(t.min),t.max=_u(t.max)}function roundBox(t){roundAxis(t.x),roundAxis(t.y)}function shouldAnimatePositionOnly(t,n,s){return"position"===t||"preserve-aspect"===t&&!isNear(aspectRatio(n),aspectRatio(s),.2)}const Ru=createProjectionNode({attachResizeListener:(t,n)=>addDomEvent(t,"resize",n),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Au={current:void 0},Lu=createProjectionNode({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Au.current){const t=new Ru({});t.mount(window),t.setOptions({layoutScroll:!0}),Au.current=t}return Au.current},resetTransform:(t,n)=>{t.style.transform=void 0!==n?n:"none"},checkIsScrollRoot:t=>Boolean("fixed"===window.getComputedStyle(t).position)}),Mu={pan:{Feature:du},drag:{Feature:cu,ProjectionNode:Lu,MeasureLayout:MeasureLayout}},Du=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function parseCSSVariable(t){const n=Du.exec(t);if(!n)return[,];const[,s,a]=n;return[s,a]}function getVariableValue(t,n,s=1){const[a,i]=parseCSSVariable(t);if(!a)return;const o=window.getComputedStyle(n).getPropertyValue(a);if(o){const t=o.trim();return isNumericalString(t)?parseFloat(t):t}return Tl(i)?getVariableValue(i,n,s+1):i}function resolveCSSVariables(t,{...n},s){const a=t.current;if(!(a instanceof Element))return{target:n,transitionEnd:s};s&&(s={...s}),t.values.forEach(t=>{const n=t.get();if(!Tl(n))return;const s=getVariableValue(n,a);s&&t.set(s)});for(const i in n){const t=n[i];if(!Tl(t))continue;const o=getVariableValue(t,a);o&&(n[i]=o,s||(s={}),void 0===s[i]&&(s[i]=t))}return{target:n,transitionEnd:s}}const Ou=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),isPositionalKey=t=>Ou.has(t),hasPositionalKey=t=>Object.keys(t).some(isPositionalKey),isNumOrPxType=t=>t===Rl||t===Bl,getPosFromMatrix=(t,n)=>parseFloat(t.split(", ")[n]),getTranslateFromMatrix=(t,n)=>(s,{transform:a})=>{if("none"===a||!a)return 0;const i=a.match(/^matrix3d\((.+)\)$/);if(i)return getPosFromMatrix(i[1],n);{const n=a.match(/^matrix\((.+)\)$/);return n?getPosFromMatrix(n[1],t):0}},Vu=new Set(["x","y","z"]),Fu=kl.filter(t=>!Vu.has(t));function removeNonTranslationalTransform(t){const n=[];return Fu.forEach(s=>{const a=t.getValue(s);void 0!==a&&(n.push([s,a.get()]),a.set(s.startsWith("scale")?1:0))}),n.length&&t.render(),n}const Bu={width:({x:t},{paddingLeft:n="0",paddingRight:s="0"})=>t.max-t.min-parseFloat(n)-parseFloat(s),height:({y:t},{paddingTop:n="0",paddingBottom:s="0"})=>t.max-t.min-parseFloat(n)-parseFloat(s),top:(t,{top:n})=>parseFloat(n),left:(t,{left:n})=>parseFloat(n),bottom:({y:t},{top:n})=>parseFloat(n)+(t.max-t.min),right:({x:t},{left:n})=>parseFloat(n)+(t.max-t.min),x:getTranslateFromMatrix(4,13),y:getTranslateFromMatrix(5,14)};Bu.translateX=Bu.x,Bu.translateY=Bu.y;const convertChangedValueTypes=(t,n,s)=>{const a=n.measureViewportBox(),i=n.current,o=getComputedStyle(i),{display:l}=o,u={};"none"===l&&n.setStaticValue("display",t.display||"block"),s.forEach(t=>{u[t]=Bu[t](a,o)}),n.render();const m=n.measureViewportBox();return s.forEach(s=>{const a=n.getValue(s);a&&a.jump(u[s]),t[s]=Bu[s](m,o)}),t},checkAndConvertChangedValueTypes=(t,n,s={},a={})=>{n={...n},a={...a};const i=Object.keys(n).filter(isPositionalKey);let o=[],l=!1;const u=[];if(i.forEach(i=>{const m=t.getValue(i);if(!t.hasValue(i))return;let f=s[i],x=findDimensionValueType(f);const y=n[i];let j;if(isKeyframesTarget(y)){const t=y.length,n=null===y[0]?1:0;f=y[n],x=findDimensionValueType(f);for(let s=n;s<t&&null!==y[s];s++)j?Ec(findDimensionValueType(y[s])===j):j=findDimensionValueType(y[s])}else j=findDimensionValueType(y);if(x!==j)if(isNumOrPxType(x)&&isNumOrPxType(j)){const t=m.get();"string"==typeof t&&m.set(parseFloat(t)),"string"==typeof y?n[i]=parseFloat(y):Array.isArray(y)&&j===Bl&&(n[i]=y.map(parseFloat))}else(null==x?void 0:x.transform)&&(null==j?void 0:j.transform)&&(0===f||0===y)?0===f?m.set(j.transform(f)):n[i]=x.transform(y):(l||(o=removeNonTranslationalTransform(t),l=!0),u.push(i),a[i]=void 0!==a[i]?a[i]:n[i],m.jump(y))}),u.length){const s=u.indexOf("height")>=0?window.pageYOffset:null,i=convertChangedValueTypes(n,t,u);return o.length&&o.forEach(([n,s])=>{t.getValue(n).set(s)}),t.render(),Ko&&null!==s&&window.scrollTo({top:s}),{target:i,transitionEnd:a}}return{target:n,transitionEnd:a}};function unitConversion(t,n,s,a){return hasPositionalKey(n)?checkAndConvertChangedValueTypes(t,n,s,a):{target:n,transitionEnd:a}}const parseDomVariant=(t,n,s,a)=>{const i=resolveCSSVariables(t,n,a);return unitConversion(t,n=i.target,s,a=i.transitionEnd)},Iu={current:null},Uu={current:!1};function initPrefersReducedMotion(){if(Uu.current=!0,Ko)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),setReducedMotionPreferences=()=>Iu.current=t.matches;t.addListener(setReducedMotionPreferences),setReducedMotionPreferences()}else Iu.current=!1}function updateMotionValuesFromProps(t,n,s){const{willChange:a}=n;for(const i in n){const o=n[i],l=s[i];if(isMotionValue(o))t.addValue(i,o),isWillChangeMotionValue(a)&&a.add(i);else if(isMotionValue(l))t.addValue(i,motionValue(o,{owner:t})),isWillChangeMotionValue(a)&&a.remove(i);else if(l!==o)if(t.hasValue(i)){const n=t.getValue(i);!n.hasAnimated&&n.set(o)}else{const n=t.getStaticValue(i);t.addValue(i,motionValue(void 0!==n?n:o,{owner:t}))}}for(const i in s)void 0===n[i]&&t.removeValue(i);return n}const zu=new WeakMap,$u=Object.keys(ul),Hu=$u.length,qu=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Wu=tl.length;class Xu{constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:a,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Jl.render(this.render,!1,!0);const{latestValues:l,renderState:u}=i;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=o,this.isControllingVariants=isControllingVariants(n),this.isVariantNode=isVariantNode(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const{willChange:m,...f}=this.scrapeMotionValuesFromProps(n,{});for(const x in f){const t=f[x];void 0!==l[x]&&isMotionValue(t)&&(t.set(l[x],!1),isWillChangeMotionValue(m)&&m.add(x))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,zu.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,n)=>this.bindToMotionValue(n,t)),Uu.current||initPrefersReducedMotion(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||Iu.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){zu.delete(this.current),this.projection&&this.projection.unmount(),ec(this.notifyUpdate),ec(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const s=Sl.has(t),a=n.on("change",n=>{this.latestValues[t]=n,this.props.onUpdate&&Jl.update(this.notifyUpdate,!1,!0),s&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{a(),i()})}sortNodePosition(t){return this.current&&this.sortInstanceNodePosition&&this.type===t.type?this.sortInstanceNodePosition(this.current,t.current):0}loadFeatures({children:t,...n},s,a,i){let o,l;for(let u=0;u<Hu;u++){const t=$u[u],{isEnabled:s,Feature:a,ProjectionNode:i,MeasureLayout:m}=ul[t];i&&(o=i),s(n)&&(!this.features[t]&&a&&(this.features[t]=new a(this)),m&&(l=m))}if(("html"===this.type||"svg"===this.type)&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:t,layout:s,drag:a,dragConstraints:l,layoutScroll:u,layoutRoot:m}=n;this.projection.setOptions({layoutId:t,layout:s,alwaysMeasureLayout:Boolean(a)||l&&isRefObject(l),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:"string"==typeof s?s:"both",initialPromotionConfig:i,layoutScroll:u,layoutRoot:m})}return l}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<qu.length;s++){const n=qu[s];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);const a=t["on"+n];a&&(this.propEventSubscriptions[n]=this.on(n,a))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const t=this.parent&&this.parent.getVariantContext()||{};return void 0!==this.props.initial&&(t.initial=this.props.initial),t}const n={};for(let s=0;s<Wu;s++){const t=tl[s],a=this.props[t];(isVariantLabel(a)||!1===a)&&(n[t]=a)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return void 0===s&&void 0!==n&&(s=motionValue(n,{owner:this}),this.addValue(t,s)),s}readValue(t){var n;return void 0===this.latestValues[t]&&this.current?null!==(n=this.getBaseTargetFromProps(this.props,t))&&void 0!==n?n:this.readValueFromInstance(this.current,t,this.options):this.latestValues[t]}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:s}=this.props,a="string"==typeof s||"object"==typeof s?null===(n=resolveVariantFromProps(this.props,s))||void 0===n?void 0:n[t]:void 0;if(s&&void 0!==a)return a;const i=this.getBaseTargetFromProps(this.props,t);return void 0===i||isMotionValue(i)?void 0!==this.initialValues[t]&&void 0===a?void 0:this.baseTarget[t]:i}on(t,n){return this.events[t]||(this.events[t]=new Wd),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class Ku extends Xu{sortInstanceNodePosition(t,n){return 2&t.compareDocumentPosition(n)?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...s},{transformValues:a},i){let o=getOrigin(s,t||{},this);if(a&&(n&&(n=a(n)),s&&(s=a(s)),o&&(o=a(o))),i){checkTargetForNewValues(this,s,o);const t=parseDomVariant(this,s,o,n);n=t.transitionEnd,s=t.target}return{transition:t,transitionEnd:n,...s}}}function getComputedStyle$1(t){return window.getComputedStyle(t)}class Gu extends Ku{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(Sl.has(n)){const t=getDefaultValueType(n);return t&&t.default||0}{const s=getComputedStyle$1(t),a=(Pl(n)?s.getPropertyValue(n):s[n])||0;return"string"==typeof a?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return measureViewportBox(t,n)}build(t,n,s,a){buildHTMLStyles(t,n,s,a.transformTemplate)}scrapeMotionValuesFromProps(t,n){return scrapeMotionValuesFromProps$1(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;isMotionValue(t)&&(this.childSubscription=t.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(t,n,s,a){renderHTML(t,n,s,a)}}class Yu extends Ku{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Sl.has(n)){const t=getDefaultValueType(n);return t&&t.default||0}return n=Gl.has(n)?n:camelToDash(n),t.getAttribute(n)}measureInstanceViewportBox(){return{x:{min:0,max:0},y:{min:0,max:0}}}scrapeMotionValuesFromProps(t,n){return scrapeMotionValuesFromProps(t,n)}build(t,n,s,a){buildSVGAttrs(t,n,s,this.isSVGTag,a.transformTemplate)}renderInstance(t,n,s,a){renderSVG(t,n,s,a)}mount(t){this.isSVGTag=isSVGTag(t.tagName),super.mount(t)}}const createDomVisualElement=(t,n)=>isSVGComponent(t)?new Yu(n,{enableHardwareAcceleration:!1}):new Gu(n,{enableHardwareAcceleration:!0}),Qu=undefined,Zu={...nu,...Nc,...Mu,...{layout:{ProjectionNode:Lu,MeasureLayout:MeasureLayout}}},Ju=createMotionProxy((t,n)=>createDomMotionConfig(t,n,Zu,createDomVisualElement));function useIsMounted(){const t=H.useRef(!1);return Go(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function useForceUpdate(){const t=useIsMounted(),[n,s]=H.useState(0),a=H.useCallback(()=>{t.current&&s(n+1)},[n]),i=undefined;return[H.useCallback(()=>Jl.postRender(a),[a]),n]}class th extends H.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const t=this.props.sizeRef.current;t.height=n.offsetHeight||0,t.width=n.offsetWidth||0,t.top=n.offsetTop,t.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function PopChild({children:t,isPresent:n}){const s=H.useId(),a=H.useRef(null),i=H.useRef({width:0,height:0,top:0,left:0});return H.useInsertionEffect(()=>{const{width:t,height:o,top:l,left:u}=i.current;if(n||!a.current||!t||!o)return;a.current.dataset.motionPopId=s;const m=document.createElement("style");return document.head.appendChild(m),m.sheet&&m.sheet.insertRule(`\n          [data-motion-pop-id="${s}"] {\n            position: absolute !important;\n            width: ${t}px !important;\n            height: ${o}px !important;\n            top: ${l}px !important;\n            left: ${u}px !important;\n          }\n        `),()=>{document.head.removeChild(m)}},[n]),H.createElement(th,{isPresent:n,childRef:a,sizeRef:i},H.cloneElement(t,{ref:a}))}const PresenceChild=({children:t,initial:n,isPresent:s,onExitComplete:a,custom:i,presenceAffectsLayout:o,mode:l})=>{const u=useConstant(newChildrenMap),m=H.useId(),f=H.useMemo(()=>({id:m,initial:n,isPresent:s,custom:i,onExitComplete:t=>{u.set(t,!0);for(const n of u.values())if(!n)return;a&&a()},register:t=>(u.set(t,!1),()=>u.delete(t))}),o?void 0:[s]);return H.useMemo(()=>{u.forEach((t,n)=>u.set(n,!1))},[s]),H.useEffect(()=>{!s&&!u.size&&a&&a()},[s]),"popLayout"===l&&(t=H.createElement(PopChild,{isPresent:s},t)),H.createElement(Xo.Provider,{value:f},t)};function newChildrenMap(){return new Map}function useUnmountEffect(t){return H.useEffect(()=>()=>t(),[])}const getChildKey=t=>t.key||"";function updateChildLookup(t,n){t.forEach(t=>{const s=getChildKey(t);n.set(s,t)})}function onlyElements(t){const n=[];return H.Children.forEach(t,t=>{H.isValidElement(t)&&n.push(t)}),n}const AnimatePresence=({children:t,custom:n,initial:s=!0,onExitComplete:a,exitBeforeEnter:i,presenceAffectsLayout:o=!0,mode:l="sync"})=>{const u=H.useContext(xl).forceRender||useForceUpdate()[0],m=useIsMounted(),f=onlyElements(t);let x=f;const y=H.useRef(new Map).current,j=H.useRef(x),w=H.useRef(new Map).current,N=H.useRef(!0);if(Go(()=>{N.current=!1,updateChildLookup(f,w),j.current=x}),useUnmountEffect(()=>{N.current=!0,w.clear(),y.clear()}),N.current)return H.createElement(H.Fragment,null,x.map(t=>H.createElement(PresenceChild,{key:getChildKey(t),isPresent:!0,initial:!!s&&void 0,presenceAffectsLayout:o,mode:l},t)));x=[...x];const k=j.current.map(getChildKey),C=f.map(getChildKey),T=k.length;for(let _=0;_<T;_++){const t=k[_];-1!==C.indexOf(t)||y.has(t)||y.set(t,void 0)}return"wait"===l&&y.size&&(x=[]),y.forEach((t,s)=>{if(-1!==C.indexOf(s))return;const i=w.get(s);if(!i)return;const N=k.indexOf(s);let T=t;if(!T){const onExit=()=>{y.delete(s);const t=Array.from(w.keys()).filter(t=>!C.includes(t));if(t.forEach(t=>w.delete(t)),j.current=f.filter(n=>{const a=getChildKey(n);return a===s||t.includes(a)}),!y.size){if(!1===m.current)return;u(),a&&a()}};T=H.createElement(PresenceChild,{key:getChildKey(i),isPresent:!1,onExitComplete:onExit,custom:n,presenceAffectsLayout:o,mode:l},i),y.set(s,T)}x.splice(N,0,T)}),x=x.map(t=>{const n=t.key;return y.has(n)?t:H.createElement(PresenceChild,{key:getChildKey(t),isPresent:!0,presenceAffectsLayout:o,mode:l},t)}),H.createElement(H.Fragment,null,y.size?x:x.map(t=>H.cloneElement(t)))},rh=Object.create(null);rh.open="0",rh.close="1",rh.ping="2",rh.pong="3",rh.message="4",rh.upgrade="5",rh.noop="6";const dh=Object.create(null);Object.keys(rh).forEach(t=>{dh[rh[t]]=t});const uh={type:"error",data:"parser error"},fh="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),vh="function"==typeof ArrayBuffer,isView$1=t=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,encodePacket=({type:t,data:n},s,a)=>fh&&n instanceof Blob?s?a(n):encodeBlobAsBase64(n,a):vh&&(n instanceof ArrayBuffer||isView$1(n))?s?a(n):encodeBlobAsBase64(new Blob([n]),a):a(rh[t]+(n||"")),encodeBlobAsBase64=(t,n)=>{const s=new FileReader;return s.onload=function(){const t=s.result.split(",")[1];n("b"+(t||""))},s.readAsDataURL(t)};function toArray$1(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let jh;function encodePacketToBinary(t,n){return fh&&t.data instanceof Blob?t.data.arrayBuffer().then(toArray$1).then(n):vh&&(t.data instanceof ArrayBuffer||isView$1(t.data))?n(toArray$1(t.data)):void encodePacket(t,!1,t=>{jh||(jh=new TextEncoder),n(jh.encode(t))})}const wh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ph="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(let Kx=0;Kx<64;Kx++)Ph[wh.charCodeAt(Kx)]=Kx;const decode$1=t=>{let n=.75*t.length,s=t.length,a,i=0,o,l,u,m;"="===t[t.length-1]&&(n--,"="===t[t.length-2]&&n--);const f=new ArrayBuffer(n),x=new Uint8Array(f);for(a=0;a<s;a+=4)o=Ph[t.charCodeAt(a)],l=Ph[t.charCodeAt(a+1)],u=Ph[t.charCodeAt(a+2)],m=Ph[t.charCodeAt(a+3)],x[i++]=o<<2|l>>4,x[i++]=(15&l)<<4|u>>2,x[i++]=(3&u)<<6|63&m;return f},_h="function"==typeof ArrayBuffer,decodePacket=(t,n)=>{if("string"!=typeof t)return{type:"message",data:mapBinary(t,n)};const s=t.charAt(0);if("b"===s)return{type:"message",data:decodeBase64Packet(t.substring(1),n)};const a=undefined;return dh[s]?t.length>1?{type:dh[s],data:t.substring(1)}:{type:dh[s]}:uh},decodeBase64Packet=(t,n)=>{if(_h){const s=decode$1(t);return mapBinary(s,n)}return{base64:!0,data:t}},mapBinary=(t,n)=>{switch(n){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},Rh=String.fromCharCode(30),encodePayload=(t,n)=>{const s=t.length,a=new Array(s);let i=0;t.forEach((t,o)=>{encodePacket(t,!1,t=>{a[o]=t,++i===s&&n(a.join(Rh))})})},decodePayload=(t,n)=>{const s=t.split(Rh),a=[];for(let i=0;i<s.length;i++){const t=decodePacket(s[i],n);if(a.push(t),"error"===t.type)break}return a};function createPacketEncoderStream(){return new TransformStream({transform(t,n){encodePacketToBinary(t,s=>{const a=s.length;let i;if(a<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,a);else if(a<65536){i=new Uint8Array(3);const t=new DataView(i.buffer);t.setUint8(0,126),t.setUint16(1,a)}else{i=new Uint8Array(9);const t=new DataView(i.buffer);t.setUint8(0,127),t.setBigUint64(1,BigInt(a))}t.data&&"string"!=typeof t.data&&(i[0]|=128),n.enqueue(i),n.enqueue(s)})}})}let Lh;function totalLength(t){return t.reduce((t,n)=>t+n.length,0)}function concatChunks(t,n){if(t[0].length===n)return t.shift();const s=new Uint8Array(n);let a=0;for(let i=0;i<n;i++)s[i]=t[0][a++],a===t[0].length&&(t.shift(),a=0);return t.length&&a<t[0].length&&(t[0]=t[0].slice(a)),s}function createPacketDecoderStream(t,n){Lh||(Lh=new TextDecoder);const s=[];let a=0,i=-1,o=!1;return new TransformStream({transform(l,u){for(s.push(l);;){if(0===a){if(totalLength(s)<1)break;const t=concatChunks(s,1);o=!(128&~t[0]),i=127&t[0],a=i<126?3:126===i?1:2}else if(1===a){if(totalLength(s)<2)break;const t=concatChunks(s,2);i=new DataView(t.buffer,t.byteOffset,t.length).getUint16(0),a=3}else if(2===a){if(totalLength(s)<8)break;const t=concatChunks(s,8),n=new DataView(t.buffer,t.byteOffset,t.length),o=n.getUint32(0);if(o>Math.pow(2,21)-1){u.enqueue(uh);break}i=o*Math.pow(2,32)+n.getUint32(4),a=3}else{if(totalLength(s)<i)break;const t=concatChunks(s,i);u.enqueue(decodePacket(o?t:Lh.decode(t),n)),a=0}if(0===i||i>t){u.enqueue(uh);break}}}})}const Dh=4;function Emitter(t){if(t)return mixin(t)}function mixin(t){for(var n in Emitter.prototype)t[n]=Emitter.prototype[n];return t}Emitter.prototype.on=Emitter.prototype.addEventListener=function(t,n){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(n),this},Emitter.prototype.once=function(t,n){function on2(){this.off(t,on2),n.apply(this,arguments)}return on2.fn=n,this.on(t,on2),this},Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(t,n){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var s=this._callbacks["$"+t],a;if(!s)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var i=0;i<s.length;i++)if((a=s[i])===n||a.fn===n){s.splice(i,1);break}return 0===s.length&&delete this._callbacks["$"+t],this},Emitter.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var n=new Array(arguments.length-1),s=this._callbacks["$"+t],a=1;a<arguments.length;a++)n[a-1]=arguments[a];if(s)for(var a=0,i=(s=s.slice(0)).length;a<i;++a)s[a].apply(this,n);return this},Emitter.prototype.emitReserved=Emitter.prototype.emit,Emitter.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},Emitter.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Oh=(()=>{const t=undefined;return"function"==typeof Promise&&"function"==typeof Promise.resolve?t=>Promise.resolve().then(t):(t,n)=>n(t,0)})(),Fh="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")(),Ih="arraybuffer";function createCookieJar(){}function pick(t,...n){return n.reduce((n,s)=>(t.hasOwnProperty(s)&&(n[s]=t[s]),n),{})}const Hh=Fh.setTimeout,Kh=Fh.clearTimeout;function installTimerFunctions(t,n){n.useNativeTimers?(t.setTimeoutFn=Hh.bind(Fh),t.clearTimeoutFn=Kh.bind(Fh)):(t.setTimeoutFn=Fh.setTimeout.bind(Fh),t.clearTimeoutFn=Fh.clearTimeout.bind(Fh))}const Gh=1.33;function byteLength(t){return"string"==typeof t?utf8Length(t):Math.ceil((t.byteLength||t.size)*Gh)}function utf8Length(t){let n=0,s=0;for(let a=0,i=t.length;a<i;a++)n=t.charCodeAt(a),n<128?s+=1:n<2048?s+=2:n<55296||n>=57344?s+=3:(a++,s+=4);return s}function randomString(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function encode$2(t){let n="";for(let s in t)t.hasOwnProperty(s)&&(n.length&&(n+="&"),n+=encodeURIComponent(s)+"="+encodeURIComponent(t[s]));return n}function decode(t){let n={},s=t.split("&");for(let a=0,i=s.length;a<i;a++){let t=s[a].split("=");n[decodeURIComponent(t[0])]=decodeURIComponent(t[1])}return n}class Qh extends Error{constructor(t,n,s){super(t),this.description=n,this.context=s,this.type="TransportError"}}class Jh extends Emitter{constructor(t){super(),this.writable=!1,installTimerFunctions(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,n,s){return super.emitReserved("error",new Qh(t,n,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(t){"open"===this.readyState&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=decodePacket(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return-1===t.indexOf(":")?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(t){const n=encode$2(t);return n.length?"?"+n:""}}class em extends Jh{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const pause=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let t=0;this._polling&&(t++,this.once("pollComplete",function(){--t||pause()})),this.writable||(t++,this.once("drain",function(){--t||pause()}))}else pause()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const callback=t=>{if("opening"===this.readyState&&"open"===t.type&&this.onOpen(),"close"===t.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(t)};decodePayload(t,this.socket.binaryType).forEach(callback),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){const close=()=>{this.write([{type:"close"}])};"open"===this.readyState?close():this.once("open",close)}write(t){this.writable=!1,encodePayload(t,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return!1!==this.opts.timestampRequests&&(n[this.opts.timestampParam]=randomString()),this.supportsBinary||n.sid||(n.b64=1),this.createUri(t,n)}}let tm=!1;try{tm="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(Xx){}const nm=tm;function empty(){}class sm extends em{constructor(t){if(super(t),"undefined"!=typeof location){const n="https:"===location.protocol;let s=location.port;s||(s=n?"443":"80"),this.xd="undefined"!=typeof location&&t.hostname!==location.hostname||s!==t.port}}doWrite(t,n){const s=this.request({method:"POST",data:t});s.on("success",n),s.on("error",(t,n)=>{this.onError("xhr post error",t,n)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(t,n)=>{this.onError("xhr poll error",t,n)}),this.pollXhr=t}}class rm extends Emitter{constructor(t,n,s){super(),this.createRequest=t,installTimerFunctions(this,s),this._opts=s,this._method=s.method||"GET",this._uri=n,this._data=void 0!==s.data?s.data:null,this._create()}_create(){var t;const n=pick(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const s=this._xhr=this.createRequest(n);try{s.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let t in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(t)&&s.setRequestHeader(t,this._opts.extraHeaders[t])}}catch(qx){}if("POST"===this._method)try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(qx){}try{s.setRequestHeader("Accept","*/*")}catch(qx){}null===(t=this._opts.cookieJar)||void 0===t||t.addCookies(s),"withCredentials"in s&&(s.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(s.timeout=this._opts.requestTimeout),s.onreadystatechange=()=>{var t;3===s.readyState&&(null===(t=this._opts.cookieJar)||void 0===t||t.parseCookies(s.getResponseHeader("set-cookie"))),4===s.readyState&&(200===s.status||1223===s.status?this._onLoad():this.setTimeoutFn(()=>{this._onError("number"==typeof s.status?s.status:0)},0))},s.send(this._data)}catch(qx){return void this.setTimeoutFn(()=>{this._onError(qx)},0)}"undefined"!=typeof document&&(this._index=rm.requestsCount++,rm.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(void 0!==this._xhr&&null!==this._xhr){if(this._xhr.onreadystatechange=empty,t)try{this._xhr.abort()}catch(qx){}"undefined"!=typeof document&&delete rm.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;null!==t&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}if(rm.requestsCount=0,rm.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",unloadHandler);else if("function"==typeof addEventListener){const t=undefined;addEventListener("onpagehide"in Fh?"pagehide":"unload",unloadHandler,!1)}function unloadHandler(){for(let t in rm.requests)rm.requests.hasOwnProperty(t)&&rm.requests[t].abort()}const am=function(){const t=newRequest({xdomain:!1});return t&&null!==t.responseType}();class im extends sm{constructor(t){super(t);const n=t&&t.forceBase64;this.supportsBinary=am&&!n}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new rm(newRequest,this.uri(),t)}}function newRequest(t){const n=t.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!n||nm))return new XMLHttpRequest}catch(qx){}if(!n)try{return new(Fh[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(qx){}}const om="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class lm extends Jh{get name(){return"websocket"}doOpen(){const t=this.uri(),n=this.opts.protocols,s=om?{}:pick(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,n,s)}catch(Xx){return this.emitReserved("error",Xx)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const s=t[n],a=n===t.length-1;encodePacket(s,this.supportsBinary,t=>{try{this.doWrite(s,t)}catch(qx){}a&&Oh(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){void 0!==this.ws&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=randomString()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}}const cm=Fh.WebSocket||Fh.MozWebSocket;class dm extends lm{createSocket(t,n,s){return om?new cm(t,n,s):n?new cm(t,n):new cm(t)}doWrite(t,n){this.ws.send(n)}}class um extends Jh{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(Xx){return this.emitReserved("error",Xx)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const n=createPacketDecoderStream(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=t.readable.pipeThrough(n).getReader(),a=createPacketEncoderStream();a.readable.pipeTo(t.writable),this._writer=a.writable.getWriter();const read=()=>{s.read().then(({done:t,value:n})=>{t||(this.onPacket(n),read())}).catch(t=>{})};read();const i={type:"open"};this.query.sid&&(i.data=`{"sid":"${this.query.sid}"}`),this._writer.write(i).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const s=t[n],a=n===t.length-1;this._writer.write(s).then(()=>{a&&Oh(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;null===(t=this._transport)||void 0===t||t.close()}}const hm={websocket:dm,webtransport:um,polling:im},mm=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,pm=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function parse(t){if(t.length>8e3)throw"URI too long";const n=t,s=t.indexOf("["),a=t.indexOf("]");-1!=s&&-1!=a&&(t=t.substring(0,s)+t.substring(s,a).replace(/:/g,";")+t.substring(a,t.length));let i=mm.exec(t||""),o={},l=14;for(;l--;)o[pm[l]]=i[l]||"";return-1!=s&&-1!=a&&(o.source=n,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=pathNames(o,o.path),o.queryKey=queryKey(o,o.query),o}function pathNames(t,n){const s=/\/{2,9}/g,a=n.replace(s,"/").split("/");return"/"!=n.slice(0,1)&&0!==n.length||a.splice(0,1),"/"==n.slice(-1)&&a.splice(a.length-1,1),a}function queryKey(t,n){const s={};return n.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(t,n,a){n&&(s[n]=a)}),s}const fm="function"==typeof addEventListener&&"function"==typeof removeEventListener,xm=[];fm&&addEventListener("offline",()=>{xm.forEach(t=>t())},!1);class gm extends Emitter{constructor(t,n){if(super(),this.binaryType=Ih,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&"object"==typeof t&&(n=t,t=null),t){const s=parse(t);n.hostname=s.host,n.secure="https"===s.protocol||"wss"===s.protocol,n.port=s.port,s.query&&(n.query=s.query)}else n.host&&(n.hostname=parse(n.host).host);installTimerFunctions(this,n),this.secure=null!=n.secure?n.secure:"undefined"!=typeof location&&"https:"===location.protocol,n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=n.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(t=>{const n=t.prototype.name;this.transports.push(n),this._transportsByName[n]=t}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"==typeof this.opts.query&&(this.opts.query=decode(this.opts.query)),fm&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},xm.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=4,n.transport=t,this.id&&(n.sid=this.id);const s=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](s)}_open(){if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);const t=this.opts.rememberUpgrade&&gm.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(t);n.open(),this.setTransport(n)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",t=>this._onClose("transport close",t))}onOpen(){this.readyState="open",gm.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=t.data,this._onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){const t=undefined;if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let s=0;s<this.writeBuffer.length;s++){const t=this.writeBuffer[s].data;if(t&&(n+=byteLength(t)),s>0&&n>this._maxPayload)return this.writeBuffer.slice(0,s);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,Oh(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,n,s){return this._sendPacket("message",t,n,s),this}send(t,n,s){return this._sendPacket("message",t,n,s),this}_sendPacket(t,n,s,a){if("function"==typeof n&&(a=n,n=void 0),"function"==typeof s&&(a=s,s=null),"closing"===this.readyState||"closed"===this.readyState)return;(s=s||{}).compress=!1!==s.compress;const i={type:t,data:n,options:s};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),a&&this.once("flush",a),this.flush()}close(){const close=()=>{this._onClose("forced close"),this.transport.close()},cleanupAndClose=()=>{this.off("upgrade",cleanupAndClose),this.off("upgradeError",cleanupAndClose),close()},waitForUpgrade=()=>{this.once("upgrade",cleanupAndClose),this.once("upgradeError",cleanupAndClose)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?waitForUpgrade():close()}):this.upgrading?waitForUpgrade():close()),this}_onError(t){if(gm.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,n){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),fm&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const t=xm.indexOf(this._offlineEventListener);-1!==t&&xm.splice(t,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this._prevBufferLen=0}}}gm.protocol=4;class ym extends gm{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let n=this.createTransport(t),s=!1;gm.priorWebsocketSuccess=!1;const onTransportOpen=()=>{s||(n.send([{type:"ping",data:"probe"}]),n.once("packet",t=>{if(!s)if("pong"===t.type&&"probe"===t.data){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;gm.priorWebsocketSuccess="websocket"===n.name,this.transport.pause(()=>{s||"closed"!==this.readyState&&(cleanup(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const t=new Error("probe error");t.transport=n.name,this.emitReserved("upgradeError",t)}}))};function freezeTransport(){s||(s=!0,cleanup(),n.close(),n=null)}const onerror=t=>{const s=new Error("probe error: "+t);s.transport=n.name,freezeTransport(),this.emitReserved("upgradeError",s)};function onTransportClose(){onerror("transport closed")}function onclose(){onerror("socket closed")}function onupgrade(t){n&&t.name!==n.name&&freezeTransport()}const cleanup=()=>{n.removeListener("open",onTransportOpen),n.removeListener("error",onerror),n.removeListener("close",onTransportClose),this.off("close",onclose),this.off("upgrading",onupgrade)};n.once("open",onTransportOpen),n.once("error",onerror),n.once("close",onTransportClose),this.once("close",onclose),this.once("upgrading",onupgrade),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==t?this.setTimeoutFn(()=>{s||n.open()},200):n.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const n=[];for(let s=0;s<t.length;s++)~this.transports.indexOf(t[s])&&n.push(t[s]);return n}}let vm=class t extends ym{constructor(t,n={}){const s="object"==typeof t?t:n;(!s.transports||s.transports&&"string"==typeof s.transports[0])&&(s.transports=(s.transports||["polling","websocket","webtransport"]).map(t=>hm[t]).filter(t=>!!t)),super(t,s)}};function url(t,n="",s){let a=t;s=s||"undefined"!=typeof location&&location,null==t&&(t=s.protocol+"//"+s.host),"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?s.protocol+t:s.host+t),/^(https?|wss?):\/\//.test(t)||(t=void 0!==s?s.protocol+"//"+t:"https://"+t),a=parse(t)),a.port||(/^(http|ws)$/.test(a.protocol)?a.port="80":/^(http|ws)s$/.test(a.protocol)&&(a.port="443")),a.path=a.path||"/";const i=undefined,o=-1!==a.host.indexOf(":")?"["+a.host+"]":a.host;return a.id=a.protocol+"://"+o+":"+a.port+n,a.href=a.protocol+"://"+o+(s&&s.port===a.port?"":":"+a.port),a}const bm="function"==typeof ArrayBuffer,isView=t=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,jm=Object.prototype.toString,wm="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===jm.call(Blob),Nm="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===jm.call(File);function isBinary(t){return bm&&(t instanceof ArrayBuffer||isView(t))||wm&&t instanceof Blob||Nm&&t instanceof File}function hasBinary(t,n){if(!t||"object"!=typeof t)return!1;if(Array.isArray(t)){for(let n=0,s=t.length;n<s;n++)if(hasBinary(t[n]))return!0;return!1}if(isBinary(t))return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return hasBinary(t.toJSON(),!0);for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&hasBinary(t[s]))return!0;return!1}function deconstructPacket(t){const n=[],s=t.data,a=t;return a.data=_deconstructPacket(s,n),a.attachments=n.length,{packet:a,buffers:n}}function _deconstructPacket(t,n){if(!t)return t;if(isBinary(t)){const s={_placeholder:!0,num:n.length};return n.push(t),s}if(Array.isArray(t)){const s=new Array(t.length);for(let a=0;a<t.length;a++)s[a]=_deconstructPacket(t[a],n);return s}if("object"==typeof t&&!(t instanceof Date)){const s={};for(const a in t)Object.prototype.hasOwnProperty.call(t,a)&&(s[a]=_deconstructPacket(t[a],n));return s}return t}function reconstructPacket(t,n){return t.data=_reconstructPacket(t.data,n),delete t.attachments,t}function _reconstructPacket(t,n){if(!t)return t;if(t&&!0===t._placeholder){const s=undefined;if("number"==typeof t.num&&t.num>=0&&t.num<n.length)return n[t.num];throw new Error("illegal attachments")}if(Array.isArray(t))for(let s=0;s<t.length;s++)t[s]=_reconstructPacket(t[s],n);else if("object"==typeof t)for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(t[s]=_reconstructPacket(t[s],n));return t}const km=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Sm=5;var Cm,Em;(Em=Cm||(Cm={}))[Em.CONNECT=0]="CONNECT",Em[Em.DISCONNECT=1]="DISCONNECT",Em[Em.EVENT=2]="EVENT",Em[Em.ACK=3]="ACK",Em[Em.CONNECT_ERROR=4]="CONNECT_ERROR",Em[Em.BINARY_EVENT=5]="BINARY_EVENT",Em[Em.BINARY_ACK=6]="BINARY_ACK";class Pm{constructor(t){this.replacer=t}encode(t){return t.type!==Cm.EVENT&&t.type!==Cm.ACK||!hasBinary(t)?[this.encodeAsString(t)]:this.encodeAsBinary({type:t.type===Cm.EVENT?Cm.BINARY_EVENT:Cm.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id})}encodeAsString(t){let n=""+t.type;return t.type!==Cm.BINARY_EVENT&&t.type!==Cm.BINARY_ACK||(n+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(n+=t.nsp+","),null!=t.id&&(n+=t.id),null!=t.data&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=deconstructPacket(t),s=this.encodeAsString(n.packet),a=n.buffers;return a.unshift(s),a}}function isObject$1(t){return"[object Object]"===Object.prototype.toString.call(t)}class Tm extends Emitter{constructor(t){super(),this.reviver=t}add(t){let n;if("string"==typeof t){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const s=n.type===Cm.BINARY_EVENT;s||n.type===Cm.BINARY_ACK?(n.type=s?Cm.EVENT:Cm.ACK,this.reconstructor=new _m(n),0===n.attachments&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else{if(!isBinary(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n))}}decodeString(t){let n=0;const s={type:Number(t.charAt(0))};if(void 0===Cm[s.type])throw new Error("unknown packet type "+s.type);if(s.type===Cm.BINARY_EVENT||s.type===Cm.BINARY_ACK){const a=n+1;for(;"-"!==t.charAt(++n)&&n!=t.length;);const i=t.substring(a,n);if(i!=Number(i)||"-"!==t.charAt(n))throw new Error("Illegal attachments");s.attachments=Number(i)}if("/"===t.charAt(n+1)){const a=n+1;for(;++n;){const s=undefined;if(","===t.charAt(n))break;if(n===t.length)break}s.nsp=t.substring(a,n)}else s.nsp="/";const a=t.charAt(n+1);if(""!==a&&Number(a)==a){const a=n+1;for(;++n;){const s=t.charAt(n);if(null==s||Number(s)!=s){--n;break}if(n===t.length)break}s.id=Number(t.substring(a,n+1))}if(t.charAt(++n)){const a=this.tryParse(t.substr(n));if(!Tm.isPayloadValid(s.type,a))throw new Error("invalid payload");s.data=a}return s}tryParse(t){try{return JSON.parse(t,this.reviver)}catch(qx){return!1}}static isPayloadValid(t,n){switch(t){case Cm.CONNECT:return isObject$1(n);case Cm.DISCONNECT:return void 0===n;case Cm.CONNECT_ERROR:return"string"==typeof n||isObject$1(n);case Cm.EVENT:case Cm.BINARY_EVENT:return Array.isArray(n)&&("number"==typeof n[0]||"string"==typeof n[0]&&-1===km.indexOf(n[0]));case Cm.ACK:case Cm.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class _m{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const t=reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Rm=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Tm,Encoder:Pm,get PacketType(){return Cm},protocol:5},Symbol.toStringTag,{value:"Module"}));function on(t,n,s){return t.on(n,s),function subDestroy(){t.off(n,s)}}const Am=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Lm extends Emitter{constructor(t,n,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[on(t,"open",this.onopen.bind(this)),on(t,"packet",this.onpacket.bind(this)),on(t,"error",this.onerror.bind(this)),on(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){var s,a,i;if(Am.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const o={type:Cm.EVENT,data:n,options:{}};if(o.options.compress=!1!==this.flags.compress,"function"==typeof n[n.length-1]){const t=this.ids++,s=n.pop();this._registerAckCallback(t,s),o.id=t}const l=null===(a=null===(s=this.io.engine)||void 0===s?void 0:s.transport)||void 0===a?void 0:a.writable,u=this.connected&&!(null===(i=this.io.engine)||void 0===i?void 0:i._hasPingExpired()),m=undefined;return this.flags.volatile&&!l||(u?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(t,n){var s;const a=null!==(s=this.flags.timeout)&&void 0!==s?s:this._opts.ackTimeout;if(void 0===a)return void(this.acks[t]=n);const i=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let n=0;n<this.sendBuffer.length;n++)this.sendBuffer[n].id===t&&this.sendBuffer.splice(n,1);n.call(this,new Error("operation has timed out"))},a),fn=(...t)=>{this.io.clearTimeoutFn(i),n.apply(this,t)};fn.withError=!0,this.acks[t]=fn}emitWithAck(t,...n){return new Promise((s,a)=>{const fn=(t,n)=>t?a(t):s(n);fn.withError=!0,n.push(fn),this.emit(t,...n)})}_addToQueue(t){let n;"function"==typeof t[t.length-1]&&(n=t.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((t,...a)=>{if(s!==this._queue[0])return;const i=undefined;return null!==t?s.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(t)):(this._queue.shift(),n&&n(null,...a)),s.pending=!1,this._drainQueue()}),this._queue.push(s),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||0===this._queue.length)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){"function"==typeof this.auth?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Cm.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{const n=undefined;if(!this.sendBuffer.some(n=>String(n.id)===t)){const n=this.acks[t];delete this.acks[t],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(t){const n=undefined;if(t.nsp===this.nsp)switch(t.type){case Cm.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Cm.EVENT:case Cm.BINARY_EVENT:this.onevent(t);break;case Cm.ACK:case Cm.BINARY_ACK:this.onack(t);break;case Cm.DISCONNECT:this.ondisconnect();break;case Cm.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const n=t.data||[];null!=t.id&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const s of n)s.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&"string"==typeof t[t.length-1]&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let s=!1;return function(...a){s||(s=!0,n.packet({type:Cm.ACK,id:t,data:a}))}}onack(t){const n=this.acks[t.id];"function"==typeof n&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Cm.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let s=0;s<n.length;s++)if(t===n[s])return n.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let s=0;s<n.length;s++)if(t===n[s])return n.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const s of n)s.apply(this,t.data)}}}function Backoff(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Backoff.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var n=Math.random(),s=Math.floor(n*this.jitter*t);t=1&Math.floor(10*n)?t+s:t-s}return 0|Math.min(t,this.max)},Backoff.prototype.reset=function(){this.attempts=0},Backoff.prototype.setMin=function(t){this.ms=t},Backoff.prototype.setMax=function(t){this.max=t},Backoff.prototype.setJitter=function(t){this.jitter=t};class Mm extends Emitter{constructor(t,n){var s;super(),this.nsps={},this.subs=[],t&&"object"==typeof t&&(n=t,t=void 0),(n=n||{}).path=n.path||"/socket.io",this.opts=n,installTimerFunctions(this,n),this.reconnection(!1!==n.reconnection),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(s=n.randomizationFactor)&&void 0!==s?s:.5),this.backoff=new Backoff({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==n.timeout?2e4:n.timeout),this._readyState="closed",this.uri=t;const a=n.parser||Rm;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=!1!==n.autoConnect,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return void 0===t?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return void 0===t?this._reconnectionDelay:(this._reconnectionDelay=t,null===(n=this.backoff)||void 0===n||n.setMin(t),this)}randomizationFactor(t){var n;return void 0===t?this._randomizationFactor:(this._randomizationFactor=t,null===(n=this.backoff)||void 0===n||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return void 0===t?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,null===(n=this.backoff)||void 0===n||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new vm(this.uri,this.opts);const n=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const a=on(n,"open",function(){s.onopen(),t&&t()}),onError=n=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",n),t?t(n):this.maybeReconnectOnOpen()},i=on(n,"error",onError);if(!1!==this._timeout){const t=this._timeout,s=this.setTimeoutFn(()=>{a(),onError(new Error("timeout")),n.close()},t);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}return this.subs.push(a),this.subs.push(i),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(on(t,"ping",this.onping.bind(this)),on(t,"data",this.ondata.bind(this)),on(t,"error",this.onerror.bind(this)),on(t,"close",this.onclose.bind(this)),on(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(qx){this.onclose("parse error",qx)}}ondecoded(t){Oh(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let s=this.nsps[t];return s?this._autoConnect&&!s.active&&s.connect():(s=new Lm(this,t,n),this.nsps[t]=s),s}_destroy(t){const n=Object.keys(this.nsps);for(const s of n){const t=undefined;if(this.nsps[s].active)return}this._close()}_packet(t){const n=this.encoder.encode(t);for(let s=0;s<n.length;s++)this.engine.write(n[s],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,n){var s;this.cleanup(),null===(s=this.engine)||void 0===s||s.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),t.skipReconnect||t.open(n=>{n?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",n)):t.onreconnect()}))},n);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Dm={};function lookup(t,n){"object"==typeof t&&(n=t,t=void 0);const s=url(t,(n=n||{}).path||"/socket.io"),a=s.source,i=s.id,o=s.path,l=Dm[i]&&o in Dm[i].nsps,u=undefined;let m;return n.forceNew||n["force new connection"]||!1===n.multiplex||l?m=new Mm(a,n):(Dm[i]||(Dm[i]=new Mm(a,n)),m=Dm[i]),s.query&&!n.query&&(n.query=s.queryKey),m.socket(s.path,n)}function bind(t,n){return function wrap(){return t.apply(n,arguments)}}Object.assign(lookup,{Manager:Mm,Socket:Lm,io:lookup,connect:lookup});const{toString:Om}=Object.prototype,{getPrototypeOf:Vm}=Object,{iterator:Fm,toStringTag:Bm}=Symbol,Im=(Um=Object.create(null),t=>{const n=Om.call(t);return Um[n]||(Um[n]=n.slice(8,-1).toLowerCase())});var Um;const kindOfTest=t=>(t=t.toLowerCase(),n=>Im(n)===t),typeOfTest=t=>n=>typeof n===t,{isArray:zm}=Array,$m=typeOfTest("undefined");function isBuffer(t){return null!==t&&!$m(t)&&null!==t.constructor&&!$m(t.constructor)&&Wm(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Hm=kindOfTest("ArrayBuffer");function isArrayBufferView(t){let n;return n="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&Hm(t.buffer),n}const qm=typeOfTest("string"),Wm=typeOfTest("function"),Xm=typeOfTest("number"),isObject=t=>null!==t&&"object"==typeof t,isBoolean=t=>!0===t||!1===t,isPlainObject=t=>{if("object"!==Im(t))return!1;const n=Vm(t);return!(null!==n&&n!==Object.prototype&&null!==Object.getPrototypeOf(n)||Bm in t||Fm in t)},isEmptyObject=t=>{if(!isObject(t)||isBuffer(t))return!1;try{return 0===Object.keys(t).length&&Object.getPrototypeOf(t)===Object.prototype}catch(qx){return!1}},Km=kindOfTest("Date"),Gm=kindOfTest("File"),Ym=kindOfTest("Blob"),Qm=kindOfTest("FileList"),isStream=t=>isObject(t)&&Wm(t.pipe),isFormData=t=>{let n;return t&&("function"==typeof FormData&&t instanceof FormData||Wm(t.append)&&("formdata"===(n=Im(t))||"object"===n&&Wm(t.toString)&&"[object FormData]"===t.toString()))},Zm=kindOfTest("URLSearchParams"),[Jm,ep,tp,np]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(t,n,{allOwnKeys:s=!1}={}){if(null==t)return;let a,i;if("object"!=typeof t&&(t=[t]),zm(t))for(a=0,i=t.length;a<i;a++)n.call(null,t[a],a,t);else{if(isBuffer(t))return;const i=s?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let l;for(a=0;a<o;a++)l=i[a],n.call(null,t[l],l,t)}}function findKey(t,n){if(isBuffer(t))return null;n=n.toLowerCase();const s=Object.keys(t);let a=s.length,i;for(;a-- >0;)if(i=s[a],n===i.toLowerCase())return i;return null}const sp="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,isContextDefined=t=>!$m(t)&&t!==sp;function merge(){const{caseless:t,skipUndefined:n}=isContextDefined(this)&&this||{},s={},assignValue=(a,i)=>{const o=t&&findKey(s,i)||i;isPlainObject(s[o])&&isPlainObject(a)?s[o]=merge(s[o],a):isPlainObject(a)?s[o]=merge({},a):zm(a)?s[o]=a.slice():n&&$m(a)||(s[o]=a)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&forEach(arguments[a],assignValue);return s}const extend=(t,n,s,{allOwnKeys:a}={})=>(forEach(n,(n,a)=>{s&&Wm(n)?t[a]=bind(n,s):t[a]=n},{allOwnKeys:a}),t),stripBOM=t=>(65279===t.charCodeAt(0)&&(t=t.slice(1)),t),inherits=(t,n,s,a)=>{t.prototype=Object.create(n.prototype,a),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:n.prototype}),s&&Object.assign(t.prototype,s)},toFlatObject=(t,n,s,a)=>{let i,o,l;const u={};if(n=n||{},null==t)return n;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)l=i[o],a&&!a(l,t,n)||u[l]||(n[l]=t[l],u[l]=!0);t=!1!==s&&Vm(t)}while(t&&(!s||s(t,n))&&t!==Object.prototype);return n},endsWith=(t,n,s)=>{t=String(t),(void 0===s||s>t.length)&&(s=t.length),s-=n.length;const a=t.indexOf(n,s);return-1!==a&&a===s},toArray=t=>{if(!t)return null;if(zm(t))return t;let n=t.length;if(!Xm(n))return null;const s=new Array(n);for(;n-- >0;)s[n]=t[n];return s},rp=(ap="undefined"!=typeof Uint8Array&&Vm(Uint8Array),t=>ap&&t instanceof ap);var ap;const forEachEntry=(t,n)=>{const s=undefined,a=(t&&t[Fm]).call(t);let i;for(;(i=a.next())&&!i.done;){const s=i.value;n.call(t,s[0],s[1])}},matchAll=(t,n)=>{let s;const a=[];for(;null!==(s=t.exec(n));)a.push(s);return a},ip=kindOfTest("HTMLFormElement"),toCamelCase=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function replacer(t,n,s){return n.toUpperCase()+s}),op=(({hasOwnProperty:t})=>(n,s)=>t.call(n,s))(Object.prototype),lp=kindOfTest("RegExp"),reduceDescriptors=(t,n)=>{const s=Object.getOwnPropertyDescriptors(t),a={};forEach(s,(s,i)=>{let o;!1!==(o=n(s,i,t))&&(a[i]=o||s)}),Object.defineProperties(t,a)},freezeMethods=t=>{reduceDescriptors(t,(n,s)=>{if(Wm(t)&&-1!==["arguments","caller","callee"].indexOf(s))return!1;const a=t[s];Wm(a)&&(n.enumerable=!1,"writable"in n?n.writable=!1:n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")}))})},toObjectSet=(t,n)=>{const s={},define=t=>{t.forEach(t=>{s[t]=!0})};return zm(t)?define(t):define(String(t).split(n)),s},noop=()=>{},toFiniteNumber=(t,n)=>null!=t&&Number.isFinite(t=+t)?t:n;function isSpecCompliantForm(t){return!!(t&&Wm(t.append)&&"FormData"===t[Bm]&&t[Fm])}const toJSONObject=t=>{const n=new Array(10),visit=(t,s)=>{if(isObject(t)){if(n.indexOf(t)>=0)return;if(isBuffer(t))return t;if(!("toJSON"in t)){n[s]=t;const a=zm(t)?[]:{};return forEach(t,(t,n)=>{const i=visit(t,s+1);!$m(i)&&(a[n]=i)}),n[s]=void 0,a}}return t};return visit(t,0)},cp=kindOfTest("AsyncFunction"),isThenable=t=>t&&(isObject(t)||Wm(t))&&Wm(t.then)&&Wm(t.catch),dp=(up="function"==typeof setImmediate,hp=Wm(sp.postMessage),up?setImmediate:hp?(mp=`axios@${Math.random()}`,pp=[],sp.addEventListener("message",({source:t,data:n})=>{t===sp&&n===mp&&pp.length&&pp.shift()()},!1),t=>{pp.push(t),sp.postMessage(mp,"*")}):t=>setTimeout(t));var up,hp,mp,pp;const fp="undefined"!=typeof queueMicrotask?queueMicrotask.bind(sp):"undefined"!=typeof process&&process.nextTick||dp,isIterable=t=>null!=t&&Wm(t[Fm]),xp={isArray:zm,isArrayBuffer:Hm,isBuffer:isBuffer,isFormData:isFormData,isArrayBufferView:isArrayBufferView,isString:qm,isNumber:Xm,isBoolean:isBoolean,isObject:isObject,isPlainObject:isPlainObject,isEmptyObject:isEmptyObject,isReadableStream:Jm,isRequest:ep,isResponse:tp,isHeaders:np,isUndefined:$m,isDate:Km,isFile:Gm,isBlob:Ym,isRegExp:lp,isFunction:Wm,isStream:isStream,isURLSearchParams:Zm,isTypedArray:rp,isFileList:Qm,forEach:forEach,merge:merge,extend:extend,trim:trim,stripBOM:stripBOM,inherits:inherits,toFlatObject:toFlatObject,kindOf:Im,kindOfTest:kindOfTest,endsWith:endsWith,toArray:toArray,forEachEntry:forEachEntry,matchAll:matchAll,isHTMLForm:ip,hasOwnProperty:op,hasOwnProp:op,reduceDescriptors:reduceDescriptors,freezeMethods:freezeMethods,toObjectSet:toObjectSet,toCamelCase:toCamelCase,noop:noop,toFiniteNumber:toFiniteNumber,findKey:findKey,global:sp,isContextDefined:isContextDefined,isSpecCompliantForm:isSpecCompliantForm,toJSONObject:toJSONObject,isAsyncFn:cp,isThenable:isThenable,setImmediate:dp,asap:fp,isIterable:isIterable};function AxiosError(t,n,s,a,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=t,this.name="AxiosError",n&&(this.code=n),s&&(this.config=s),a&&(this.request=a),i&&(this.response=i,this.status=i.status?i.status:null)}xp.inherits(AxiosError,Error,{toJSON:function toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:xp.toJSONObject(this.config),code:this.code,status:this.status}}});const gp=AxiosError.prototype,yp={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{yp[t]={value:t}}),Object.defineProperties(AxiosError,yp),Object.defineProperty(gp,"isAxiosError",{value:!0}),AxiosError.from=(t,n,s,a,i,o)=>{const l=Object.create(gp);xp.toFlatObject(t,l,function filter3(t){return t!==Error.prototype},t=>"isAxiosError"!==t);const u=t&&t.message?t.message:"Error",m=null==n&&t?t.code:n;return AxiosError.call(l,u,m,s,a,i),t&&null==l.cause&&Object.defineProperty(l,"cause",{value:t,configurable:!0}),l.name=t&&t.name||"Error",o&&Object.assign(l,o),l};const vp=null;function isVisitable(t){return xp.isPlainObject(t)||xp.isArray(t)}function removeBrackets(t){return xp.endsWith(t,"[]")?t.slice(0,-2):t}function renderKey(t,n,s){return t?t.concat(n).map(function each(t,n){return t=removeBrackets(t),!s&&n?"["+t+"]":t}).join(s?".":""):n}function isFlatArray(t){return xp.isArray(t)&&!t.some(isVisitable)}const bp=xp.toFlatObject(xp,{},null,function filter2(t){return/^is[A-Z]/.test(t)});function toFormData(t,n,s){if(!xp.isObject(t))throw new TypeError("target must be an object");n=n||new FormData;const a=(s=xp.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function defined(t,n){return!xp.isUndefined(n[t])})).metaTokens,i=s.visitor||defaultVisitor,o=s.dots,l=s.indexes,u=undefined,m=(s.Blob||"undefined"!=typeof Blob&&Blob)&&xp.isSpecCompliantForm(n);if(!xp.isFunction(i))throw new TypeError("visitor must be a function");function convertValue(t){if(null===t)return"";if(xp.isDate(t))return t.toISOString();if(xp.isBoolean(t))return t.toString();if(!m&&xp.isBlob(t))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return xp.isArrayBuffer(t)||xp.isTypedArray(t)?m&&"function"==typeof Blob?new Blob([t]):Buffer.from(t):t}function defaultVisitor(t,s,i){let u=t;if(t&&!i&&"object"==typeof t)if(xp.endsWith(s,"{}"))s=a?s:s.slice(0,-2),t=JSON.stringify(t);else if(xp.isArray(t)&&isFlatArray(t)||(xp.isFileList(t)||xp.endsWith(s,"[]"))&&(u=xp.toArray(t)))return s=removeBrackets(s),u.forEach(function each(t,a){!xp.isUndefined(t)&&null!==t&&n.append(!0===l?renderKey([s],a,o):null===l?s:s+"[]",convertValue(t))}),!1;return!!isVisitable(t)||(n.append(renderKey(i,s,o),convertValue(t)),!1)}const f=[],x=Object.assign(bp,{defaultVisitor:defaultVisitor,convertValue:convertValue,isVisitable:isVisitable});function build(t,s){if(!xp.isUndefined(t)){if(-1!==f.indexOf(t))throw Error("Circular reference detected in "+s.join("."));f.push(t),xp.forEach(t,function each(t,a){const o=undefined;!0===(!(xp.isUndefined(t)||null===t)&&i.call(n,t,xp.isString(a)?a.trim():a,s,x))&&build(t,s?s.concat(a):[a])}),f.pop()}}if(!xp.isObject(t))throw new TypeError("data must be an object");return build(t),n}function encode$1(t){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function replacer(t){return n[t]})}function AxiosURLSearchParams(t,n){this._pairs=[],t&&toFormData(t,this,n)}const jp=AxiosURLSearchParams.prototype;function encode(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function buildURL(t,n,s){if(!n)return t;const a=s&&s.encode||encode;xp.isFunction(s)&&(s={serialize:s});const i=s&&s.serialize;let o;if(o=i?i(n,s):xp.isURLSearchParams(n)?n.toString():new AxiosURLSearchParams(n,s).toString(a),o){const n=t.indexOf("#");-1!==n&&(t=t.slice(0,n)),t+=(-1===t.indexOf("?")?"?":"&")+o}return t}jp.append=function append(t,n){this._pairs.push([t,n])},jp.toString=function toString2(t){const n=t?function(n){return t.call(this,n,encode$1)}:encode$1;return this._pairs.map(function each(t){return n(t[0])+"="+n(t[1])},"").join("&")};class wp{constructor(){this.handlers=[]}use(t,n,s){return this.handlers.push({fulfilled:t,rejected:n,synchronous:!!s&&s.synchronous,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){xp.forEach(this.handlers,function forEachHandler(n){null!==n&&t(n)})}}const Np=wp,kp={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Sp=undefined,Cp=undefined,Ep=undefined,Pp={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:AxiosURLSearchParams,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Tp="undefined"!=typeof window&&"undefined"!=typeof document,_p="object"==typeof navigator&&navigator||void 0,Rp=Tp&&(!_p||["ReactNative","NativeScript","NS"].indexOf(_p.product)<0),Ap="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,Lp=Tp&&window.location.href||"http://localhost",Mp=undefined,Dp={...Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Tp,hasStandardBrowserEnv:Rp,hasStandardBrowserWebWorkerEnv:Ap,navigator:_p,origin:Lp},Symbol.toStringTag,{value:"Module"})),...Pp};function toURLEncodedForm(t,n){return toFormData(t,new Dp.classes.URLSearchParams,{visitor:function(t,n,s,a){return Dp.isNode&&xp.isBuffer(t)?(this.append(n,t.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...n})}function parsePropPath(t){return xp.matchAll(/\w+|\[(\w*)]/g,t).map(t=>"[]"===t[0]?"":t[1]||t[0])}function arrayToObject(t){const n={},s=Object.keys(t);let a;const i=s.length;let o;for(a=0;a<i;a++)o=s[a],n[o]=t[o];return n}function formDataToJSON(t){function buildPath(t,n,s,a){let i=t[a++];if("__proto__"===i)return!0;const o=Number.isFinite(+i),l=a>=t.length;if(i=!i&&xp.isArray(s)?s.length:i,l)return xp.hasOwnProp(s,i)?s[i]=[s[i],n]:s[i]=n,!o;s[i]&&xp.isObject(s[i])||(s[i]=[]);const u=undefined;return buildPath(t,n,s[i],a)&&xp.isArray(s[i])&&(s[i]=arrayToObject(s[i])),!o}if(xp.isFormData(t)&&xp.isFunction(t.entries)){const n={};return xp.forEachEntry(t,(t,s)=>{buildPath(parsePropPath(t),s,n,0)}),n}return null}function stringifySafely(t,n,s){if(xp.isString(t))try{return(n||JSON.parse)(t),xp.trim(t)}catch(qx){if("SyntaxError"!==qx.name)throw qx}return(s||JSON.stringify)(t)}const Op={transitional:kp,adapter:["xhr","http","fetch"],transformRequest:[function transformRequest(t,n){const s=n.getContentType()||"",a=s.indexOf("application/json")>-1,i=xp.isObject(t);i&&xp.isHTMLForm(t)&&(t=new FormData(t));const o=undefined;if(xp.isFormData(t))return a?JSON.stringify(formDataToJSON(t)):t;if(xp.isArrayBuffer(t)||xp.isBuffer(t)||xp.isStream(t)||xp.isFile(t)||xp.isBlob(t)||xp.isReadableStream(t))return t;if(xp.isArrayBufferView(t))return t.buffer;if(xp.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(t,this.formSerializer).toString();if((l=xp.isFileList(t))||s.indexOf("multipart/form-data")>-1){const n=this.env&&this.env.FormData;return toFormData(l?{"files[]":t}:t,n&&new n,this.formSerializer)}}return i||a?(n.setContentType("application/json",!1),stringifySafely(t)):t}],transformResponse:[function transformResponse(t){const n=this.transitional||Op.transitional,s=n&&n.forcedJSONParsing,a="json"===this.responseType;if(xp.isResponse(t)||xp.isReadableStream(t))return t;if(t&&xp.isString(t)&&(s&&!this.responseType||a)){const s=undefined,i=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(qx){if(i){if("SyntaxError"===qx.name)throw AxiosError.from(qx,AxiosError.ERR_BAD_RESPONSE,this,null,this.response);throw qx}}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Dp.classes.FormData,Blob:Dp.classes.Blob},validateStatus:function validateStatus(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};xp.forEach(["delete","get","head","post","put","patch"],t=>{Op.headers[t]={}});const Vp=Op,Fp=xp.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=t=>{const n={};let s,a,i;return t&&t.split("\n").forEach(function parser2(t){i=t.indexOf(":"),s=t.substring(0,i).trim().toLowerCase(),a=t.substring(i+1).trim(),!s||n[s]&&Fp[s]||("set-cookie"===s?n[s]?n[s].push(a):n[s]=[a]:n[s]=n[s]?n[s]+", "+a:a)}),n},Bp=Symbol("internals");function normalizeHeader(t){return t&&String(t).trim().toLowerCase()}function normalizeValue(t){return!1===t||null==t?t:xp.isArray(t)?t.map(normalizeValue):String(t)}function parseTokens(t){const n=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=s.exec(t);)n[a[1]]=a[2];return n}const isValidHeaderName=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function matchHeaderValue(t,n,s,a,i){return xp.isFunction(a)?a.call(this,n,s):(i&&(n=s),xp.isString(n)?xp.isString(a)?-1!==n.indexOf(a):xp.isRegExp(a)?a.test(n):void 0:void 0)}function formatHeader(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,s)=>n.toUpperCase()+s)}function buildAccessors(t,n){const s=xp.toCamelCase(" "+n);["get","set","has"].forEach(a=>{Object.defineProperty(t,a+s,{value:function(t,s,i){return this[a].call(this,n,t,s,i)},configurable:!0})})}class Ip{constructor(t){t&&this.set(t)}set(t,n,s){const a=this;function setHeader(t,n,s){const i=normalizeHeader(n);if(!i)throw new Error("header name must be a non-empty string");const o=xp.findKey(a,i);(!o||void 0===a[o]||!0===s||void 0===s&&!1!==a[o])&&(a[o||n]=normalizeValue(t))}const setHeaders=(t,n)=>xp.forEach(t,(t,s)=>setHeader(t,s,n));if(xp.isPlainObject(t)||t instanceof this.constructor)setHeaders(t,n);else if(xp.isString(t)&&(t=t.trim())&&!isValidHeaderName(t))setHeaders(parseHeaders(t),n);else if(xp.isObject(t)&&xp.isIterable(t)){let s={},a,i;for(const n of t){if(!xp.isArray(n))throw TypeError("Object iterator must return a key-value pair");s[i=n[0]]=(a=s[i])?xp.isArray(a)?[...a,n[1]]:[a,n[1]]:n[1]}setHeaders(s,n)}else null!=t&&setHeader(n,t,s);return this}get(t,n){if(t=normalizeHeader(t)){const s=xp.findKey(this,t);if(s){const t=this[s];if(!n)return t;if(!0===n)return parseTokens(t);if(xp.isFunction(n))return n.call(this,t,s);if(xp.isRegExp(n))return n.exec(t);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=normalizeHeader(t)){const s=xp.findKey(this,t);return!(!s||void 0===this[s]||n&&!matchHeaderValue(this,this[s],s,n))}return!1}delete(t,n){const s=this;let a=!1;function deleteHeader(t){if(t=normalizeHeader(t)){const i=xp.findKey(s,t);!i||n&&!matchHeaderValue(s,s[i],i,n)||(delete s[i],a=!0)}}return xp.isArray(t)?t.forEach(deleteHeader):deleteHeader(t),a}clear(t){const n=Object.keys(this);let s=n.length,a=!1;for(;s--;){const i=n[s];t&&!matchHeaderValue(this,this[i],i,t,!0)||(delete this[i],a=!0)}return a}normalize(t){const n=this,s={};return xp.forEach(this,(a,i)=>{const o=xp.findKey(s,i);if(o)return n[o]=normalizeValue(a),void delete n[i];const l=t?formatHeader(i):String(i).trim();l!==i&&delete n[i],n[l]=normalizeValue(a),s[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return xp.forEach(this,(s,a)=>{null!=s&&!1!==s&&(n[a]=t&&xp.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const s=new this(t);return n.forEach(t=>s.set(t)),s}static accessor(t){const n=undefined,s=(this[Bp]=this[Bp]={accessors:{}}).accessors,a=this.prototype;function defineAccessor(t){const n=normalizeHeader(t);s[n]||(buildAccessors(a,t),s[n]=!0)}return xp.isArray(t)?t.forEach(defineAccessor):defineAccessor(t),this}}Ip.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),xp.reduceDescriptors(Ip.prototype,({value:t},n)=>{let s=n[0].toUpperCase()+n.slice(1);return{get:()=>t,set(t){this[s]=t}}}),xp.freezeMethods(Ip);const Up=Ip;function transformData(t,n){const s=this||Vp,a=n||s,i=Up.from(a.headers);let o=a.data;return xp.forEach(t,function transform(t){o=t.call(s,o,i.normalize(),n?n.status:void 0)}),i.normalize(),o}function isCancel(t){return!(!t||!t.__CANCEL__)}function CanceledError(t,n,s){AxiosError.call(this,null==t?"canceled":t,AxiosError.ERR_CANCELED,n,s),this.name="CanceledError"}function settle(t,n,s){const a=s.config.validateStatus;s.status&&a&&!a(s.status)?n(new AxiosError("Request failed with status code "+s.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s)):t(s)}function parseProtocol(t){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return n&&n[1]||""}function speedometer(t,n){t=t||10;const s=new Array(t),a=new Array(t);let i=0,o=0,l;return n=void 0!==n?n:1e3,function push(u){const m=Date.now(),f=a[o];l||(l=m),s[i]=u,a[i]=m;let x=o,y=0;for(;x!==i;)y+=s[x++],x%=t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),m-l<n)return;const j=f&&m-f;return j?Math.round(1e3*y/j):void 0}}function throttle(t,n){let s=0,a=1e3/n,i,o;const invoke=(n,a=Date.now())=>{s=a,i=null,o&&(clearTimeout(o),o=null),t(...n)},l=undefined,u=undefined;return[(...t)=>{const n=Date.now(),l=n-s;l>=a?invoke(t,n):(i=t,o||(o=setTimeout(()=>{o=null,invoke(i)},a-l)))},()=>i&&invoke(i)]}xp.inherits(CanceledError,AxiosError,{__CANCEL__:!0});const progressEventReducer=(t,n,s=3)=>{let a=0;const i=speedometer(50,250);return throttle(s=>{const o=s.loaded,l=s.lengthComputable?s.total:void 0,u=o-a,m=i(u),f=undefined;a=o;const x=undefined;t({loaded:o,total:l,progress:l?o/l:void 0,bytes:u,rate:m||void 0,estimated:m&&l&&o<=l?(l-o)/m:void 0,event:s,lengthComputable:null!=l,[n?"download":"upload"]:!0})},s)},progressEventDecorator=(t,n)=>{const s=null!=t;return[a=>n[0]({lengthComputable:s,total:t,loaded:a}),n[1]]},asyncDecorator=t=>(...n)=>xp.asap(()=>t(...n)),zp=Dp.hasStandardBrowserEnv?($p=new URL(Dp.origin),Hp=Dp.navigator&&/(msie|trident)/i.test(Dp.navigator.userAgent),t=>(t=new URL(t,Dp.origin),$p.protocol===t.protocol&&$p.host===t.host&&(Hp||$p.port===t.port))):()=>!0;var $p,Hp;const qp=Dp.hasStandardBrowserEnv?{write(t,n,s,a,i,o){const l=[t+"="+encodeURIComponent(n)];xp.isNumber(s)&&l.push("expires="+new Date(s).toGMTString()),xp.isString(a)&&l.push("path="+a),xp.isString(i)&&l.push("domain="+i),!0===o&&l.push("secure"),document.cookie=l.join("; ")},read(t){const n=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function isAbsoluteURL(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function combineURLs(t,n){return n?t.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):t}function buildFullPath(t,n,s){let a=!isAbsoluteURL(n);return t&&(a||0==s)?combineURLs(t,n):n}const headersToObject=t=>t instanceof Up?{...t}:t;function mergeConfig(t,n){n=n||{};const s={};function getMergedValue(t,n,s,a){return xp.isPlainObject(t)&&xp.isPlainObject(n)?xp.merge.call({caseless:a},t,n):xp.isPlainObject(n)?xp.merge({},n):xp.isArray(n)?n.slice():n}function mergeDeepProperties(t,n,s,a){return xp.isUndefined(n)?xp.isUndefined(t)?void 0:getMergedValue(void 0,t,s,a):getMergedValue(t,n,s,a)}function valueFromConfig2(t,n){if(!xp.isUndefined(n))return getMergedValue(void 0,n)}function defaultToConfig2(t,n){return xp.isUndefined(n)?xp.isUndefined(t)?void 0:getMergedValue(void 0,t):getMergedValue(void 0,n)}function mergeDirectKeys(s,a,i){return i in n?getMergedValue(s,a):i in t?getMergedValue(void 0,s):void 0}const a={url:valueFromConfig2,method:valueFromConfig2,data:valueFromConfig2,baseURL:defaultToConfig2,transformRequest:defaultToConfig2,transformResponse:defaultToConfig2,paramsSerializer:defaultToConfig2,timeout:defaultToConfig2,timeoutMessage:defaultToConfig2,withCredentials:defaultToConfig2,withXSRFToken:defaultToConfig2,adapter:defaultToConfig2,responseType:defaultToConfig2,xsrfCookieName:defaultToConfig2,xsrfHeaderName:defaultToConfig2,onUploadProgress:defaultToConfig2,onDownloadProgress:defaultToConfig2,decompress:defaultToConfig2,maxContentLength:defaultToConfig2,maxBodyLength:defaultToConfig2,beforeRedirect:defaultToConfig2,transport:defaultToConfig2,httpAgent:defaultToConfig2,httpsAgent:defaultToConfig2,cancelToken:defaultToConfig2,socketPath:defaultToConfig2,responseEncoding:defaultToConfig2,validateStatus:mergeDirectKeys,headers:(t,n,s)=>mergeDeepProperties(headersToObject(t),headersToObject(n),s,!0)};return xp.forEach(Object.keys({...t,...n}),function computeConfigValue(i){const o=a[i]||mergeDeepProperties,l=o(t[i],n[i],i);xp.isUndefined(l)&&o!==mergeDirectKeys||(s[i]=l)}),s}const resolveConfig=t=>{const n=mergeConfig({},t);let{data:s,withXSRFToken:a,xsrfHeaderName:i,xsrfCookieName:o,headers:l,auth:u}=n;if(n.headers=l=Up.from(l),n.url=buildURL(buildFullPath(n.baseURL,n.url,n.allowAbsoluteUrls),t.params,t.paramsSerializer),u&&l.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),xp.isFormData(s))if(Dp.hasStandardBrowserEnv||Dp.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(xp.isFunction(s.getHeaders)){const t=s.getHeaders(),n=["content-type","content-length"];Object.entries(t).forEach(([t,s])=>{n.includes(t.toLowerCase())&&l.set(t,s)})}if(Dp.hasStandardBrowserEnv&&(a&&xp.isFunction(a)&&(a=a(n)),a||!1!==a&&zp(n.url))){const t=i&&o&&qp.read(o);t&&l.set(i,t)}return n},Wp=undefined,Xp="undefined"!=typeof XMLHttpRequest&&function(t){return new Promise(function dispatchXhrRequest(n,s){const a=resolveConfig(t);let i=a.data;const o=Up.from(a.headers).normalize();let{responseType:l,onUploadProgress:u,onDownloadProgress:m}=a,f,x,y,j,w;function done(){j&&j(),w&&w(),a.cancelToken&&a.cancelToken.unsubscribe(f),a.signal&&a.signal.removeEventListener("abort",f)}let N=new XMLHttpRequest;function onloadend(){if(!N)return;const a=Up.from("getAllResponseHeaders"in N&&N.getAllResponseHeaders()),i=undefined,o=undefined;settle(function _resolve(t){n(t),done()},function _reject(t){s(t),done()},{data:l&&"text"!==l&&"json"!==l?N.response:N.responseText,status:N.status,statusText:N.statusText,headers:a,config:t,request:N}),N=null}N.open(a.method.toUpperCase(),a.url,!0),N.timeout=a.timeout,"onloadend"in N?N.onloadend=onloadend:N.onreadystatechange=function handleLoad(){N&&4===N.readyState&&(0!==N.status||N.responseURL&&0===N.responseURL.indexOf("file:"))&&setTimeout(onloadend)},N.onabort=function handleAbort(){N&&(s(new AxiosError("Request aborted",AxiosError.ECONNABORTED,t,N)),N=null)},N.onerror=function handleError(n){const a=undefined,i=new AxiosError(n&&n.message?n.message:"Network Error",AxiosError.ERR_NETWORK,t,N);i.event=n||null,s(i),N=null},N.ontimeout=function handleTimeout(){let n=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const i=a.transitional||kp;a.timeoutErrorMessage&&(n=a.timeoutErrorMessage),s(new AxiosError(n,i.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,t,N)),N=null},void 0===i&&o.setContentType(null),"setRequestHeader"in N&&xp.forEach(o.toJSON(),function setRequestHeader(t,n){N.setRequestHeader(n,t)}),xp.isUndefined(a.withCredentials)||(N.withCredentials=!!a.withCredentials),l&&"json"!==l&&(N.responseType=a.responseType),m&&([y,w]=progressEventReducer(m,!0),N.addEventListener("progress",y)),u&&N.upload&&([x,j]=progressEventReducer(u),N.upload.addEventListener("progress",x),N.upload.addEventListener("loadend",j)),(a.cancelToken||a.signal)&&(f=n=>{N&&(s(!n||n.type?new CanceledError(null,t,N):n),N.abort(),N=null)},a.cancelToken&&a.cancelToken.subscribe(f),a.signal&&(a.signal.aborted?f():a.signal.addEventListener("abort",f)));const k=parseProtocol(a.url);k&&-1===Dp.protocols.indexOf(k)?s(new AxiosError("Unsupported protocol "+k+":",AxiosError.ERR_BAD_REQUEST,t)):N.send(i||null)})},Kp=undefined,composeSignals$1=(t,n)=>{const{length:s}=t=t?t.filter(Boolean):[];if(n||s){let s=new AbortController,a;const onabort=function(t){if(!a){a=!0,unsubscribe();const n=t instanceof Error?t:this.reason;s.abort(n instanceof AxiosError?n:new CanceledError(n instanceof Error?n.message:n))}};let i=n&&setTimeout(()=>{i=null,onabort(new AxiosError(`timeout ${n} of ms exceeded`,AxiosError.ETIMEDOUT))},n);const unsubscribe=()=>{t&&(i&&clearTimeout(i),i=null,t.forEach(t=>{t.unsubscribe?t.unsubscribe(onabort):t.removeEventListener("abort",onabort)}),t=null)};t.forEach(t=>t.addEventListener("abort",onabort));const{signal:o}=s;return o.unsubscribe=()=>xp.asap(unsubscribe),o}},streamChunk=function*(t,n){let s=t.byteLength;if(!n||s<n)return void(yield t);let a=0,i;for(;a<s;)i=a+n,yield t.slice(a,i),a=i},readBytes=async function*(t,n){for await(const s of readStream(t))yield*streamChunk(s,n)},readStream=async function*(t){if(t[Symbol.asyncIterator])return void(yield*t);const n=t.getReader();try{for(;;){const{done:t,value:s}=await n.read();if(t)break;yield s}}finally{await n.cancel()}},trackStream=(t,n,s,a)=>{const i=readBytes(t,n);let o=0,l,_onFinish=t=>{l||(l=!0,a&&a(t))};return new ReadableStream({async pull(t){try{const{done:n,value:a}=await i.next();if(n)return _onFinish(),void t.close();let l=a.byteLength;if(s){let t=o+=l;s(t)}t.enqueue(new Uint8Array(a))}catch(Xx){throw _onFinish(Xx),Xx}},cancel:t=>(_onFinish(t),i.return())},{highWaterMark:2})},Gp=65536,{isFunction:Yp}=xp,Qp=(({Request:t,Response:n})=>({Request:t,Response:n}))(xp.global),{ReadableStream:Zp,TextEncoder:Jp}=xp.global,test=(t,...n)=>{try{return!!t(...n)}catch(qx){return!1}},factory=t=>{t=xp.merge.call({skipUndefined:!0},Qp,t);const{fetch:n,Request:s,Response:a}=t,i=n?Yp(n):"function"==typeof fetch,o=Yp(s),l=Yp(a);if(!i)return!1;const u=i&&Yp(Zp),m=i&&("function"==typeof Jp?(f=new Jp,t=>f.encode(t)):async t=>new Uint8Array(await new s(t).arrayBuffer()));var f;const x=o&&u&&test(()=>{let t=!1;const n=new s(Dp.origin,{body:new Zp,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!n}),y=l&&u&&test(()=>xp.isReadableStream(new a("").body)),j={stream:y&&(t=>t.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!j[t]&&(j[t]=(n,s)=>{let a=n&&n[t];if(a)return a.call(n);throw new AxiosError(`Response type '${t}' is not supported`,AxiosError.ERR_NOT_SUPPORT,s)})});const getBodyLength=async t=>{if(null==t)return 0;if(xp.isBlob(t))return t.size;if(xp.isSpecCompliantForm(t)){const n=new s(Dp.origin,{method:"POST",body:t});return(await n.arrayBuffer()).byteLength}return xp.isArrayBufferView(t)||xp.isArrayBuffer(t)?t.byteLength:(xp.isURLSearchParams(t)&&(t+=""),xp.isString(t)?(await m(t)).byteLength:void 0)},resolveBodyLength=async(t,n)=>{const s=xp.toFiniteNumber(t.getContentLength());return null==s?getBodyLength(n):s};return async t=>{let{url:i,method:l,data:u,signal:m,cancelToken:f,timeout:w,onDownloadProgress:N,onUploadProgress:k,responseType:C,headers:T,withCredentials:_="same-origin",fetchOptions:A}=resolveConfig(t),L=n||fetch;C=C?(C+"").toLowerCase():"text";let M=composeSignals$1([m,f&&f.toAbortSignal()],w),O=null;const V=M&&M.unsubscribe&&(()=>{M.unsubscribe()});let B;try{if(k&&x&&"get"!==l&&"head"!==l&&0!==(B=await resolveBodyLength(T,u))){let t=new s(i,{method:"POST",body:u,duplex:"half"}),n;if(xp.isFormData(u)&&(n=t.headers.get("content-type"))&&T.setContentType(n),t.body){const[n,s]=progressEventDecorator(B,progressEventReducer(asyncDecorator(k)));u=trackStream(t.body,Gp,n,s)}}xp.isString(_)||(_=_?"include":"omit");const n=o&&"credentials"in s.prototype,m={...A,signal:M,method:l.toUpperCase(),headers:T.normalize().toJSON(),body:u,duplex:"half",credentials:n?_:void 0};O=o&&new s(i,m);let f=await(o?L(O,A):L(i,m));const w=y&&("stream"===C||"response"===C);if(y&&(N||w&&V)){const t={};["status","statusText","headers"].forEach(n=>{t[n]=f[n]});const n=xp.toFiniteNumber(f.headers.get("content-length")),[s,i]=N&&progressEventDecorator(n,progressEventReducer(asyncDecorator(N),!0))||[];f=new a(trackStream(f.body,Gp,s,()=>{i&&i(),V&&V()}),t)}C=C||"text";let I=await j[xp.findKey(j,C)||"text"](f,t);return!w&&V&&V(),await new Promise((n,s)=>{settle(n,s,{data:I,headers:Up.from(f.headers),status:f.status,statusText:f.statusText,config:t,request:O})})}catch(Xx){if(V&&V(),Xx&&"TypeError"===Xx.name&&/Load failed|fetch/i.test(Xx.message))throw Object.assign(new AxiosError("Network Error",AxiosError.ERR_NETWORK,t,O),{cause:Xx.cause||Xx});throw AxiosError.from(Xx,Xx&&Xx.code,t,O)}}},ef=new Map,getFetch=t=>{let n=t?t.env:{};const{fetch:s,Request:a,Response:i}=n,o=[a,i,s];let l,u=o.length,m,f,x=ef;for(;u--;)m=o[u],f=x.get(m),void 0===f&&x.set(m,f=u?new Map:factory(n)),x=f;return f};getFetch();const rf={http:vp,xhr:Xp,fetch:{get:getFetch}};xp.forEach(rf,(t,n)=>{if(t){try{Object.defineProperty(t,"name",{value:n})}catch(qx){}Object.defineProperty(t,"adapterName",{value:n})}});const renderReason=t=>`- ${t}`,isResolvedHandle=t=>xp.isFunction(t)||null===t||!1===t,adapters_getAdapter=(t,n)=>{t=xp.isArray(t)?t:[t];const{length:s}=t;let a,i;const o={};for(let l=0;l<s;l++){let s;if(a=t[l],i=a,!isResolvedHandle(a)&&(i=rf[(s=String(a)).toLowerCase()],void 0===i))throw new AxiosError(`Unknown adapter '${s}'`);if(i&&(xp.isFunction(i)||(i=i.get(n))))break;o[s||"#"+l]=i}if(!i){const t=Object.entries(o).map(([t,n])=>`adapter ${t} `+(!1===n?"is not supported by the environment":"is not available in the build"));let n;throw new AxiosError("There is no suitable adapter to dispatch the request "+(s?t.length>1?"since :\n"+t.map(renderReason).join("\n"):" "+renderReason(t[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return i},af=rf;function throwIfCancellationRequested(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new CanceledError(null,t)}function dispatchRequest(t){throwIfCancellationRequested(t),t.headers=Up.from(t.headers),t.data=transformData.call(t,t.transformRequest),-1!==["post","put","patch"].indexOf(t.method)&&t.headers.setContentType("application/x-www-form-urlencoded",!1);const n=undefined;return adapters_getAdapter(t.adapter||Vp.adapter,t)(t).then(function onAdapterResolution(n){return throwIfCancellationRequested(t),n.data=transformData.call(t,t.transformResponse,n),n.headers=Up.from(n.headers),n},function onAdapterRejection(n){return isCancel(n)||(throwIfCancellationRequested(t),n&&n.response&&(n.response.data=transformData.call(t,t.transformResponse,n.response),n.response.headers=Up.from(n.response.headers))),Promise.reject(n)})}const of="1.12.2",lf={};["object","boolean","number","function","string","symbol"].forEach((t,n)=>{lf[t]=function validator2(s){return typeof s===t||"a"+(n<1?"n ":" ")+t}});const cf={};function assertOptions(t,n,s){if("object"!=typeof t)throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);const a=Object.keys(t);let i=a.length;for(;i-- >0;){const o=a[i],l=n[o];if(l){const n=t[o],s=void 0===n||l(n,o,t);if(!0!==s)throw new AxiosError("option "+o+" must be "+s,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(!0!==s)throw new AxiosError("Unknown option "+o,AxiosError.ERR_BAD_OPTION)}}lf.transitional=function transitional(t,n,s){function formatMessage(t,n){return"[Axios v"+of+"] Transitional option '"+t+"'"+n+(s?". "+s:"")}return(s,a,i)=>{if(!1===t)throw new AxiosError(formatMessage(a," has been removed"+(n?" in "+n:"")),AxiosError.ERR_DEPRECATED);return n&&!cf[a]&&(cf[a]=!0,console.warn(formatMessage(a," has been deprecated since v"+n+" and will be removed in the near future"))),!t||t(s,a,i)}},lf.spelling=function spelling(t){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};const df={assertOptions:assertOptions,validators:lf},uf=df.validators;class hf{constructor(t){this.defaults=t||{},this.interceptors={request:new Np,response:new Np}}async request(t,n){try{return await this._request(t,n)}catch(Xx){if(Xx instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const s=n.stack?n.stack.replace(/^.+\n/,""):"";try{Xx.stack?s&&!String(Xx.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(Xx.stack+="\n"+s):Xx.stack=s}catch(qx){}}throw Xx}}_request(t,n){"string"==typeof t?(n=n||{}).url=t:n=t||{},n=mergeConfig(this.defaults,n);const{transitional:s,paramsSerializer:a,headers:i}=n;void 0!==s&&df.assertOptions(s,{silentJSONParsing:uf.transitional(uf.boolean),forcedJSONParsing:uf.transitional(uf.boolean),clarifyTimeoutError:uf.transitional(uf.boolean)},!1),null!=a&&(xp.isFunction(a)?n.paramsSerializer={serialize:a}:df.assertOptions(a,{encode:uf.function,serialize:uf.function},!0)),void 0!==n.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),df.assertOptions(n,{baseUrl:uf.spelling("baseURL"),withXsrfToken:uf.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&xp.merge(i.common,i[n.method]);i&&xp.forEach(["delete","get","head","post","put","patch","common"],t=>{delete i[t]}),n.headers=Up.concat(o,i);const l=[];let u=!0;this.interceptors.request.forEach(function unshiftRequestInterceptors(t){"function"==typeof t.runWhen&&!1===t.runWhen(n)||(u=u&&t.synchronous,l.unshift(t.fulfilled,t.rejected))});const m=[];let f;this.interceptors.response.forEach(function pushResponseInterceptors(t){m.push(t.fulfilled,t.rejected)});let x=0,y;if(!u){const t=[dispatchRequest.bind(this),void 0];for(t.unshift(...l),t.push(...m),y=t.length,f=Promise.resolve(n);x<y;)f=f.then(t[x++],t[x++]);return f}y=l.length;let j=n;for(;x<y;){const t=l[x++],n=l[x++];try{j=t(j)}catch(w){n.call(this,w);break}}try{f=dispatchRequest.call(this,j)}catch(w){return Promise.reject(w)}for(x=0,y=m.length;x<y;)f=f.then(m[x++],m[x++]);return f}getUri(t){const n=undefined;return buildURL(buildFullPath((t=mergeConfig(this.defaults,t)).baseURL,t.url,t.allowAbsoluteUrls),t.params,t.paramsSerializer)}}xp.forEach(["delete","get","head","options"],function forEachMethodNoData(t){hf.prototype[t]=function(n,s){return this.request(mergeConfig(s||{},{method:t,url:n,data:(s||{}).data}))}}),xp.forEach(["post","put","patch"],function forEachMethodWithData(t){function generateHTTPMethod(n){return function httpMethod(s,a,i){return this.request(mergeConfig(i||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}hf.prototype[t]=generateHTTPMethod(),hf.prototype[t+"Form"]=generateHTTPMethod(!0)});const mf=hf;class xf{constructor(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function promiseExecutor(t){n=t});const s=this;this.promise.then(t=>{if(!s._listeners)return;let n=s._listeners.length;for(;n-- >0;)s._listeners[n](t);s._listeners=null}),this.promise.then=t=>{let n;const a=new Promise(t=>{s.subscribe(t),n=t}).then(t);return a.cancel=function reject(){s.unsubscribe(n)},a},t(function cancel(t,a,i){s.reason||(s.reason=new CanceledError(t,a,i),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);-1!==n&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,abort=n=>{t.abort(n)};return this.subscribe(abort),t.signal.unsubscribe=()=>this.unsubscribe(abort),t.signal}static source(){let t;const n=undefined;return{token:new xf(function executor(n){t=n}),cancel:t}}}const gf=xf;function spread(t){return function wrap(n){return t.apply(null,n)}}function isAxiosError(t){return xp.isObject(t)&&!0===t.isAxiosError}const yf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(yf).forEach(([t,n])=>{yf[n]=t});const bf=yf;function createInstance(t){const n=new mf(t),s=bind(mf.prototype.request,n);return xp.extend(s,mf.prototype,n,{allOwnKeys:!0}),xp.extend(s,n,null,{allOwnKeys:!0}),s.create=function create(n){return createInstance(mergeConfig(t,n))},s}const jf=createInstance(Vp);jf.Axios=mf,jf.CanceledError=CanceledError,jf.CancelToken=gf,jf.isCancel=isCancel,jf.VERSION=of,jf.toFormData=toFormData,jf.AxiosError=AxiosError,jf.Cancel=jf.CanceledError,jf.all=function all(t){return Promise.all(t)},jf.spread=spread,jf.isAxiosError=isAxiosError,jf.mergeConfig=mergeConfig,jf.AxiosHeaders=Up,jf.formToJSON=t=>formDataToJSON(xp.isHTMLForm(t)?new FormData(t):t),jf.getAdapter=adapters_getAdapter,jf.HttpStatusCode=bf,jf.default=jf;const Nf=jf;class kf{constructor(){__publicField(this,"api"),this.api=Nf.create({baseURL:"https://mebelplace.com.kz/api",timeout:3e4,headers:{"Content-Type":"application/json"}}),this.api.interceptors.request.use(t=>{const n=localStorage.getItem("accessToken");return n&&(t.headers.Authorization=`Bearer ${n}`),t},t=>Promise.reject(t)),this.api.interceptors.response.use(t=>{var n,s,a,i;return(null==(n=t.config.url)?void 0:n.includes("/orders/"))&&(console.log("🔍 API Response URL:",t.config.url),console.log("🔍 API Response RAW data:",null==(s=t.data)?void 0:s.data)),(null==(a=t.data)?void 0:a.data)&&(t.data.data=this.transformKeys(t.data.data),(null==(i=t.config.url)?void 0:i.includes("/orders/"))&&console.log("🔍 API Response AFTER transform:",t.data.data)),t},async t=>{var n;const s=t.config;if(401===(null==(n=t.response)?void 0:n.status)&&!s._retry){s._retry=!0;try{const t=localStorage.getItem("refreshToken");if(t){const n=undefined,a=(await Nf.post("https://mebelplace.com.kz/api/auth/refresh",{refreshToken:t})).data.data.accessToken;return localStorage.setItem("accessToken",a),s.headers.Authorization=`Bearer ${a}`,this.api(s)}}catch(a){return localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),window.location.href="/login",Promise.reject(a)}}return Promise.reject(t)})}transformKeys(t){return Array.isArray(t)?t.map(t=>this.transformKeys(t)):null===t||"object"!=typeof t||t instanceof Date?t:Object.keys(t).reduce((n,s)=>{const a=s.replace(/_([a-z])/g,(t,n)=>n.toUpperCase());return n[a]=this.transformKeys(t[s]),s!==a&&(n[s]=this.transformKeys(t[s])),n},{})}async get(t,n){const s=undefined;return(await this.api.get(t,{params:n})).data.data}async post(t,n){const s=undefined;return(await this.api.post(t,n)).data.data}async put(t,n){const s=undefined;return(await this.api.put(t,n)).data.data}async delete(t,n){const s=undefined;return(await this.api.delete(t,{data:n})).data.data}async upload(t,n){const s=undefined;return(await this.api.post(t,n,{headers:{"Content-Type":"multipart/form-data"}})).data.data}}const Sf=new kf,Cf={async login(t,n){const s=await Sf.post("/auth/login",{phone:t,password:n});return s.accessToken&&localStorage.setItem("accessToken",s.accessToken),s.refreshToken&&localStorage.setItem("refreshToken",s.refreshToken),s},async register(t){const n=await Sf.post("/auth/register",t);return n.accessToken&&localStorage.setItem("accessToken",n.accessToken),n.refreshToken&&localStorage.setItem("refreshToken",n.refreshToken),n},refreshToken:async t=>Sf.post("/auth/refresh",{refreshToken:t}),async logout(){const t=localStorage.getItem("refreshToken");await Sf.post("/auth/logout",{refreshToken:t}),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken")},sendSmsCode:async t=>Sf.post("/auth/send-sms-code",{phone:t}),verifySmsCode:async(t,n)=>Sf.post("/auth/verify-sms",{phone:t,code:n}),verifyPhone:async(t,n)=>Sf.post("/auth/verify-phone",{phone:t,code:n}),forgotPassword:async t=>Sf.post("/auth/forgot-password",{phone:t}),resetPassword:async(t,n,s)=>Sf.post("/auth/reset-password",{phone:t,code:n,newPassword:s}),getCurrentUser:async()=>Sf.get("/auth/me"),updateProfile:async t=>Sf.put("/auth/profile",t)},Pf=H.createContext(void 0),useAuth=()=>{const t=H.useContext(Pf);if(void 0===t)throw new Error("useAuth must be used within an AuthProvider");return t},AuthProvider=({children:t})=>{const[n,s]=H.useState(null),[a,i]=H.useState(!0);H.useEffect(()=>{const t=undefined;(async()=>{try{const n=localStorage.getItem("accessToken"),a=localStorage.getItem("refreshToken");if(n&&a)try{const t=await Cf.getCurrentUser();s(t)}catch(t){console.error("Failed to get current user:",t),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken")}}catch(t){console.error("Auth initialization failed:",t),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken")}finally{i(!1)}})()},[]);const login=async(t,n)=>{try{const a=await Cf.login(t,n);s(a.user)}catch(a){throw a}},sendSmsCode=async t=>{try{return await Cf.sendSmsCode(t)}catch(n){throw n}},verifySmsCode=async(t,n)=>{try{await Cf.verifySmsCode(t,n)}catch(s){throw s}},register=async t=>{try{const n=await Cf.register(t);s(n.user)}catch(n){throw n}},logout=async()=>{try{await Cf.logout()}catch(t){console.error("Logout error:",t),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken")}finally{s(null)}},updateUser=async t=>{try{const n=await Cf.updateProfile({firstName:t.firstName,lastName:t.lastName,phone:t.phone,avatar:t.avatar});s(n)}catch(n){throw console.error("Failed to update user:",n),n}},o={user:n,isLoading:a,isAuthenticated:!!n,isClient:"user"===(null==n?void 0:n.role),isMaster:"master"===(null==n?void 0:n.role),isAdmin:"admin"===(null==n?void 0:n.role),login:login,sendSmsCode:sendSmsCode,verifySmsCode:verifySmsCode,register:register,logout:logout,updateUser:updateUser};return ae.jsx(Pf.Provider,{value:o,children:t})},Tf=H.createContext(void 0),useSocket=()=>{const t=H.useContext(Tf);if(void 0===t)throw new Error("useSocket must be used within a SocketProvider");return t},SocketProvider=({children:t})=>{const[n,s]=H.useState(null),[a,i]=H.useState(!1),{user:o}=useAuth();H.useEffect(()=>{if(o){const t=lookup("https://mebelplace.com.kz",{auth:{token:localStorage.getItem("accessToken")},transports:["polling","websocket"],reconnection:!0,reconnectionDelay:1e3,reconnectionAttempts:5});return t.on("connect",()=>{console.log("Socket connected"),i(!0)}),t.on("disconnect",()=>{console.log("Socket disconnected"),i(!1)}),t.on("connect_error",t=>{console.error("Socket connection error:",t),i(!1)}),s(t),()=>{t.close()}}},[o]);const emit=(t,s)=>{n&&a&&n.emit(t,s)},on2=(t,s)=>{n&&n.on(t,s)},off=(t,s)=>{n&&n.off(t,s)},l={socket:n,isConnected:a,emit:emit,on:on2,off:off};return ae.jsx(Tf.Provider,{value:l,children:t})};
/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
var _f={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};
/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toKebabCase=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),createLucideIcon=(t,n)=>{const s=H.forwardRef(({color:s="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:u,...m},f)=>H.createElement("svg",{ref:f,..._f,width:a,height:a,stroke:s,strokeWidth:o?24*Number(i)/Number(a):i,className:["lucide",`lucide-${toKebabCase(t)}`,l].join(" "),...m},[...n.map(([t,n])=>H.createElement(t,n)),...Array.isArray(u)?u:[u]]));return s.displayName=`${t}`,s},Rf=createLucideIcon("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Df=createLucideIcon("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Of=createLucideIcon("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Vf=createLucideIcon("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]),Ff=createLucideIcon("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]),Hf=createLucideIcon("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),Wf=createLucideIcon("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Xf=createLucideIcon("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),Gf=createLucideIcon("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),Qf=createLucideIcon("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Jf=createLucideIcon("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),ex=createLucideIcon("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),tx=createLucideIcon("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),nx=createLucideIcon("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),sx=createLucideIcon("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),rx=createLucideIcon("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ax=createLucideIcon("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),ix=createLucideIcon("FileVideo",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m10 11 5 3-5 3v-6Z",key:"7ntvm4"}]]),ox=createLucideIcon("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),lx=createLucideIcon("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),cx=createLucideIcon("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),dx=createLucideIcon("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),ux=createLucideIcon("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),hx=createLucideIcon("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),mx=createLucideIcon("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),px=createLucideIcon("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),fx=createLucideIcon("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),xx=createLucideIcon("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),gx=createLucideIcon("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),yx=createLucideIcon("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),vx=createLucideIcon("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),bx=createLucideIcon("Pin",[["line",{x1:"12",x2:"12",y1:"17",y2:"22",key:"1jrz49"}],["path",{d:"M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z",key:"13yl11"}]]),jx=createLucideIcon("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),wx=createLucideIcon("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Nx=createLucideIcon("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]),kx=createLucideIcon("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Sx=createLucideIcon("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),Cx=createLucideIcon("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Ex=createLucideIcon("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),Px=createLucideIcon("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),Tx=createLucideIcon("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),_x=createLucideIcon("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]),Rx=createLucideIcon("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Ax=createLucideIcon("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Lx=createLucideIcon("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Mx=createLucideIcon("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Dx=createLucideIcon("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Ox=createLucideIcon("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Vx=createLucideIcon("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]),Fx=createLucideIcon("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Bx={getVideos:async t=>Sf.get("/videos/feed",t),getVideo:async t=>Sf.get(`/videos/${t}`),toggleLike:async t=>Sf.post(`/videos/${t}/like`),addComment:async(t,n,s)=>Sf.post(`/videos/${t}/comment`,{content:n,parent_id:s}),getComments:async(t,n)=>Sf.get(`/videos/${t}/comments`,n),toggleCommentLike:async t=>Sf.post(`/videos/comments/${t}/like`),uploadVideo:async t=>Sf.upload("/videos/upload",t),recordView:async(t,n)=>Sf.post(`/videos/${t}/view`,n),addBookmark:async t=>Sf.post(`/videos/${t}/bookmark`),removeBookmark:async t=>Sf.delete(`/videos/${t}/bookmark`),async searchVideos(t){const n=await Sf.get("/search",t);return n.data||n}},Header=()=>{const{user:t,logout:n}=useAuth(),s=useNavigate(),[a,i]=H.useState("");console.log("Header user:",t);const handleSearch=async t=>{if(t.trim().length>=2)try{const n=await Bx.searchVideos({q:t});console.log("Search results:",n),s(`/search?q=${encodeURIComponent(t)}`)}catch(n){console.error("Search error:",n)}},handleSearchSubmit=t=>{t.preventDefault(),a.trim()&&handleSearch(a)};return ae.jsx(Ju.header,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"glass-card p-4 mx-6 mt-6 mb-0",children:ae.jsxs("div",{className:"flex items-center justify-between",children:[ae.jsx("div",{className:"flex items-center space-x-4",children:ae.jsx("h1",{className:"text-2xl font-bold gradient-text",children:"MebelPlace"})}),ae.jsxs("div",{className:"flex items-center space-x-4",children:[ae.jsxs("form",{onSubmit:handleSearchSubmit,className:"relative",children:[ae.jsx("input",{type:"text",placeholder:"Поиск видео, каналов, хештегов...",value:a,onChange:t=>i(t.target.value),className:"w-80 px-4 py-2 pl-10 bg-gray-900/90 border border-gray-700 rounded-xl text-white placeholder-white/70 focus:outline-none focus:ring-2 focus:ring-orange-500/50 focus:border-orange-500/50 backdrop-blur-md"}),ae.jsx(kx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-white/70"})]}),ae.jsx("div",{className:"flex items-center space-x-3",children:t?ae.jsxs(ae.Fragment,{children:[ae.jsxs("div",{className:"text-right",children:[ae.jsx("p",{className:"text-sm font-medium",children:t.name}),ae.jsx("p",{className:"text-xs text-white/60",children:"admin"===t.role?"Админ":"master"===t.role?"Мастер":"Клиент"})]}),"admin"===t.role&&ae.jsx(Bo,{to:"/admin",children:ae.jsx(Ju.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"glass-button p-2 text-yellow-400 hover:text-yellow-300",title:"Админка",children:ae.jsx(Cx,{className:"w-5 h-5"})})}),ae.jsx(Ju.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"glass-button p-2",children:ae.jsx(Dx,{className:"w-5 h-5"})}),ae.jsx(Ju.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:n,className:"glass-button p-2 text-red-400 hover:text-red-300",children:ae.jsx(px,{className:"w-5 h-5"})})]}):ae.jsxs(ae.Fragment,{children:[ae.jsx(Bo,{to:"/login",children:ae.jsx(Ju.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"glass-button px-4 py-2",children:"Войти"})}),ae.jsx(Bo,{to:"/register",children:ae.jsx(Ju.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"glass-button px-4 py-2 bg-orange-500/20 text-orange-400 border border-orange-500/30",children:"Регистрация"})})]})})]})]})})},BottomNavigation=()=>{const{user:t}=useAuth();if(!t)return ae.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-gray-900/95 backdrop-blur-xl border-t border-white/10 z-50",children:ae.jsxs("div",{className:"flex items-center justify-around py-2",children:[ae.jsxs(Io,{to:"/",className:"flex flex-col items-center space-y-1 p-2 text-white/70 hover:text-white transition-colors",children:[ae.jsx(dx,{className:"w-5 h-5"}),ae.jsx("span",{className:"text-xs",children:"Главная"})]}),ae.jsxs(Io,{to:"/login",className:"flex flex-col items-center space-y-1 p-2 text-white/70 hover:text-white transition-colors",children:[ae.jsx(Dx,{className:"w-5 h-5"}),ae.jsx("span",{className:"text-xs",children:"Войти"})]})]})});const n="master"===(null==t?void 0:t.role),s=[{id:"home",label:"Главная",icon:dx,path:"/",show:!0},{id:"orders",label:n?"Все заявки":"Мои заявки",icon:n?Xf:ax,path:n?"/orders":"/user/orders",show:!0},{id:"create",label:n?"создать видеорекламу":"заявка всем",icon:wx,path:n?"/create-video-ad":"/orders/create",show:!0,isCenter:!0},{id:"chat",label:"Мессенджер",icon:xx,path:"/chat",show:!0},{id:"profile",label:"Профиль",icon:Dx,path:"/profile",show:!0}];return ae.jsx(Ju.nav,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5,ease:"easeOut"},className:"fixed bottom-0 left-0 right-0 z-50 bg-gray-900/95 backdrop-blur-md border-t border-gray-800",children:ae.jsx("div",{className:"flex items-center justify-around px-2 py-2 max-w-md mx-auto",children:s.map(t=>{const n=t.icon;return ae.jsx(Io,{to:t.path,className:({isActive:n})=>"relative flex flex-col items-center justify-center p-2 rounded-xl transition-all duration-300 "+(t.isCenter?"bg-gradient-to-r from-orange-500 to-orange-600 text-white shadow-lg shadow-orange-500/25 -mt-4":n?"text-orange-400":"text-gray-400 hover:text-gray-300"),children:({isActive:s})=>ae.jsx(ae.Fragment,{children:t.isCenter?ae.jsxs(ae.Fragment,{children:[ae.jsx(Ju.div,{className:"w-12 h-12 rounded-full bg-gradient-to-r from-orange-500 to-orange-600 flex items-center justify-center shadow-lg",whileHover:{scale:1.05,boxShadow:"0 0 20px rgba(168, 85, 247, 0.4)"},whileTap:{scale:.95},children:ae.jsx(n,{size:24})}),ae.jsx("span",{className:"text-xs mt-1 font-medium text-white text-center max-w-[80px]",children:t.label})]}):ae.jsxs(ae.Fragment,{children:[ae.jsx(n,{size:20,className:s?"text-orange-400":"text-gray-400"}),ae.jsx("span",{className:`\n                        text-xs mt-1 font-medium\n                        ${s?"text-orange-400":"text-gray-400"}\n                      `,children:t.label}),s&&ae.jsx(Ju.div,{className:"absolute -top-1 left-1/2 transform -translate-x-1/2 w-1 h-1 bg-purple-400 rounded-full",initial:{scale:0},animate:{scale:1},transition:{duration:.2}})]})})},t.id)})})})},Layout=({children:t})=>{const{isLoading:n}=useAuth();return n?ae.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black",children:ae.jsx(Ju.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-12 h-12 border-4 border-white/20 border-t-white rounded-full"})}):ae.jsxs("div",{className:"min-h-screen flex flex-col bg-black",children:[ae.jsx(Header,{}),ae.jsx("main",{className:"flex-1 pb-20 overflow-y-auto",children:ae.jsx(Ju.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:t})}),ae.jsx(BottomNavigation,{})]})},LoginPage=()=>{const[t,n]=H.useState(""),[s,a]=H.useState(""),[i,o]=H.useState(!1),[l,u]=H.useState(!1),[m,f]=H.useState(!1),[x,y]=H.useState(""),j=useNavigate(),{login:w}=useAuth(),handleSubmit=async n=>{n.preventDefault(),y(""),f(!0);try{await w(t,s),j("/")}catch(Xx){y(Xx.message||"Ошибка входа")}finally{f(!1)}};return ae.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-950 px-4",children:ae.jsx(Ju.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md",children:ae.jsxs("form",{onSubmit:handleSubmit,className:"space-y-6",children:[ae.jsxs("div",{children:[ae.jsx("label",{className:"block text-white text-sm mb-2",children:"Номер телефона"}),ae.jsxs("div",{className:"relative",children:[ae.jsx(vx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),ae.jsx("input",{type:"text",value:t,onChange:t=>n(t.target.value),placeholder:"+7XXXXXXXXXX",className:"w-full pl-10 pr-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-orange-500 transition-colors",required:!0})]}),ae.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Формат: +7XXXXXXXXXX или 8XXXXXXXXXX"})]}),ae.jsxs("div",{children:[ae.jsx("label",{className:"block text-white text-sm mb-2",children:"Пароль"}),ae.jsxs("div",{className:"relative",children:[ae.jsx(mx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),ae.jsx("input",{type:l?"text":"password",value:s,onChange:t=>a(t.target.value),placeholder:"••••••••",className:"w-full pl-10 pr-12 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-orange-500 transition-colors",required:!0}),ae.jsx("button",{type:"button",onClick:()=>u(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-300",children:l?ae.jsx(sx,{size:20}):ae.jsx(rx,{size:20})})]})]}),ae.jsxs("div",{className:"flex items-center justify-between",children:[ae.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[ae.jsx("input",{type:"checkbox",checked:i,onChange:t=>o(t.target.checked),className:"w-4 h-4 rounded border-gray-600 bg-gray-800 text-orange-500 focus:ring-orange-500 focus:ring-offset-0"}),ae.jsx("span",{className:"text-white text-sm",children:"Запомнить меня"})]}),ae.jsx(Bo,{to:"/forgot-password",className:"text-orange-500 hover:text-orange-400 text-sm transition-colors",children:"Забыли пароль?"})]}),x&&ae.jsx(Ju.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-500/10 border border-red-500 text-red-400 px-4 py-3 rounded-lg text-sm",children:x}),ae.jsx("button",{type:"submit",disabled:m,className:"w-full py-3 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-medium rounded-lg transition-all shadow-lg hover:shadow-orange-500/25 disabled:opacity-50 disabled:cursor-not-allowed",children:m?"Вход...":"Войти"}),ae.jsxs("div",{className:"text-center text-sm",children:[ae.jsx("span",{className:"text-gray-400",children:"Нет аккаунта? "}),ae.jsx(Bo,{to:"/register",className:"text-orange-500 hover:text-orange-400 transition-colors",children:"Зарегистрироваться"})]})]})})})},RegisterPage=()=>{const[t,n]=H.useState("user"),[s,a]=H.useState(""),[i,o]=H.useState(""),[l,u]=H.useState(""),[m,f]=H.useState(""),[x,y]=H.useState(!1),[j,w]=H.useState(!1),[N,k]=H.useState(!1),[C,T]=H.useState(""),_=useNavigate(),handleSubmit=async n=>{if(n.preventDefault(),T(""),console.log("Form submitted!"),l===m)if(l.length<6)T("Пароль должен содержать минимум 6 символов");else{k(!0);try{const n=await fetch("https://mebelplace.com.kz/api/auth/send-sms-code",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:s})});if(!n.ok){const t=await n.json();throw new Error(t.message||"Failed to send SMS code")}const a=await n.json();console.log("SMS code sent:",a);const o={phone:s,username:i,password:l,role:t};localStorage.setItem("registrationData",JSON.stringify(o)),_("/sms-verification",{state:{phone:s}})}catch(Xx){T(Xx.message||"Ошибка отправки SMS")}finally{k(!1)}}else T("Пароли не совпадают")};return ae.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-950 px-4 py-8",children:ae.jsx(Ju.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md",children:ae.jsxs("form",{onSubmit:handleSubmit,className:"space-y-6",children:[ae.jsxs("div",{className:"text-center mb-8",children:[ae.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-orange-500 to-orange-600 rounded-full flex items-center justify-center mx-auto mb-4",children:ae.jsx(Ox,{className:"w-8 h-8 text-white"})}),ae.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Регистрация"}),ae.jsx("p",{className:"text-gray-400 text-sm",children:"Создайте аккаунт для доступа к платформе"})]}),ae.jsxs("div",{children:[ae.jsx("label",{className:"block text-white text-sm mb-2",children:"Тип аккаунта *"}),ae.jsxs("select",{value:t,onChange:t=>n(t.target.value),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-orange-500 transition-colors",children:[ae.jsx("option",{value:"user",children:"Клиент"}),ae.jsx("option",{value:"master",children:"Мастер"})]})]}),ae.jsxs("div",{children:[ae.jsx("label",{className:"block text-white text-sm mb-2",children:"Номер телефона *"}),ae.jsxs("div",{className:"relative",children:[ae.jsx(vx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),ae.jsx("input",{type:"text",value:s,onChange:t=>a(t.target.value),placeholder:"+7XXXXXXXXXX",className:"w-full pl-10 pr-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-orange-500 transition-colors",required:!0})]}),ae.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Формат: +7XXXXXXXXXX или 8XXXXXXXXXX"})]}),ae.jsxs("div",{children:[ae.jsx("label",{className:"block text-white text-sm mb-2",children:"Имя пользователя *"}),ae.jsxs("div",{className:"relative",children:[ae.jsx(Dx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),ae.jsx("input",{type:"text",value:i,onChange:t=>o(t.target.value),placeholder:"username",className:"w-full pl-10 pr-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-orange-500 transition-colors",required:!0})]})]}),ae.jsxs("div",{children:[ae.jsx("label",{className:"block text-white text-sm mb-2",children:"Пароль *"}),ae.jsxs("div",{className:"relative",children:[ae.jsx(mx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),ae.jsx("input",{type:x?"text":"password",value:l,onChange:t=>u(t.target.value),placeholder:"Минимум 6 символов",className:"w-full pl-10 pr-12 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-orange-500 transition-colors",required:!0}),ae.jsx("button",{type:"button",onClick:()=>y(!x),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-300",children:x?ae.jsx(sx,{size:20}):ae.jsx(rx,{size:20})})]})]}),ae.jsxs("div",{children:[ae.jsx("label",{className:"block text-white text-sm mb-2",children:"Подтвердите пароль *"}),ae.jsxs("div",{className:"relative",children:[ae.jsx(mx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),ae.jsx("input",{type:j?"text":"password",value:m,onChange:t=>f(t.target.value),placeholder:"Повторите пароль",className:"w-full pl-10 pr-12 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-orange-500 transition-colors",required:!0}),ae.jsx("button",{type:"button",onClick:()=>w(!j),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-300",children:j?ae.jsx(sx,{size:20}):ae.jsx(rx,{size:20})})]})]}),C&&ae.jsx(Ju.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-500/10 border border-red-500 text-red-400 px-4 py-3 rounded-lg text-sm",children:C}),ae.jsx("button",{type:"submit",disabled:N,className:"w-full py-3 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-medium rounded-lg transition-all shadow-lg hover:shadow-orange-500/25 disabled:opacity-50 disabled:cursor-not-allowed",children:N?"Отправка SMS...":"Отправить SMS"}),ae.jsxs("div",{className:"text-center text-sm",children:[ae.jsxs("span",{className:"text-gray-400",children:["Уже есть аккаунт?"," "]}),ae.jsx(Bo,{to:"/login",className:"text-orange-500 hover:text-orange-400 transition-colors",children:"Войти"})]})]})})})},SmsVerificationPage=()=>{var t;const[n,s]=H.useState(""),[a,i]=H.useState(!1),[o,l]=H.useState(""),[u,m]=H.useState(!1),[f,x]=H.useState(0),y=useNavigate(),j=useLocation(),{verifySmsCode:w,sendSmsCode:N}=useAuth(),k=null==(t=j.state)?void 0:t.phone,C=JSON.parse(localStorage.getItem("registrationData")||"{}");H.useEffect(()=>{C&&k||y("/register")},[C,k,y]),H.useEffect(()=>{if(f>0){const t=setTimeout(()=>x(f-1),1e3);return()=>clearTimeout(t)}},[f]);const handleSubmit=async t=>{var s,a;if(t.preventDefault(),l(""),n.trim()){i(!0);try{await w(k,n);const t=await fetch("https://mebelplace.com.kz/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)});if(!t.ok){const n=await t.json();throw new Error(n.message||"Failed to create user")}const i=await t.json();console.log("User created:",i),(null==(s=i.data)?void 0:s.accessToken)&&localStorage.setItem("accessToken",i.data.accessToken),(null==(a=i.data)?void 0:a.refreshToken)&&localStorage.setItem("refreshToken",i.data.refreshToken),localStorage.removeItem("registrationData"),window.location.href="/"}catch(Xx){l(Xx.message||"Неверный SMS код")}finally{i(!1)}}else l("Введите SMS код")},handleResend=async()=>{m(!0),l("");try{await N(k),x(60)}catch(Xx){l(Xx.message||"Ошибка отправки SMS")}finally{m(!1)}};return C&&k?ae.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-950 px-4 py-8",children:ae.jsx(Ju.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md",children:ae.jsxs("form",{onSubmit:handleSubmit,className:"space-y-6",children:[ae.jsxs("div",{className:"text-center mb-8",children:[ae.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-orange-500 to-orange-600 rounded-full flex items-center justify-center mx-auto mb-4",children:ae.jsx(vx,{className:"w-8 h-8 text-white"})}),ae.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Подтверждение номера"}),ae.jsx("p",{className:"text-gray-400 text-sm",children:"Введите код из SMS, отправленного на номер"}),ae.jsx("p",{className:"text-orange-500 font-medium",children:k})]}),ae.jsxs("div",{children:[ae.jsx("label",{className:"block text-white text-sm mb-2",children:"SMS код *"}),ae.jsx("input",{type:"text",value:n,onChange:t=>s(t.target.value),placeholder:"Введите 6-значный код",className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-orange-500 transition-colors text-center text-lg tracking-widest",maxLength:6,required:!0})]}),o&&ae.jsx(Ju.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-500/10 border border-red-500 text-red-400 px-4 py-3 rounded-lg text-sm",children:o}),ae.jsx("button",{type:"submit",disabled:a,className:"w-full py-3 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-medium rounded-lg transition-all shadow-lg hover:shadow-orange-500/25 disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Проверка...":"Подтвердить"}),ae.jsx("div",{className:"text-center",children:ae.jsx("button",{type:"button",onClick:handleResend,disabled:u||f>0,className:"text-orange-500 hover:text-orange-400 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Отправка...":f>0?`Повторить через ${f}с`:"Отправить код повторно"})}),ae.jsx("div",{className:"text-center",children:ae.jsxs("button",{type:"button",onClick:()=>y("/register"),className:"text-gray-400 hover:text-gray-300 transition-colors flex items-center justify-center mx-auto",children:[ae.jsx(Of,{className:"w-4 h-4 mr-2"}),"Назад к регистрации"]})})]})})}):null},ForgotPasswordPage=()=>{const[t,n]=H.useState("phone"),[s,a]=H.useState(""),[i,o]=H.useState(""),[l,u]=H.useState(""),[m,f]=H.useState(""),[x,y]=H.useState(!1),[j,w]=H.useState(""),N=useNavigate(),handleSendCode=async t=>{var a,i;t.preventDefault(),w(""),y(!0);try{await Cf.forgotPassword(s),n("code")}catch(Xx){w((null==(i=null==(a=Xx.response)?void 0:a.data)?void 0:i.message)||Xx.message||"Ошибка отправки кода")}finally{y(!1)}},handleResetPassword=async t=>{var n,a;if(t.preventDefault(),w(""),l===m)if(l.length<6)w("Пароль должен быть минимум 6 символов");else{y(!0);try{await Cf.resetPassword(s,i,l),alert("Пароль успешно изменен!"),N("/login")}catch(Xx){w((null==(a=null==(n=Xx.response)?void 0:n.data)?void 0:a.message)||Xx.message||"Ошибка сброса пароля")}finally{y(!1)}}else w("Пароли не совпадают")};return ae.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-950 via-purple-950/20 to-gray-950 px-4",children:ae.jsx(Ju.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md",children:ae.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-xl border border-gray-800 rounded-2xl p-8 shadow-2xl",children:[ae.jsxs("div",{className:"text-center mb-6",children:[ae.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-orange-500 to-orange-600 rounded-full mb-4",children:ae.jsx(mx,{className:"text-white",size:32})}),ae.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Восстановление пароля"}),ae.jsx("p",{className:"text-gray-400 text-sm",children:"Введите номер телефона для получения SMS кода"})]}),"phone"===t?ae.jsxs("form",{onSubmit:handleSendCode,className:"space-y-6",children:[ae.jsxs("div",{children:[ae.jsx("label",{className:"block text-white text-sm mb-2",children:"Номер телефона"}),ae.jsxs("div",{className:"relative",children:[ae.jsx(vx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),ae.jsx("input",{type:"text",value:s,onChange:t=>a(t.target.value),placeholder:"+7XXXXXXXXXX",className:"w-full pl-10 pr-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-orange-500 transition-colors",required:!0})]}),ae.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Формат: +7XXXXXXXXXX или 8XXXXXXXXXX"})]}),j&&ae.jsx(Ju.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-500/10 border border-red-500 text-red-400 px-4 py-3 rounded-lg text-sm",children:j}),ae.jsx("button",{type:"submit",disabled:x,className:"w-full py-3 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-medium rounded-lg transition-all shadow-lg hover:shadow-orange-500/25 disabled:opacity-50 disabled:cursor-not-allowed",children:x?"Отправка...":"Отправить SMS код"}),ae.jsxs("button",{type:"button",onClick:()=>N("/login"),className:"w-full py-3 bg-gray-800 hover:bg-gray-700 text-white font-medium rounded-lg transition-all border border-gray-700",children:[ae.jsx(Of,{className:"inline mr-2",size:16}),"Вернуться к входу"]})]}):ae.jsxs("form",{onSubmit:handleResetPassword,className:"space-y-6",children:[ae.jsxs("div",{className:"bg-green-500/10 border border-green-500 text-green-400 px-4 py-3 rounded-lg text-sm",children:["SMS код отправлен на номер: ",s]}),ae.jsxs("div",{children:[ae.jsx("label",{className:"block text-white text-sm mb-2",children:"SMS код"}),ae.jsx("input",{type:"text",value:i,onChange:t=>o(t.target.value),placeholder:"Введите 4-значный код",maxLength:4,className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-orange-500 transition-colors text-center text-2xl tracking-widest",required:!0})]}),ae.jsxs("div",{children:[ae.jsx("label",{className:"block text-white text-sm mb-2",children:"Новый пароль"}),ae.jsxs("div",{className:"relative",children:[ae.jsx(mx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),ae.jsx("input",{type:"password",value:l,onChange:t=>u(t.target.value),placeholder:"Минимум 6 символов",className:"w-full pl-10 pr-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-orange-500 transition-colors",required:!0,minLength:6})]})]}),ae.jsxs("div",{children:[ae.jsx("label",{className:"block text-white text-sm mb-2",children:"Подтвердите пароль"}),ae.jsxs("div",{className:"relative",children:[ae.jsx(mx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),ae.jsx("input",{type:"password",value:m,onChange:t=>f(t.target.value),placeholder:"Повторите пароль",className:"w-full pl-10 pr-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-orange-500 transition-colors",required:!0,minLength:6})]})]}),j&&ae.jsx(Ju.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-500/10 border border-red-500 text-red-400 px-4 py-3 rounded-lg text-sm",children:j}),ae.jsx("button",{type:"submit",disabled:x,className:"w-full py-3 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-medium rounded-lg transition-all shadow-lg hover:shadow-orange-500/25 disabled:opacity-50 disabled:cursor-not-allowed",children:x?"Сброс пароля...":"Сбросить пароль"}),ae.jsxs("button",{type:"button",onClick:()=>n("phone"),className:"w-full py-3 bg-gray-800 hover:bg-gray-700 text-white font-medium rounded-lg transition-all border border-gray-700",children:[ae.jsx(Of,{className:"inline mr-2",size:16}),"Назад"]})]})]})})})},Ix={getChats:async t=>Sf.get("/chat/list",t),getChat:async t=>Sf.get(`/chat/${t}`),getMessages:async(t,n)=>Sf.get(`/chat/${t}/messages`,n),sendMessage:async(t,n,s="text",a,i)=>Sf.post(`/chat/${t}/message`,{content:n,type:s,replyTo:a,metadata:i}),async sendMessageWithFile(t,n,s){const a=new FormData;a.append("file",n),s&&a.append("content",s);let i="file";n.type.startsWith("image/")?i="image":n.type.startsWith("video/")&&(i="video"),a.append("type",i);const o=await Sf.upload(`/chat/${t}/message`,a);return{...o,file_path:o.filePath||o.file_path,file_name:o.fileName||o.file_name,file_size:o.fileSize||o.file_size,sender_id:o.senderId||o.sender_id,chat_id:o.chatId||o.chat_id,reply_to:o.replyTo||o.reply_to,created_at:o.createdAt||o.created_at,updated_at:o.updatedAt||o.updated_at}},markChatAsRead:async t=>Sf.put(`/chat/${t}/read`),async createChat(t,n="private",s,a){const i={participants:t,type:n};return s&&(i.name=s),a&&(i.orderId=a),Sf.post("/chat/create",i)},async createChatWithUser(t){return this.createChat([t],"private")},leaveChat:async t=>Sf.post(`/chat/${t}/leave`),addParticipant:async(t,n)=>Sf.post(`/chat/${t}/add-participant`,{participantId:n}),deleteChat:async t=>Sf.delete(`/chat/${t}`)},OrderButton=({video:t,className:n=""})=>{var s;const a=useNavigate(),{user:i,isClient:o}=useAuth(),[l,u]=H.useState(!1),[m,f]=H.useState(null),x=t.author_id||t.authorId||t.masterId||(null==(s=t.master)?void 0:s.id);if(!o||!i||x===i.id)return null;const handleOrder=async()=>{var n,s,i;try{u(!0),f(null);const s=t.author_id||t.authorId||t.masterId||(null==(n=t.master)?void 0:n.id);if(!s)return f("ID мастера не найден"),void setTimeout(()=>f(null),5e3);const i=await Ix.createChatWithUser(s),o=`Здравствуйте! Интересует мебель из видео: ${t.title}`;await Ix.sendMessage(i.id||i.chatId,o,"video",void 0,{videoId:t.id,videoTitle:t.title,videoThumbnail:t.thumbnailUrl||t.thumbnail_url||"",videoUrl:t.videoUrl||t.video_url||"",masterName:t.username||"Мастер"}),a(`/chat/${i.id||i.chatId}`)}catch(o){console.error("Failed to create order chat:",o);const t=(null==(i=null==(s=o.response)?void 0:s.data)?void 0:i.message)||o.message||"Не удалось создать чат. Попробуйте позже.";f(t),setTimeout(()=>f(null),5e3)}finally{u(!1)}};return ae.jsxs("div",{className:"relative",children:[ae.jsx(Ju.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:t=>{t.stopPropagation(),handleOrder()},disabled:l,className:`\n          relative overflow-hidden\n          px-6 py-4 sm:px-8 sm:py-5\n          bg-gradient-to-r from-orange-500 to-orange-600\n          text-white font-bold text-base sm:text-lg\n          rounded-2xl shadow-lg hover:shadow-xl\n          transition-all duration-300\n          disabled:opacity-50 disabled:cursor-not-allowed\n          flex items-center justify-center space-x-3\n          ${n}\n        `,children:l?ae.jsxs(ae.Fragment,{children:[ae.jsx(hx,{className:"w-5 h-5 sm:w-6 sm:h-6 animate-spin"}),ae.jsx("span",{children:"Создание чата..."})]}):ae.jsxs(ae.Fragment,{children:[ae.jsx(gx,{className:"w-5 h-5 sm:w-6 sm:h-6"}),ae.jsx("span",{children:"ЗАКАЗАТЬ ЭТУ МЕБЕЛЬ"})]})}),m&&ae.jsx(Ju.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},className:"absolute top-full left-0 right-0 mt-2 bg-red-500/90 backdrop-blur-sm text-white px-4 py-3 rounded-lg shadow-lg text-sm z-50",children:m})]})},VideoPlayer=({videos:t,initialIndex:n,onClose:s,onVideoChange:a})=>{var i,o,l,u,m,f,x,y;const j=useNavigate(),{user:w,isClient:N}=useAuth(),[k,C]=H.useState(n),[T,_]=H.useState(!1),[A,L]=H.useState([]),[M,O]=H.useState(""),[V,B]=H.useState(!1),[I,U]=H.useState(null),[z,$]=H.useState(""),[X,K]=H.useState({}),[Y,Q]=H.useState({}),[Z,J]=H.useState(0),[ee,re]=H.useState(0),[ie,le]=H.useState(""),[ce,de]=H.useState(t),pe=H.useRef([]),fe=H.useRef(null),{emit:xe,on:ye}=useSocket(),be=ce[k],we=!w||"master"!==w.role||(null==(i=null==be?void 0:be.master)?void 0:i.id)===w.id||(null==be?void 0:be.authorId)===w.id||(null==be?void 0:be.author_id)===w.id||(null==be?void 0:be.masterId)===w.id;H.useEffect(()=>{if(!ie.trim())return void de(t);const n=t.filter(t=>{var n,s,a,i,o,l;return(null==(n=t.title)?void 0:n.toLowerCase().includes(ie.toLowerCase()))||(null==(s=t.description)?void 0:s.toLowerCase().includes(ie.toLowerCase()))||(null==(a=t.tags)?void 0:a.some(t=>t.toLowerCase().includes(ie.toLowerCase())))||(null==(i=t.username)?void 0:i.toLowerCase().includes(ie.toLowerCase()))||(null==(l=null==(o=t.master)?void 0:o.name)?void 0:l.toLowerCase().includes(ie.toLowerCase()))});de(n),C(0)},[ie,t]),H.useEffect(()=>{a&&be&&a(be)},[k,be,a]),H.useEffect(()=>{be&&(loadComments(),recordView(),loadVideoLikeStatus())},[be]);const loadVideoLikeStatus=async()=>{if(be&&w)try{const t=await Bx.getVideo(be.id);K(n=>({...n,[be.id]:{isLiked:!0===t.is_liked||!0===t.isLiked,likeCount:t.likes||t.like_count||0}}))}catch(t){console.error("Failed to load video like status:",t)}};H.useEffect(()=>{const t=pe.current[k];if(t){t.play().catch(t=>{console.log("Autoplay prevented:",t)});const handleEnded=()=>{k<ce.length-1&&C(t=>t+1)},handleTimeUpdate=()=>{J(t.currentTime)},handleLoadedMetadata=()=>{re(t.duration)};return t.addEventListener("ended",handleEnded),t.addEventListener("timeupdate",handleTimeUpdate),t.addEventListener("loadedmetadata",handleLoadedMetadata),t.duration&&re(t.duration),()=>{t.removeEventListener("ended",handleEnded),t.removeEventListener("timeupdate",handleTimeUpdate),t.removeEventListener("loadedmetadata",handleLoadedMetadata)}}},[k,ce.length]),H.useEffect(()=>{pe.current.forEach((t,n)=>{t&&(n===k?t.play().catch(()=>{}):(t.pause(),t.currentTime=0))}),J(0)},[k]),H.useEffect(()=>{const t=undefined,handleNewComment=t=>{t.videoId===(null==be?void 0:be.id)&&T&&loadComments()};return ye("video_liked",t=>{t.videoId===(null==be?void 0:be.id)&&K(n=>({...n,[t.videoId]:{isLiked:t.liked,likeCount:t.likes}}))}),ye("new_comment",handleNewComment),()=>{}},[ye,be,T]);const loadComments=async()=>{if(be)try{const t=await Bx.getComments(be.id);L(Array.isArray(t)?t:[])}catch(t){console.error("Failed to load comments:",t)}},recordView=async()=>{if(be)try{await Bx.recordView(be.id,{durationWatched:0,completionRate:0})}catch(t){console.error("Failed to record view:",t)}},handleVideoClick=()=>{const t=pe.current[k];t&&(t.paused?t.play():t.pause())},handleDoubleTap=()=>{handleLike()},handleNextVideo=()=>{k<ce.length-1&&C(t=>t+1)},handlePrevVideo=()=>{k>0&&C(t=>t-1)},handleLike=async()=>{if(be)if(w)try{const t=await Bx.toggleLike(be.id);K(n=>({...n,[be.id]:{isLiked:t.is_liked,likeCount:t.likes}}))}catch(t){console.error("Failed to like video:",t)}else window.location.href="/login"},handleBookmark=async()=>{if(be)try{const t=Y[be.id]||!1;t?await Bx.removeBookmark(be.id):await Bx.addBookmark(be.id),Q(n=>({...n,[be.id]:!t}))}catch(t){console.error("Failed to bookmark:",t)}},handleShare=async()=>{if(!be)return;const t=`${window.location.origin}/?videoId=${be.id}`,n={title:be.title||"Видео на MebelPlace",text:be.description||"Посмотрите это видео на MebelPlace",url:t};console.log("Share clicked",{shareUrl:t,shareData:n});try{if(navigator.share&&navigator.canShare&&navigator.canShare(n))return console.log("Using Web Share API"),await navigator.share(n),void console.log("Share successful");if(console.log("Using clipboard fallback"),navigator.clipboard&&navigator.clipboard.writeText)return await navigator.clipboard.writeText(t),void alert("Ссылка скопирована в буфер обмена! ✓");console.log("Using input fallback");const s=document.createElement("textarea");s.value=t,s.style.position="fixed",s.style.left="-999999px",s.style.top="-999999px",document.body.appendChild(s),s.focus(),s.select();try{document.execCommand("copy"),alert("Ссылка скопирована! ✓")}catch(Xx){console.error("Copy command failed:",Xx),alert(`Скопируйте ссылку: ${t}`)}finally{document.body.removeChild(s)}}catch(s){if("AbortError"===(null==s?void 0:s.name))return void console.log("Share cancelled by user");console.error("Share failed:",s),alert(`Ссылка на видео: ${t}`)}},handleSubmitComment=async t=>{if(t.preventDefault(),be&&M.trim())try{B(!0);const t=await Bx.addComment(be.id,M.trim());L(n=>[t,...n]),O(""),xe("video_comment",{videoId:be.id,content:t.content,parentId:null})}catch(n){console.error("Failed to add comment:",n)}finally{B(!1)}},handleReply=async(t,n)=>{if(t.preventDefault(),be&&z.trim())try{B(!0);const t=await Bx.addComment(be.id,z.trim(),n);L(s=>s.map(s=>s.id===n?{...s,replies:[...s.replies||[],t]}:s)),$(""),U(null),xe("video_comment",{videoId:be.id,content:t.content,parentId:n})}catch(s){console.error("Failed to add reply:",s)}finally{B(!1)}},handleLikeComment=async(t,n)=>{try{const n=await Bx.toggleCommentLike(t);L(s=>s.map(s=>s.id===t?{...s,is_liked:n.is_liked,likes:n.likes}:(s.replies&&(s.replies=s.replies.map(s=>s.id===t?{...s,is_liked:n.is_liked,likes:n.likes}:s)),s)))}catch(s){console.error("Failed to like comment:",s)}},formatTimeAgo=t=>{if(!t)return"недавно";try{const n=new Date(t);if(isNaN(n.getTime()))return"недавно";const s=new Date,a=Math.floor((s.getTime()-n.getTime())/1e3);return a<60?"только что":a<3600?`${Math.floor(a/60)}м назад`:a<86400?`${Math.floor(a/3600)}ч назад`:a<604800?`${Math.floor(a/86400)}д назад`:n.toLocaleDateString("ru-RU",{day:"numeric",month:"short"})}catch(n){return console.error("Error formatting date:",t,n),"недавно"}},formatCount=t=>null==t?"0":t>=1e6?`${(t/1e6).toFixed(1)}M`:t>=1e3?`${(t/1e3).toFixed(1)}K`:t.toString();if(!be)return ae.jsxs(ae.Fragment,{children:[ae.jsx(Header,{}),ae.jsx("div",{className:"fixed inset-0 bg-black z-40 overflow-hidden pt-16 pb-16",children:ae.jsx("div",{className:"h-full w-full flex items-center justify-center",children:ae.jsxs("div",{className:"text-center text-white/70",children:[ae.jsx("p",{className:"text-xl mb-2",children:ie.trim()?"Ничего не найдено":"Видео не найдено"}),ae.jsx("p",{className:"text-sm",children:ie.trim()?"Попробуйте другой поисковый запрос":"Попробуйте обновить страницу"})]})})}),ae.jsx(BottomNavigation,{})]});const Se=X[be.id]||{isLiked:be.isLiked||!1,likeCount:parseInt(be.likeCount)||be.likes||0};return ae.jsxs(ae.Fragment,{children:[ae.jsx(Header,{}),ae.jsxs("div",{ref:fe,className:"fixed inset-0 bg-black z-40 overflow-hidden pt-16 pb-16",children:[s&&ae.jsx(Ju.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},onClick:s,className:"absolute top-20 left-4 z-50 p-2 rounded-full bg-black/30 backdrop-blur-sm text-white",children:ae.jsx(Fx,{className:"w-6 h-6"})}),ae.jsx(Ju.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.4,ease:[.16,1,.3,1]},className:"absolute top-20 left-0 right-0 z-50 flex justify-center px-4",children:ae.jsxs("div",{className:"relative w-full max-w-[400px]",children:[ae.jsx(Ju.input,{type:"text",value:ie,onChange:t=>le(t.target.value),placeholder:"Поиск видео...",whileFocus:{scale:1.02},transition:{duration:.2},className:"w-full bg-white/10 backdrop-blur-xl border border-white/20 text-white placeholder-white/50 px-5 py-3 pl-12 pr-5 rounded-xl text-sm font-medium focus:outline-none focus:bg-white/15 focus:border-white/30 transition-all shadow-lg"}),ae.jsx(kx,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-white/50"}),ie.trim()&&ae.jsx(Ju.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"absolute top-full left-0 right-0 mt-2 bg-black/80 backdrop-blur-xl rounded-lg p-2 text-center",children:ae.jsxs("span",{className:"text-white/70 text-xs",children:["Найдено: ",ce.length," из ",t.length," видео"]})})]})}),ae.jsxs("div",{className:"h-full w-full flex flex-col",children:[ae.jsx("div",{className:"flex-1 flex items-center justify-center px-4",children:ae.jsx("div",{className:"relative w-full max-w-4xl mx-auto",children:ae.jsxs("div",{className:"relative w-full aspect-video bg-black rounded-2xl overflow-hidden shadow-2xl",children:[ae.jsx("video",{ref:t=>pe.current[k]=t,src:be.videoUrl,className:"w-full h-full object-cover",loop:!1,playsInline:!0,autoPlay:!0,onClick:handleVideoClick,onDoubleClick:handleDoubleTap}),ae.jsx("div",{className:"absolute left-4 top-4 z-20",children:ae.jsxs(Ju.button,{onClick:()=>(be.masterId||be.authorId)&&j(`/master/${be.masterId||be.authorId}`),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center gap-2 px-3 py-2 bg-black/50 backdrop-blur-xl rounded-full border border-white/20 text-white hover:bg-black/70 transition-all",children:[be.avatar||(null==(o=be.master)?void 0:o.avatar)?ae.jsx("img",{src:be.avatar||(null==(l=be.master)?void 0:l.avatar),alt:be.username||(null==(u=be.master)?void 0:u.name)||"Avatar",className:"w-8 h-8 rounded-full object-cover",onError:t=>{t.currentTarget.style.display="none",t.currentTarget.nextSibling&&(t.currentTarget.nextSibling.style.display="flex")}}):null,ae.jsx("span",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-blue-400 to-purple-500 flex items-center justify-center text-white font-bold text-sm",style:{display:be.avatar||(null==(m=be.master)?void 0:m.avatar)?"none":"flex"},children:(null==(x=be.username||(null==(f=be.master)?void 0:f.name))?void 0:x.charAt(0).toUpperCase())||"M"}),ae.jsx("span",{className:"text-sm font-medium",children:be.username||(null==(y=be.master)?void 0:y.name)||"Мастер"})]})}),ae.jsxs("div",{className:"absolute right-4 bottom-4 flex flex-col gap-2 z-20",children:[ae.jsx(Ju.button,{whileHover:0!==k?{scale:1.15,y:-2}:{},whileTap:0!==k?{scale:.9}:{},transition:{type:"spring",stiffness:400,damping:17},onClick:handlePrevVideo,disabled:0===k,className:"p-2 rounded-full backdrop-blur-xl shadow-lg transition-all duration-300 "+(0===k?"bg-white/5 text-white/20 cursor-not-allowed":"bg-white/20 text-white hover:bg-white/30 hover:shadow-xl"),children:ae.jsx(ex,{className:"w-5 h-5"})}),ae.jsx(Ju.button,{whileHover:k!==ce.length-1?{scale:1.15,y:2}:{},whileTap:k!==ce.length-1?{scale:.9}:{},transition:{type:"spring",stiffness:400,damping:17},onClick:handleNextVideo,disabled:k===ce.length-1,className:"p-2 rounded-full backdrop-blur-xl shadow-lg transition-all duration-300 "+(k===ce.length-1?"bg-white/5 text-white/20 cursor-not-allowed":"bg-white/20 text-white hover:bg-white/30 hover:shadow-xl"),children:ae.jsx(Qf,{className:"w-5 h-5"})})]}),ae.jsxs("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 flex flex-col items-center space-y-4 z-20",children:[ae.jsxs(Ju.button,{whileHover:{scale:1.1},whileTap:{scale:.85},transition:{type:"spring",stiffness:400,damping:17},onClick:handleLike,className:"flex flex-col items-center space-y-1",children:[ae.jsx(Ju.div,{className:"p-3 rounded-full "+(Se.isLiked?"bg-red-500":"bg-black/50 backdrop-blur-sm"),animate:Se.isLiked?{scale:[1,1.2,1]}:{scale:1},transition:{duration:.3},children:ae.jsx(cx,{className:"w-6 h-6 "+(Se.isLiked?"text-white fill-white":"text-white")})}),ae.jsx("span",{className:"text-white text-xs font-semibold text-shadow",children:formatCount(Se.likeCount)})]}),ae.jsxs(Ju.button,{whileHover:{scale:1.1},whileTap:{scale:.85},transition:{type:"spring",stiffness:400,damping:17},onClick:()=>_(!0),className:"flex flex-col items-center space-y-1",children:[ae.jsx("div",{className:"p-3 rounded-full bg-black/50 backdrop-blur-sm",children:ae.jsx(xx,{className:"w-6 h-6 text-white"})}),ae.jsx("span",{className:"text-white text-xs font-semibold text-shadow",children:formatCount(be.commentCount)})]}),ae.jsx(Ju.button,{whileHover:{scale:1.1},whileTap:{scale:.85},transition:{type:"spring",stiffness:400,damping:17},onClick:handleBookmark,className:"flex flex-col items-center space-y-1",children:ae.jsx(Ju.div,{className:"p-3 rounded-full "+(Y[be.id]?"bg-yellow-500":"bg-black/50 backdrop-blur-sm"),animate:Y[be.id]?{scale:[1,1.2,1]}:{scale:1},transition:{duration:.3},children:ae.jsx(Ff,{className:"w-6 h-6 "+(Y[be.id]?"text-white fill-white":"text-white")})})}),ae.jsx(Ju.button,{whileHover:{scale:1.1},whileTap:{scale:.85},transition:{type:"spring",stiffness:400,damping:17},onClick:handleShare,className:"flex flex-col items-center space-y-1",children:ae.jsx("div",{className:"p-3 rounded-full bg-black/50 backdrop-blur-sm",children:ae.jsx(Ex,{className:"w-6 h-6 text-white"})})})]})]})})}),ae.jsx("div",{className:"px-4 pb-4",children:ae.jsxs("div",{className:"max-w-4xl mx-auto",children:[w&&N&&(be.masterId||be.authorId)!==w.id&&ae.jsx("div",{className:"flex justify-center mb-4",children:ae.jsx(OrderButton,{video:be,className:"w-full max-w-md"})}),ae.jsxs("div",{className:"bg-black/50 backdrop-blur-xl rounded-2xl p-4 border border-white/10",children:[ae.jsx("h3",{className:"text-white font-semibold text-lg mb-2",children:be.title}),be.description&&ae.jsx("p",{className:"text-white/80 text-sm mb-3 leading-relaxed",children:be.description}),ae.jsxs("div",{className:"flex items-center justify-between text-white/60 text-xs",children:[ae.jsx("span",{children:formatTimeAgo(be.createdAt)}),be.tags&&be.tags.length>0&&ae.jsx("div",{className:"flex flex-wrap gap-1",children:be.tags.slice(0,3).map((t,n)=>ae.jsxs("span",{className:"px-2 py-1 bg-white/10 rounded-full text-white/90 font-medium text-xs",children:["#",t]},n))})]}),ae.jsxs("div",{className:"mt-3 pt-3 border-t border-white/10",children:[ae.jsx("div",{className:"relative w-full h-1 bg-white/20 rounded-full overflow-hidden mb-2",children:ae.jsx(Ju.div,{className:"absolute left-0 top-0 h-full bg-gradient-to-r from-orange-500 to-orange-400 rounded-full",style:{width:(ee>0?Z/ee*100:0)+"%"},initial:{width:0},animate:{width:(ee>0?Z/ee*100:0)+"%"},transition:{duration:.1}})}),ae.jsxs("div",{className:"flex justify-between items-center",children:[ae.jsxs("span",{className:"text-white/70 text-xs font-medium",children:[Math.floor(Z/60),":",String(Math.floor(Z%60)).padStart(2,"0")]}),ae.jsxs("span",{className:"text-white/70 text-xs font-medium",children:[Math.floor(ee/60),":",String(Math.floor(ee%60)).padStart(2,"0")]})]})]})]})]})})]}),ae.jsx(AnimatePresence,{children:T&&ae.jsxs(Ju.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:30,stiffness:300},drag:"y",dragConstraints:{top:0,bottom:0},dragElastic:.2,onDragEnd:(t,n)=>{(n.offset.y>150||n.velocity.y>500)&&_(!1)},className:"absolute inset-x-0 bottom-0 h-[75vh] bg-black/95 backdrop-blur-xl rounded-t-3xl flex flex-col z-[100]",children:[ae.jsx("div",{className:"flex justify-center py-3",children:ae.jsx("div",{className:"w-12 h-1 bg-white/30 rounded-full"})}),ae.jsx("div",{className:"px-4 pb-3 border-b border-white/10",children:ae.jsxs("h3",{className:"text-white font-bold text-center",children:[A.length," ",1===A.length?"комментарий":"комментариев"]})}),ae.jsx("div",{className:"flex-1 overflow-y-auto px-4 py-4 pb-24 space-y-4",children:0===A.length?ae.jsxs("div",{className:"text-center text-white/60 py-8",children:[ae.jsx(xx,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),ae.jsx("p",{children:"Пока нет комментариев"}),ae.jsx("p",{className:"text-sm mt-1",children:"Будьте первым!"})]}):A.map(t=>{var n;return ae.jsx("div",{className:"space-y-2",children:ae.jsxs("div",{className:"flex space-x-3",children:[ae.jsx("div",{className:"w-9 h-9 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center text-white font-bold text-sm flex-shrink-0",children:(null==(n=t.username)?void 0:n.charAt(0).toUpperCase())||"U"}),ae.jsxs("div",{className:"flex-1 min-w-0",children:[ae.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[ae.jsx("span",{className:"font-semibold text-white text-sm",children:t.username||"Пользователь"}),ae.jsx("span",{className:"text-xs text-white/50",children:formatTimeAgo(t.createdAt||t.created_at)})]}),ae.jsx("p",{className:"text-white/90 text-sm mb-2 break-words",children:t.content}),ae.jsxs("div",{className:"flex items-center space-x-4",children:[ae.jsxs(Ju.button,{whileTap:{scale:.9},onClick:()=>handleLikeComment(t.id,t.is_liked),className:"flex items-center space-x-1 text-xs font-medium "+(t.is_liked?"text-red-400":"text-white/60"),children:[ae.jsx(_x,{className:"w-4 h-4 "+(t.is_liked?"fill-current":"")}),ae.jsx("span",{children:t.likes||0})]}),we&&ae.jsxs(Ju.button,{whileTap:{scale:.9},onClick:()=>U(I===t.id?null:t.id),className:"flex items-center space-x-1 text-xs font-medium text-white/60",children:[ae.jsx(Nx,{className:"w-4 h-4"}),ae.jsx("span",{children:"Ответить"})]})]}),ae.jsx(AnimatePresence,{children:I===t.id&&ae.jsxs(Ju.form,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},onSubmit:n=>handleReply(n,t.id),className:"mt-3 flex space-x-2",children:[ae.jsx("input",{type:"text",value:z,onChange:t=>$(t.target.value),placeholder:"Добавить ответ...",className:"flex-1 bg-white/10 text-white placeholder-white/50 px-3 py-2 rounded-full text-sm focus:outline-none focus:ring-2 focus:ring-white/30",disabled:V,autoFocus:!0}),ae.jsx(Ju.button,{type:"submit",disabled:!z.trim()||V,whileTap:{scale:.9},className:"p-2 rounded-full bg-white text-black disabled:opacity-50",children:ae.jsx(Sx,{className:"w-4 h-4"})})]})}),t.replies&&t.replies.length>0&&ae.jsx("div",{className:"mt-3 space-y-3 pl-4 border-l-2 border-white/10",children:t.replies.map(t=>{var n;return ae.jsxs("div",{className:"flex space-x-2",children:[ae.jsx("div",{className:"w-7 h-7 bg-gradient-to-br from-green-400 to-blue-500 rounded-full flex items-center justify-center text-white font-bold text-xs flex-shrink-0",children:(null==(n=t.username)?void 0:n.charAt(0).toUpperCase())||"U"}),ae.jsxs("div",{className:"flex-1 min-w-0",children:[ae.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[ae.jsx("span",{className:"font-semibold text-white text-xs",children:t.username||"Пользователь"}),ae.jsx("span",{className:"text-xs text-white/50",children:formatTimeAgo(t.createdAt||t.created_at)})]}),ae.jsx("p",{className:"text-white/80 text-xs mb-1 break-words",children:t.content}),ae.jsxs(Ju.button,{whileTap:{scale:.9},onClick:()=>handleLikeComment(t.id,t.is_liked),className:"flex items-center space-x-1 text-xs "+(t.is_liked?"text-red-400":"text-white/50"),children:[ae.jsx(_x,{className:"w-3 h-3 "+(t.is_liked?"fill-current":"")}),ae.jsx("span",{children:t.likes||0})]})]})]},t.id)})})]})]})},t.id)})}),ae.jsx("div",{className:"absolute bottom-0 left-0 right-0 px-4 py-3 pb-20 bg-black/95 backdrop-blur-xl border-t border-white/10",children:we?ae.jsxs("form",{onSubmit:handleSubmitComment,className:"flex space-x-3",children:[ae.jsx("input",{type:"text",value:M,onChange:t=>O(t.target.value),placeholder:"Добавить комментарий...",className:"flex-1 bg-white/10 text-white placeholder-white/50 px-4 py-3 rounded-full text-sm focus:outline-none focus:ring-2 focus:ring-white/30",disabled:V}),ae.jsx(Ju.button,{type:"submit",disabled:!M.trim()||V,whileTap:{scale:.9},className:"px-5 py-3 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 text-white font-semibold text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:V?"...":"Отправить"})]}):ae.jsx("div",{className:"text-center py-3 text-white/50 text-sm",children:"Только автор видео может оставлять комментарии"})})]})})]}),ae.jsx(BottomNavigation,{})]})},HomePage=()=>{const[t]=useSearchParams(),[n,s]=H.useState([]),[a,i]=H.useState(!0),[o,l]=H.useState(0),{user:u}=useAuth();useSocket(),H.useEffect(()=>{loadVideos()},[t]);const loadVideos=async()=>{try{i(!0);const a=t.get("videoId");if(a)try{const t=await Bx.getVideo(a),n=t.authorId||t.author_id;if(n){const t=await Bx.getVideos({author_id:n,limit:50});s(t.videos);const i=t.videos.findIndex(t=>t.id===a);return void l(-1!==i?i:0)}}catch(n){console.error("Failed to load specific video:",n)}const o="master"===(null==u?void 0:u.role)?{limit:50,exclude_author:u.id}:{limit:50,recommendations:!0},m=await Bx.getVideos(o);s(m.videos),l(0)}catch(n){console.error("Failed to load videos:",n)}finally{i(!1)}};return a?ae.jsxs("div",{className:"min-h-screen flex flex-col bg-black",children:[ae.jsx(Header,{}),ae.jsx("div",{className:"flex-1 flex items-center justify-center",children:ae.jsx(Ju.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-12 h-12 border-4 border-white/20 border-t-white rounded-full"})}),ae.jsx(BottomNavigation,{})]}):0===n.length?ae.jsxs("div",{className:"min-h-screen flex flex-col bg-black",children:[ae.jsx(Header,{}),ae.jsx("div",{className:"flex-1 flex items-center justify-center pb-20",children:ae.jsxs("div",{className:"text-center text-white/70",children:[ae.jsx("p",{className:"text-xl mb-2",children:"Пока нет видео"}),ae.jsx("p",{className:"text-sm",children:"Загрузите первое видео!"})]})}),ae.jsx(BottomNavigation,{})]}):ae.jsx(VideoPlayer,{videos:n,initialIndex:o,onVideoChange:t=>{console.log("Viewing video:",t.id)}})};function r(t){var n,s,a="";if("string"==typeof t||"number"==typeof t)a+=t;else if("object"==typeof t)if(Array.isArray(t)){var i=t.length;for(n=0;n<i;n++)t[n]&&(s=r(t[n]))&&(a&&(a+=" "),a+=s)}else for(s in t)t[s]&&(a&&(a+=" "),a+=s);return a}function clsx(){for(var t,n,s=0,a="",i=arguments.length;s<i;s++)(t=arguments[s])&&(n=r(t))&&(a&&(a+=" "),a+=n);return a}const GlassCard=({children:t,className:n,onClick:s,variant:a="default"})=>{const i=undefined,o=undefined,l=clsx("glass-card",{default:"",hover:"glass-card-hover",active:"glass-card-active"}[a],n);return ae.jsx(Ju.div,{className:l,onClick:s,initial:{opacity:0},animate:{opacity:1},whileHover:s&&"hover"===a?{scale:1.01}:void 0,whileTap:s?{scale:.99}:void 0,transition:{duration:.2},children:t})},SelectMasterModal=({isOpen:t,onClose:n,onSelect:s})=>{const[a,i]=H.useState([]),[o,l]=H.useState([]),[u,m]=H.useState(""),[f,x]=H.useState(!1),[y,j]=H.useState(null);H.useEffect(()=>{t&&loadMasters()},[t]),H.useEffect(()=>{if(""===u.trim())l(a);else{const t=u.toLowerCase();l(a.filter(n=>(n.username||"").toLowerCase().includes(t)||(n.firstName||"").toLowerCase().includes(t)||(n.lastName||"").toLowerCase().includes(t)||(n.phone||"").includes(t)))}},[u,a]);const loadMasters=async()=>{try{x(!0),j(null),i([]),l([])}catch(Xx){console.error("Failed to load masters:",Xx),j("Не удалось загрузить список мастеров")}finally{x(!1)}},handleSelect=t=>{s(t),n()},getMasterName=t=>t.firstName||t.lastName?`${t.firstName||""} ${t.lastName||""}`.trim():t.username||"Мастер";return ae.jsx(AnimatePresence,{children:t&&ae.jsxs(ae.Fragment,{children:[ae.jsx(Ju.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:n,className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50"}),ae.jsx(Ju.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"fixed inset-0 z-50 flex items-center justify-center p-4",onClick:n,children:ae.jsx("div",{onClick:t=>t.stopPropagation(),className:"w-full max-w-2xl max-h-[80vh] flex flex-col",children:ae.jsxs(GlassCard,{className:"p-6 flex flex-col h-full",children:[ae.jsxs("div",{className:"flex items-center justify-between mb-6",children:[ae.jsx("h2",{className:"text-2xl font-bold gradient-text",children:"Выберите мастера"}),ae.jsx("button",{onClick:n,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:ae.jsx(Fx,{className:"w-6 h-6 text-white/60"})})]}),ae.jsxs("div",{className:"relative mb-4",children:[ae.jsx(kx,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-white/60"}),ae.jsx("input",{type:"text",placeholder:"Поиск мастера...",value:u,onChange:t=>m(t.target.value),className:"glass-input w-full pl-12",autoFocus:!0})]}),ae.jsx("div",{className:"flex-1 overflow-y-auto space-y-3",children:f?ae.jsx("div",{className:"flex items-center justify-center py-12",children:ae.jsx(hx,{className:"w-8 h-8 text-white/60 animate-spin"})}):y?ae.jsxs("div",{className:"text-center py-12",children:[ae.jsx("p",{className:"text-red-400",children:y}),ae.jsx("button",{onClick:loadMasters,className:"mt-4 glass-button",children:"Попробовать снова"})]}):0===o.length?ae.jsxs("div",{className:"text-center py-12",children:[ae.jsx(Dx,{className:"w-16 h-16 text-white/30 mx-auto mb-4"}),ae.jsx("p",{className:"text-white/60",children:u?"Мастера не найдены":"Нет доступных мастеров"})]}):o.map(t=>ae.jsx(Ju.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:ae.jsx(GlassCard,{variant:"hover",onClick:()=>handleSelect(t.id),className:"cursor-pointer p-4",children:ae.jsxs("div",{className:"flex items-center space-x-4",children:[ae.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center text-white font-bold flex-shrink-0",children:t.avatar?ae.jsx("img",{src:t.avatar,alt:getMasterName(t),className:"w-full h-full rounded-full object-cover"}):ae.jsx("span",{children:getMasterName(t).charAt(0).toUpperCase()})}),ae.jsxs("div",{className:"flex-1 min-w-0",children:[ae.jsx("h3",{className:"font-medium text-white truncate",children:getMasterName(t)}),ae.jsxs("p",{className:"text-sm text-white/60 truncate",children:["@",t.username]})]}),t.phone&&ae.jsx("div",{className:"text-sm text-white/60",children:t.phone})]})})},t.id))})]})})})]})})},ChatListPage=()=>{const[t,n]=H.useState([]),[s,a]=H.useState(!0),[i,o]=H.useState(""),[l,u]=H.useState(!1),[m,f]=H.useState(!1),[x,y]=H.useState(null),[j,w]=H.useState(!0),N=useNavigate(),{socket:k,on:C,off:T}=useSocket(),{user:_}=useAuth(),getOtherParticipant=t=>{if(!t.participants||0===t.participants.length)return null;const n=t.participants.find(t=>{const n=t.user_id||t.userId||t.id,s=null==_?void 0:_.id;return console.log("[ChatList] Comparing:",n,"!==",s,"=",n!==s),n!==s});return console.log("[ChatList] Other participant:",(null==n?void 0:n.name)||(null==n?void 0:n.username)),n||null};H.useEffect(()=>{loadChats()},[]),H.useEffect(()=>{if(!k)return;const handleNewMessage=t=>{console.log("ChatList received new_message:",t);const s=t.chatId||t.chat_id;n(n=>{const a=n.findIndex(t=>t.id===s);if(a>=0){const s=[...n];return s[a]={...s[a],lastMessage:t.message,unreadCount:(s[a].unreadCount||0)+1,updatedAt:t.message.createdAt||t.message.created_at},s.sort((t,n)=>new Date(n.updatedAt||0).getTime()-new Date(t.updatedAt||0).getTime())}return loadChats(),n})},handleUserStatusChange=t=>{console.log("ChatList user status changed:",t),n(n=>n.map(n=>{var s;return{...n,participants:null==(s=n.participants)?void 0:s.map(n=>{const s=undefined;return(n.user_id||n.userId||n.id)===t.userId?{...n,is_active:t.isActive}:n})}}))};return C("new_message",handleNewMessage),C("user_status_changed",handleUserStatusChange),()=>{T("new_message",handleNewMessage),T("user_status_changed",handleUserStatusChange)}},[k,C,T]);const loadChats=async()=>{try{a(!0);const t=await Ix.getChats();n(t.chats||[])}catch(t){console.error("Failed to load chats:",t)}finally{a(!1)}},A=t.filter(t=>{var n;return(null==(n=t.participants)?void 0:n.some(t=>(t.name||t.username||t.email||"").toLowerCase().includes(i.toLowerCase())))||!1}),formatLastMessage=t=>{if(!t)return"Нет сообщений";const n="string"==typeof t?t:t.content;if(!n)return"Нет сообщений";const s=50;return n.length>s?n.substring(0,s)+"...":n},formatTime=t=>{const n=new Date(t),s=undefined,a=(new Date).getTime()-n.getTime();return a<6e4?"только что":a<36e5?`${Math.floor(a/6e4)}м`:a<864e5?`${Math.floor(a/36e5)}ч`:n.toLocaleDateString()},handleCreateChat=async t=>{var n,s;try{f(!0),y(null);const n=await Ix.createChatWithUser(t);N(`/chat/${n.id}`)}catch(Xx){console.error("Failed to create chat:",Xx);const a=(null==(s=null==(n=Xx.response)?void 0:n.data)?void 0:s.message)||Xx.message||"Не удалось создать чат";y(a),setTimeout(()=>y(null),5e3)}finally{f(!1)}};return s?ae.jsx("div",{className:"flex items-center justify-center h-96",children:ae.jsx(Ju.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-12 h-12 border-4 border-white/20 border-t-white rounded-full"})}):ae.jsxs("div",{className:"space-y-6",children:[j&&ae.jsx(Ju.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"relative glass-card p-4 border-l-4 border-orange-500 bg-gradient-to-r from-orange-500/10 to-red-500/10",children:ae.jsxs("div",{className:"flex items-start space-x-3",children:[ae.jsx(Df,{className:"w-6 h-6 text-orange-400 flex-shrink-0 mt-0.5"}),ae.jsxs("div",{className:"flex-1",children:[ae.jsx("h3",{className:"text-sm font-semibold text-orange-300 mb-1",children:"⚠️ Важное уведомление"}),ae.jsxs("p",{className:"text-xs text-white/80 leading-relaxed",children:["Сервис MebelPlace ",ae.jsx("strong",{children:"не несет ответственности"})," за передачу данных между пользователями. Все сообщения, файлы и личная информация передаются на ваш собственный риск. Рекомендуем не передавать конфиденциальную информацию через мессенджер."]})]}),ae.jsx("button",{onClick:()=>w(!1),className:"text-white/60 hover:text-white transition-colors p-1","aria-label":"Закрыть уведомление",children:ae.jsx(Fx,{className:"w-4 h-4"})})]})}),ae.jsx(Ju.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center justify-center",children:ae.jsx("h1",{className:"text-3xl font-bold gradient-text text-center",children:"Чаты"})}),ae.jsx(Ju.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex justify-end",children:ae.jsxs(Ju.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>u(!0),disabled:m,className:"glass-button flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[ae.jsx(wx,{className:"w-5 h-5"}),ae.jsx("span",{children:m?"Создание...":"Новый чат"})]})}),x&&ae.jsx(Ju.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},className:"bg-red-500/90 backdrop-blur-sm text-white px-4 py-3 rounded-lg shadow-lg",children:x}),ae.jsxs(Ju.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"relative",children:[ae.jsx(kx,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-white/60"}),ae.jsx("input",{type:"text",placeholder:"Поиск чатов...",value:i,onChange:t=>o(t.target.value),className:"glass-input w-full pl-12"})]}),ae.jsx("div",{className:"space-y-4",children:0===A.length?ae.jsxs(Ju.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[ae.jsx(xx,{className:"w-16 h-16 text-white/30 mx-auto mb-4"}),ae.jsx("h3",{className:"text-xl font-medium text-white/70 mb-2",children:i?"Чаты не найдены":"Нет чатов"}),ae.jsx("p",{className:"text-white/50",children:i?"Попробуйте изменить поисковый запрос":"Начните новый чат с мастером"})]}):A.map((t,n)=>{var s,a,i,o,l;return ae.jsx(Ju.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*n},children:ae.jsx(GlassCard,{variant:"hover",onClick:()=>N(`/chat/${t.id}`),className:"cursor-pointer",children:ae.jsxs("div",{className:"flex items-center space-x-4 p-4",children:[ae.jsxs("div",{className:"relative",children:[ae.jsx("button",{onClick:n=>{n.stopPropagation();const s=getOtherParticipant(t);"master"===(null==s?void 0:s.role)&&N(`/master/${s.user_id}`)},className:"w-12 h-12 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center text-white font-bold","aria-label":"Канал мастера",children:((null==(s=getOtherParticipant(t))?void 0:s.name)||(null==(a=getOtherParticipant(t))?void 0:a.username)||"U").charAt(0).toUpperCase()}),(null==(i=getOtherParticipant(t))?void 0:i.is_active)&&ae.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 rounded-full border-2 border-slate-900"})]}),ae.jsxs("div",{className:"flex-1 min-w-0",children:[ae.jsxs("div",{className:"flex items-center justify-between mb-1",children:[ae.jsx("h3",{className:"font-medium text-white truncate",children:(null==(o=getOtherParticipant(t))?void 0:o.name)||(null==(l=getOtherParticipant(t))?void 0:l.username)}),ae.jsx("span",{className:"text-xs text-white/60",children:formatTime(t.updatedAt)})]}),ae.jsx("p",{className:"text-sm text-white/70 truncate",children:formatLastMessage(t.lastMessage)})]}),t.unreadCount>0&&ae.jsx("div",{className:"bg-red-500 text-white text-xs px-2 py-1 rounded-full min-w-[20px] text-center",children:t.unreadCount})]})})},t.id)})}),ae.jsx(SelectMasterModal,{isOpen:l,onClose:()=>u(!1),onSelect:handleCreateChat})]})},Ux={subscribe:async t=>Sf.post(`/users/${t}/subscribe`,{}),unsubscribe:async t=>Sf.delete(`/users/${t}/unsubscribe`),getSubscriptions:async t=>Sf.get(`/users/${t}/subscriptions`),getSubscribers:async t=>Sf.get(`/users/${t}/subscribers`),getSubscriptionStatus:async t=>Sf.get(`/users/${t}/subscription-status`),blockUser:async(t,n)=>Sf.post(`/users/${t}/block`,{reason:n}),unblockUser:async t=>Sf.delete(`/users/${t}/unblock`),getBlockedUsers:async()=>Sf.get("/users/blocked"),getBookmarkedVideos:async()=>Sf.get("/videos/bookmarked")},ChatPage=()=>{var t,n,s,a,i,o;const{id:l}=useParams(),u=useNavigate(),{user:m}=useAuth(),[f,x]=H.useState(null),[y,j]=H.useState([]),[w,N]=H.useState(""),[k,C]=H.useState(!0),[T,_]=H.useState(!1),[A,L]=H.useState(null),[M,O]=H.useState(!1),V=H.useRef(null),{socket:B,on:I,off:U}=useSocket(),getOtherParticipant=()=>{if(!(null==f?void 0:f.participants)||0===f.participants.length)return null;const t=f.participants.find(t=>{const n=t.user_id||t.userId||t.id,s=null==m?void 0:m.id;return console.log("[ChatPage] Comparing:",n,"!==",s,"=",n!==s),n!==s});return console.log("[ChatPage] Other participant:",(null==t?void 0:t.name)||(null==t?void 0:t.username)||"NOT FOUND"),t||null};H.useEffect(()=>{l&&(loadChat(),loadMessages())},[l]),H.useEffect(()=>{if(!B||!l)return;console.log(`[ChatPage] Setting up WebSocket listener for chat ${l}`);const handleNewMessage=t=>{console.log("[ChatPage] Received new_message event:",t),console.log("[ChatPage] Current chat ID:",l),console.log("[ChatPage] Event chatId:",t.chatId||t.chat_id),t.chatId===l||t.chat_id===l?(console.log("[ChatPage] Message is for this chat, adding to state"),j(n=>{const s=undefined;return n.some(n=>n.id===t.message.id)?(console.log("[ChatPage] Message already exists, skipping"),n):(console.log("[ChatPage] Adding new message to state"),[...n,t.message])}),scrollToBottom()):console.log("[ChatPage] Message is for different chat, ignoring")},handleUserStatusChange=t=>{console.log("[ChatPage] User status changed:",t),x(n=>n?{...n,participants:n.participants.map(n=>{const s=undefined;return(n.user_id||n.userId||n.id)===t.userId?{...n,is_active:t.isActive}:n})}:n)};return I("new_message",handleNewMessage),I("user_status_changed",handleUserStatusChange),console.log("[ChatPage] Subscribed to new_message and user_status_changed events"),B.onAny&&B.onAny((t,...n)=>{console.log(`[ChatPage] Socket event received: ${t}`,n)}),()=>{console.log("[ChatPage] Unsubscribing from events"),U("new_message",handleNewMessage),U("user_status_changed",handleUserStatusChange)}},[B,l,I,U]),H.useEffect(()=>{scrollToBottom()},[y]);const loadChat=async()=>{try{const t=await Ix.getChat(l);x(t)}catch(t){console.error("Failed to load chat:",t)}},loadMessages=async()=>{try{C(!0);const t=await Ix.getMessages(l);j(t.messages)}catch(t){console.error("Failed to load messages:",t)}finally{C(!1)}},scrollToBottom=()=>{var t;null==(t=V.current)||t.scrollIntoView({behavior:"smooth"})},handleSendMessage=async t=>{var n,s;if(t.preventDefault(),w.trim()&&l)try{L(null);const t=await Ix.sendMessage(l,w.trim());j(n=>[...n,t]),N("")}catch(Xx){console.error("Failed to send message:",Xx);const a=(null==(s=null==(n=Xx.response)?void 0:n.data)?void 0:s.message)||Xx.message||"Не удалось отправить сообщение";L(a),setTimeout(()=>L(null),5e3)}},handleFileUpload=async t=>{var n,s;if(l)try{_(!0),L(null),console.log("[UPLOAD] Starting file upload:",t.name,t.type);const n=await Ix.sendMessageWithFile(l,t,w);console.log("[UPLOAD] Received message from backend:",JSON.stringify(n,null,2)),console.log("[UPLOAD] Message type:",n.type,"file_path:",n.file_path),j(t=>[...t,n]),N("")}catch(Xx){console.error("Failed to send file:",Xx);const a=(null==(s=null==(n=Xx.response)?void 0:n.data)?void 0:s.message)||Xx.message||"Не удалось загрузить файл";L(a),setTimeout(()=>L(null),5e3)}finally{_(!1)}},handleImageButtonClick=()=>{const t=document.getElementById("image-upload");t&&t.click()},handleBlockUser=async()=>{var t,n;const s=getOtherParticipant();if((null==s?void 0:s.user_id)&&confirm(`Заблокировать пользователя ${(null==s?void 0:s.name)||(null==s?void 0:s.username)}?`))try{await Ux.blockUser(s.user_id),O(!1),alert("Пользователь заблокирован"),u("/chat")}catch(Xx){console.error("Failed to block user:",Xx);const a=(null==(n=null==(t=Xx.response)?void 0:t.data)?void 0:n.message)||Xx.message||"Не удалось заблокировать пользователя";L(a),setTimeout(()=>L(null),5e3)}},handleDeleteChat=async()=>{var t,n;if(l&&confirm("Удалить чат? Это действие нельзя отменить."))try{await Ix.deleteChat(l),O(!1),u("/chat")}catch(Xx){console.error("Failed to delete chat:",Xx);const a=(null==(n=null==(t=Xx.response)?void 0:t.data)?void 0:n.message)||Xx.message||"Не удалось удалить чат";L(a),setTimeout(()=>L(null),5e3)}},formatTime=t=>{const n=undefined;return new Date(t).toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"})};return k?ae.jsx("div",{className:"flex items-center justify-center h-96",children:ae.jsx(Ju.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-12 h-12 border-4 border-white/20 border-t-white rounded-full"})}):f?ae.jsxs("div",{className:"h-[calc(100vh-8rem)] flex flex-col pb-20",children:[ae.jsx(Ju.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"glass-card p-4 mb-4",children:ae.jsxs("div",{className:"flex items-center space-x-4",children:[ae.jsx("button",{onClick:()=>u("/chat"),className:"glass-button p-2",children:ae.jsx(Of,{className:"w-5 h-5"})}),ae.jsxs("div",{className:"relative",children:[ae.jsx("button",{onClick:()=>{const t=getOtherParticipant();"master"===(null==t?void 0:t.role)&&u(`/master/${t.user_id}`)},className:"w-10 h-10 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center text-white font-bold","aria-label":"Канал мастера",children:((null==(t=getOtherParticipant())?void 0:t.name)||(null==(n=getOtherParticipant())?void 0:n.username)||"U").charAt(0).toUpperCase()}),(null==(s=getOtherParticipant())?void 0:s.is_active)&&ae.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-green-500 rounded-full border-2 border-slate-900"})]}),ae.jsxs("div",{className:"flex-1",children:[ae.jsx("h3",{className:"font-medium text-white",children:(null==(a=getOtherParticipant())?void 0:a.name)||(null==(i=getOtherParticipant())?void 0:i.username)}),ae.jsx("p",{className:"text-sm text-white/60",children:(null==(o=getOtherParticipant())?void 0:o.is_active)?"В сети":"Не в сети"})]}),ae.jsx("div",{className:"relative",children:ae.jsx("button",{onClick:()=>O(!M),className:"glass-button p-2","aria-label":"Меню",children:ae.jsx(yx,{className:"w-5 h-5"})})})]})}),ae.jsx(AnimatePresence,{children:M&&ae.jsxs(ae.Fragment,{children:[ae.jsx(Ju.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.15},className:"fixed inset-0 z-[9998]",onClick:()=>O(!1)}),ae.jsxs(Ju.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.15},className:"fixed top-20 right-4 w-56 glass-card p-2 z-[9999]",children:[ae.jsxs("button",{onClick:handleBlockUser,className:"w-full flex items-center space-x-3 px-3 py-2 hover:bg-white/10 rounded-lg transition-colors text-left",children:[ae.jsx(Vf,{className:"w-4 h-4 text-red-400"}),ae.jsx("span",{className:"text-white",children:"Заблокировать пользователя"})]}),ae.jsxs("button",{onClick:handleDeleteChat,className:"w-full flex items-center space-x-3 px-3 py-2 hover:bg-white/10 rounded-lg transition-colors text-left",children:[ae.jsx(Rx,{className:"w-4 h-4 text-red-400"}),ae.jsx("span",{className:"text-white",children:"Удалить чат"})]})]})]})}),ae.jsx(Ju.div,{initial:{opacity:0},animate:{opacity:1},className:"flex-1 glass-card p-4 overflow-y-auto scrollbar-hide",children:ae.jsxs("div",{className:"space-y-4",children:[ae.jsx(AnimatePresence,{children:y.map(t=>ae.jsx(Ju.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"flex "+(t.senderId===(null==m?void 0:m.id)?"justify-end":"justify-start"),children:ae.jsxs("div",{className:"max-w-xs lg:max-w-md px-4 py-2 rounded-lg "+(t.senderId===(null==m?void 0:m.id)?"bg-blue-500 text-white":"bg-white/10 text-white"),children:["video"===t.type&&t.metadata&&ae.jsxs("div",{className:"mb-2",children:[ae.jsxs("div",{className:"relative bg-black rounded-lg overflow-hidden cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>{(t.metadata.videoUrl||t.metadata.videoId)&&u(`/?videoId=${t.metadata.videoId}`)},children:[ae.jsx("img",{src:t.metadata.videoThumbnail,alt:t.metadata.videoTitle,className:"w-full h-32 object-cover"}),ae.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-30 flex items-center justify-center",children:ae.jsx("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:ae.jsx("svg",{className:"w-6 h-6 text-white ml-1",fill:"currentColor",viewBox:"0 0 24 24",children:ae.jsx("path",{d:"M8 5v14l11-7z"})})})})]}),ae.jsxs("div",{className:"mt-2",children:[ae.jsx("p",{className:"text-sm font-medium truncate",children:t.metadata.videoTitle}),ae.jsxs("p",{className:"text-xs opacity-70",children:["от ",t.metadata.masterName]})]})]}),"image"===t.type&&t.file_path&&ae.jsx("div",{className:"mb-2",children:ae.jsx("img",{src:t.file_path,alt:"Uploaded image",className:"max-w-xs rounded-lg cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>window.open(t.file_path,"_blank")})}),"video"===t.type&&t.file_path&&!t.metadata&&ae.jsx("div",{className:"mb-2",children:ae.jsx("video",{src:t.file_path,controls:!0,className:"max-w-xs rounded-lg",preload:"metadata",children:"Ваш браузер не поддерживает видео."})}),"file"===t.type&&t.file_path&&ae.jsx("div",{className:"mb-2 p-3 bg-white/10 rounded-lg",children:ae.jsxs("div",{className:"flex items-center space-x-2",children:[ae.jsx("svg",{className:"w-6 h-6 text-white/70",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:ae.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),ae.jsxs("div",{className:"flex-1",children:[ae.jsx("p",{className:"text-sm font-medium",children:t.file_name}),ae.jsx("p",{className:"text-xs text-white/60",children:t.file_size?`${(t.file_size/1024/1024).toFixed(1)} MB`:""})]}),ae.jsx("a",{href:t.file_path,download:t.file_name,className:"text-blue-400 hover:text-blue-300 text-sm",children:"Скачать"})]})}),("text"===t.type||t.content&&!t.content.match(/^\[(Фото|Видео|Файл)/))&&ae.jsx("p",{className:"text-sm",children:t.content}),ae.jsx("p",{className:"text-xs mt-1 "+("current-user"===t.senderId?"text-blue-100":"text-white/60"),children:formatTime(t.createdAt)})]})},t.id))}),ae.jsx("div",{ref:V})]})}),ae.jsx(AnimatePresence,{children:A&&ae.jsx(Ju.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},className:"glass-card p-3 mt-4 bg-red-500/20 border border-red-500/50",children:ae.jsx("p",{className:"text-red-400 text-sm text-center",children:A})})}),ae.jsxs(Ju.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},onSubmit:handleSendMessage,className:"glass-card p-4 mt-4",children:[T&&ae.jsx("div",{className:"mb-2 text-center",children:ae.jsx("p",{className:"text-white/60 text-sm",children:"Загрузка файла..."})}),ae.jsxs("div",{className:"flex items-center space-x-2",children:[ae.jsx("input",{type:"file",id:"image-upload",accept:"image/*",className:"hidden",onChange:t=>{var n;const s=null==(n=t.target.files)?void 0:n[0];s&&handleFileUpload(s)}}),ae.jsx("button",{type:"button",onClick:handleImageButtonClick,className:"glass-button p-2 cursor-pointer inline-flex items-center justify-center",children:ae.jsx(ux,{className:"w-5 h-5"})}),ae.jsx("div",{className:"flex-1",children:ae.jsx("input",{type:"text",value:w,onChange:t=>N(t.target.value),placeholder:"Введите сообщение...",className:"glass-input w-full"})}),ae.jsx(Ju.button,{type:"submit",whileHover:{scale:1.05},whileTap:{scale:.95},disabled:!w.trim()||T,className:"glass-button p-2 disabled:opacity-50 disabled:cursor-not-allowed",children:ae.jsx(Sx,{className:"w-5 h-5"})})]})]})]}):ae.jsxs("div",{className:"text-center py-12",children:[ae.jsx("h3",{className:"text-xl font-medium text-white/70 mb-2",children:"Чат не найден"}),ae.jsx("button",{onClick:()=>u("/chat"),className:"glass-button",children:"Вернуться к списку чатов"})]})},zx={getOrders:async t=>Sf.get("/orders/feed",t),getOrder:async t=>Sf.get(`/orders/${t}`),createOrder:async t=>Sf.upload("/orders/create",t),getCategories:async()=>Sf.get("/orders/categories"),getRegions:async()=>Sf.get("/orders/regions"),createResponse:async(t,n)=>Sf.post(`/orders/${t}/response`,n),getOrderResponses:async t=>Sf.get(`/orders/${t}/responses`),acceptResponse:async(t,n)=>Sf.post(`/orders/${t}/accept`,{responseId:n}),rejectResponse:async(t,n)=>Sf.post(`/orders/${t}/reject`,{responseId:n}),updateOrderStatus:async(t,n)=>Sf.put(`/orders/${t}/status`,{status:n})},OrdersPage=()=>{const[t,n]=H.useState([]),[s,a]=H.useState([]),[i,o]=H.useState(!0),[l,u]=H.useState(""),[m,f]=H.useState(""),[x,y]=H.useState(!1),j=useNavigate(),{user:w}=useAuth(),{on:N}=useSocket();H.useEffect(()=>{loadOrders(),checkMasterVideos()},[m]),H.useEffect(()=>{zx.getRegions().then(a).catch(()=>a([]))},[]);const checkMasterVideos=async()=>{if("master"===(null==w?void 0:w.role))try{const t=await Bx.getVideos({author_id:w.id,limit:1}),n=t.videos&&t.videos.length>0,s=localStorage.getItem("master_welcome_seen");n||s||y(!0)}catch(t){console.error("Failed to check master videos:",t)}},handleCloseWelcome=()=>{y(!1),localStorage.setItem("master_welcome_seen","true")};H.useEffect(()=>{N("new_order_response",t=>{n(n=>n.map(n=>n.id===t.orderId?{...n,responses:[...n.responses||[],t.response]}:n))}),N("order_accepted",t=>{n(n=>n.map(n=>n.id===t.orderId?{...n,masterId:t.masterId,status:"in_progress"}:n))})},[N]);const loadOrders=async()=>{try{o(!0);const t=await zx.getOrders({region:m||void 0});n(t.orders)}catch(t){console.error("Failed to load orders:",t)}finally{o(!1)}},k=t.filter(t=>{const n=undefined;return t.title.toLowerCase().includes(l.toLowerCase())||t.description.toLowerCase().includes(l.toLowerCase())});return i?ae.jsx("div",{className:"flex items-center justify-center h-96",children:ae.jsx(Ju.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-12 h-12 border-4 border-white/20 border-t-white rounded-full"})}):ae.jsxs("div",{className:"space-y-6",children:[ae.jsx(AnimatePresence,{children:x&&"master"===(null==w?void 0:w.role)&&ae.jsx(Ju.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:handleCloseWelcome,children:ae.jsxs(Ju.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},onClick:t=>t.stopPropagation(),className:"glass-card p-8 max-w-2xl w-full relative",children:[ae.jsx("button",{onClick:handleCloseWelcome,className:"absolute top-4 right-4 glass-button p-2 hover:bg-white/10",children:ae.jsx(Fx,{className:"w-5 h-5"})}),ae.jsxs("div",{className:"text-center mb-6",children:[ae.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full flex items-center justify-center mx-auto mb-4",children:ae.jsx(Vx,{className:"w-10 h-10 text-white"})}),ae.jsx("h2",{className:"text-3xl font-bold gradient-text mb-2",children:"Добро пожаловать на MebelPlace! 👋"}),ae.jsx("p",{className:"text-white/70 text-lg",children:"Вы можете начать получать заказы прямо сейчас"})]}),ae.jsxs("div",{className:"space-y-4 mb-6",children:[ae.jsxs("div",{className:"flex items-start space-x-4 p-4 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:[ae.jsx(Wf,{className:"w-6 h-6 text-blue-400 flex-shrink-0 mt-1"}),ae.jsxs("div",{children:[ae.jsx("h3",{className:"font-bold text-white mb-1",children:"Отвечайте на заявки"}),ae.jsx("p",{className:"text-white/70 text-sm",children:"Вы можете отвечать на заявки клиентов и получать заказы уже сейчас!"})]})]}),ae.jsxs("div",{className:"flex items-start space-x-4 p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:[ae.jsx(Vx,{className:"w-6 h-6 text-yellow-400 flex-shrink-0 mt-1"}),ae.jsxs("div",{children:[ae.jsx("h3",{className:"font-bold text-white mb-1",children:"⚠️ Важно: Загрузите видеорекламу"}),ae.jsxs("p",{className:"text-white/70 text-sm mb-2",children:["Пока вы не загрузите хотя бы одно видео с вашими работами,",ae.jsx("strong",{className:"text-yellow-300",children:" клиенты не смогут найти ваш профиль в поиске"}),"."]}),ae.jsx("p",{className:"text-white/70 text-sm",children:"Видео помогает клиентам увидеть качество вашей работы и принять решение о заказе."})]})]})]}),ae.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[ae.jsxs(Ju.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{handleCloseWelcome(),j("/create-video-ad")},className:"flex-1 bg-gradient-to-r from-blue-500 to-purple-500 text-white px-6 py-4 rounded-lg font-bold text-lg flex items-center justify-center space-x-2",children:[ae.jsx(Vx,{className:"w-6 h-6"}),ae.jsx("span",{children:"Создать видеорекламу"})]}),ae.jsx(Ju.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:handleCloseWelcome,className:"glass-button px-6 py-4 font-medium",children:"Позже"})]}),ae.jsx("p",{className:"text-center text-white/50 text-sm mt-4",children:'Вы всегда можете создать видео через кнопку "Создать видеорекламу" в профиле'})]})})}),ae.jsxs(Ju.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center justify-center relative",children:[ae.jsx("h1",{className:"text-3xl font-bold gradient-text",children:"Заявки"}),"user"===(null==w?void 0:w.role)&&ae.jsxs(Ju.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>j("/orders/create"),className:"glass-button flex items-center space-x-2 absolute right-0",children:[ae.jsx(wx,{className:"w-5 h-5"}),ae.jsx("span",{children:"Создать заявку"})]})]}),ae.jsx(Ju.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"glass-card p-4",children:ae.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[ae.jsxs("div",{className:"flex-1 relative",children:[ae.jsx(kx,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-white/60"}),ae.jsx("input",{type:"text",placeholder:"Поиск заявок...",value:l,onChange:t=>u(t.target.value),className:"glass-input w-full pl-12"})]}),ae.jsxs("div",{className:"flex items-center space-x-2",children:[ae.jsx(fx,{className:"w-5 h-5 text-white/60"}),ae.jsxs("select",{value:m,onChange:t=>f(t.target.value),className:"glass-input",children:[ae.jsx("option",{value:"",children:"Все регионы"}),s.map(t=>ae.jsx("option",{value:t,children:t},t))]})]})]})}),ae.jsx("div",{className:"space-y-4",children:0===k.length?ae.jsxs(Ju.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[ae.jsx("h3",{className:"text-xl font-medium text-white/70 mb-2",children:l?"Заявки не найдены":"Нет заявок"}),ae.jsx("p",{className:"text-white/50",children:l?"Попробуйте изменить поисковый запрос":"user"===(null==w?void 0:w.role)?"Создайте свою первую заявку":"Пока нет доступных заявок"})]}):k.map(t=>{var n,s,a,i,o,l,u,m;return ae.jsx(Ju.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:ae.jsx(GlassCard,{variant:"hover",className:"cursor-pointer",children:ae.jsxs("div",{className:"p-6",children:[ae.jsx("div",{className:"flex items-start justify-between mb-4",children:ae.jsxs("div",{className:"flex-1",children:[ae.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:t.title}),ae.jsx("p",{className:"text-white/70 mb-4 line-clamp-2",children:t.description})]})}),ae.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[t.region&&ae.jsxs("div",{className:"flex items-center space-x-2 text-white/70",children:[ae.jsx(fx,{className:"w-5 h-5"}),ae.jsx("span",{children:t.region})]}),t.location&&ae.jsxs("div",{className:"flex items-center space-x-2 text-white/70",children:[ae.jsx(fx,{className:"w-5 h-5"}),ae.jsx("span",{children:"string"==typeof t.location?t.location:t.location.city||t.location.region})]}),ae.jsxs("div",{className:"flex items-center space-x-2 text-white/70",children:[ae.jsx(tx,{className:"w-5 h-5"}),ae.jsx("span",{children:new Date(t.createdAt).toLocaleDateString()})]})]}),ae.jsxs("div",{className:"flex items-center justify-between",children:[ae.jsxs("div",{className:"flex items-center space-x-3",children:[t.master?ae.jsx("button",{onClick:n=>{n.stopPropagation(),j(`/master/${t.master.id}`)},className:"w-8 h-8 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center text-white font-bold","aria-label":"Канал мастера",children:((null==(n=t.master)?void 0:n.name)||(null==(s=t.master)?void 0:s.username)||"M").charAt(0).toUpperCase()}):t.client&&ae.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center text-white font-bold",children:((null==(a=t.client)?void 0:a.name)||(null==(i=t.client)?void 0:i.username)||"C").charAt(0).toUpperCase()}),ae.jsxs("div",{children:[ae.jsx("p",{className:"font-medium text-sm text-white",children:t.master?(null==(o=t.master)?void 0:o.name)||(null==(l=t.master)?void 0:l.username):(null==(u=t.client)?void 0:u.name)||(null==(m=t.client)?void 0:m.username)}),ae.jsx("p",{className:"text-xs text-white/60",children:t.master?"Мастер":"Клиент"})]})]}),(t.responseCount&&t.responseCount>0||t.response_count>0)&&ae.jsx("div",{className:"text-right",children:ae.jsxs("p",{className:"text-sm font-medium text-white",children:[t.responseCount||t.response_count," откликов"]})})]}),ae.jsxs("div",{className:"flex justify-end space-x-3 mt-4",children:[(t.responseCount&&t.responseCount>0||t.response_count>0)&&ae.jsxs(Ju.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>j(`/orders/${t.id}/responses`),className:"glass-button px-4 py-2 text-sm",children:["Просмотреть отклики (",t.responseCount||t.response_count,")"]}),"master"===(null==w?void 0:w.role)&&"pending"===t.status&&!(t.hasMyResponse||t.has_my_response)&&ae.jsx(Ju.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>j(`/orders/${t.id}/respond`),className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-4 py-2 rounded-lg text-sm font-medium",children:"Оставить отклик"}),"master"===(null==w?void 0:w.role)&&"pending"===t.status&&(t.hasMyResponse||t.has_my_response)&&ae.jsxs("div",{className:"px-4 py-2 bg-green-500/20 border border-green-500/30 rounded-lg text-sm font-medium text-green-300 flex items-center space-x-2",children:[ae.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:ae.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),ae.jsx("span",{children:"Отклик отправлен"})]})]})]})})},t.id)})})]})},UserOrdersPage=()=>{const[t,n]=H.useState([]),[s,a]=H.useState(!0),[i,o]=H.useState(""),[l,u]=H.useState("all"),[m,f]=H.useState(null),x=useNavigate(),{on:y}=useSocket();H.useEffect(()=>{loadOrders()},[]),H.useEffect(()=>{y("new_order_response",()=>{loadOrders()})},[y]);const loadOrders=async()=>{var t,s,i;try{a(!0);const o=await zx.getOrders({});console.log("🔍 UserOrdersPage - Loaded orders:",o),console.log("🔍 UserOrdersPage - First order:",null==(t=o.orders)?void 0:t[0]),console.log("🔍 UserOrdersPage - First order responseCount:",null==(i=null==(s=o.orders)?void 0:s[0])?void 0:i.responseCount),n(o.orders||[])}catch(o){console.error("Failed to load orders:",o),n([])}finally{a(!1)}},handleDelete=async t=>{if(window.confirm("Удалить эту заявку?"))try{await zx.updateOrderStatus(t,"cancelled"),n(n=>n.filter(n=>n.id!==t))}catch(s){console.error("Failed to cancel order:",s)}},handlePin=async t=>{try{console.log("Pin order:",t),n(n=>n.map(n=>n.id===t?{...n,isPinned:!n.isPinned}:n))}catch(s){console.error("Failed to pin order:",s)}},j=t.filter(t=>{var n,s;const a=(null==(n=t.title)?void 0:n.toLowerCase().includes(i.toLowerCase()))||(null==(s=t.description)?void 0:s.toLowerCase().includes(i.toLowerCase())),o="all"===l||t.status===l;return a&&o}),getStatusColor=t=>{switch(t){case"pending":return"bg-yellow-500 text-white";case"accepted":return"bg-blue-500 text-white";case"in_progress":return"bg-orange-500 text-white";case"completed":return"bg-green-500 text-white";case"cancelled":return"bg-red-500 text-white";default:return"bg-gray-500 text-white"}},getStatusText=t=>{switch(t){case"pending":return"Открытые";case"accepted":return"Ожидают";case"in_progress":return"В работе";case"completed":return"Завершено";case"cancelled":return"Отменено";default:return t}};return s?ae.jsx("div",{className:"flex items-center justify-center h-96",children:ae.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):ae.jsxs("div",{className:"min-h-screen bg-gray-950 text-white",children:[ae.jsxs("div",{className:"sticky top-0 z-10 bg-gray-900/95 backdrop-blur-md border-b border-gray-800 px-4 py-4",children:[ae.jsx("div",{className:"flex items-center justify-center mb-4",children:ae.jsx("h1",{className:"text-2xl font-bold text-center",children:"Мои заявки"})}),ae.jsx("div",{className:"flex justify-end mb-4",children:ae.jsxs("button",{onClick:()=>x("/orders/create"),className:"flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-orange-500 to-orange-600 rounded-lg shadow-lg hover:shadow-orange-500/25 transition-all",children:[ae.jsx(wx,{size:20}),ae.jsx("span",{className:"font-medium",children:"Создать заявку"})]})}),ae.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[ae.jsxs("div",{className:"flex-1 relative",children:[ae.jsx(kx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),ae.jsx("input",{type:"text",placeholder:"Поиск заявок...",value:i,onChange:t=>o(t.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-orange-500"})]}),ae.jsxs("div",{className:"relative",children:[ae.jsx(ox,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),ae.jsxs("select",{value:l,onChange:t=>u(t.target.value),className:"pl-10 pr-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-orange-500 appearance-none cursor-pointer",children:[ae.jsx("option",{value:"all",children:"Все статусы"}),ae.jsx("option",{value:"pending",children:"Открытые"}),ae.jsx("option",{value:"accepted",children:"Ожидают"}),ae.jsx("option",{value:"in_progress",children:"В работе"}),ae.jsx("option",{value:"completed",children:"Завершено"})]})]})]}),ae.jsxs("div",{className:"mt-3 text-sm text-gray-400 flex items-center space-x-2",children:[ae.jsx("span",{children:"💡"}),ae.jsx("span",{children:"Свайпните справа налево для управления заявкой"})]})]}),ae.jsx("div",{className:"px-4 py-6 space-y-4",children:0===j.length?ae.jsxs("div",{className:"text-center py-12",children:[ae.jsx("div",{className:"text-6xl mb-4",children:"📋"}),ae.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Нет заявок"}),ae.jsx("p",{className:"text-gray-400 mb-6",children:i||"all"!==l?"Попробуйте изменить фильтры поиска":"Создайте свою первую заявку"}),!i&&"all"===l&&ae.jsxs("button",{onClick:()=>x("/orders/create"),className:"px-6 py-3 bg-gradient-to-r from-orange-500 to-orange-600 rounded-lg shadow-lg hover:shadow-orange-500/25 transition-all",children:[ae.jsx(wx,{size:20,className:"inline mr-2"}),"Создать заявку"]})]}):j.map(t=>ae.jsxs(Ju.div,{className:"relative overflow-hidden",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[ae.jsx("div",{className:"absolute inset-0 flex items-center justify-end pr-4 bg-gradient-to-l from-red-500/20 to-transparent",children:ae.jsxs("div",{className:"flex items-center space-x-4",children:[ae.jsx("button",{onClick:()=>handlePin(t.id),className:"w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center",children:ae.jsx(bx,{size:20})}),ae.jsx("button",{onClick:()=>handleDelete(t.id),className:"w-12 h-12 bg-red-500 rounded-full flex items-center justify-center",children:ae.jsx(Rx,{size:20})})]})}),ae.jsxs(Ju.div,{drag:"x",dragConstraints:{left:-120,right:0},dragElastic:.1,onDragEnd:(n,s)=>{s.offset.x<-60?f(t.id):f(null)},className:"relative bg-gray-900 border border-gray-800 rounded-lg p-4 cursor-pointer hover:border-orange-500/50 transition-all",onClick:()=>x(`/orders/${t.id}`),children:[ae.jsxs("div",{className:"flex items-start justify-between mb-3",children:[ae.jsxs("div",{className:"flex-1",children:[ae.jsx("h3",{className:"text-lg font-semibold mb-1",children:t.title}),ae.jsx("p",{className:"text-gray-400 text-sm line-clamp-2",children:t.description})]}),ae.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${getStatusColor(t.status)}`,children:getStatusText(t.status)})]}),ae.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-400 mb-3",children:[ae.jsx("span",{className:"px-3 py-1 bg-gray-800 rounded-full",children:t.category||"Мебель"}),ae.jsxs("div",{className:"flex items-center space-x-1",children:[ae.jsx(tx,{size:14}),ae.jsx("span",{children:new Date(t.createdAt).toLocaleDateString("ru-RU")})]})]}),ae.jsxs("div",{className:"flex items-center justify-between",children:[ae.jsx("div",{className:"text-sm text-gray-400",children:t.responseCount>0?ae.jsxs("span",{children:[t.responseCount," откликов"]}):ae.jsx("span",{children:"0 откликов"})}),t.responseCount>0&&ae.jsxs("button",{onClick:n=>{n.stopPropagation(),x(`/orders/${t.id}/responses`)},className:"flex items-center space-x-2 px-4 py-2 bg-orange-500 rounded-lg hover:bg-orange-600 transition-colors",children:[ae.jsx(rx,{size:16}),ae.jsx("span",{children:"Просмотреть отклики"})]})]})]})]},t.id))})]})},CreateOrderPage=()=>{const t=useNavigate(),{user:n}=useAuth(),[s,a]=H.useState(!1),[i,o]=H.useState(""),[l,u]=H.useState([]),[m,f]=H.useState({title:"",description:"",location:"",region:"",images:[]});H.useEffect(()=>{zx.getRegions().then(u).catch(()=>u([]))},[]);const handleInputChange=t=>{const{name:n,value:s}=t.target;f(t=>({...t,[n]:s}))},handleImageUpload=async t=>{const n=t.target.files;if(!n)return;const s=Array.from(n);f(t=>({...t,images:[...t.images,...s]}))},handleLabelClick=t=>{t.preventDefault();const n=document.getElementById("image-upload");n&&n.click()},handleSubmit=async s=>{var i,l;if(s.preventDefault(),n)if(m.title.trim()&&m.description.trim())try{a(!0),o("");const n=new FormData;n.append("title",m.title),n.append("description",m.description),n.append("location",m.location),n.append("region",m.region),m.images.forEach(t=>{n.append("images",t)}),console.log("Creating order with data:",{title:m.title,description:m.description,location:m.location,region:m.region,imagesCount:m.images.length}),await zx.createOrder(n),t("/user/orders")}catch(u){console.error("Failed to create order:",u),o((null==(l=null==(i=null==u?void 0:u.response)?void 0:i.data)?void 0:l.message)||(null==u?void 0:u.message)||"Не удалось создать заявку. Попробуйте ещё раз.")}finally{a(!1)}else o("Пожалуйста, заполните название и описание заявки")};return ae.jsxs("div",{className:"max-w-2xl mx-auto space-y-6 pb-56",children:[ae.jsxs(Ju.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center space-x-4",children:[ae.jsx("button",{onClick:()=>t("/orders"),className:"glass-button p-2",children:ae.jsx(Of,{className:"w-5 h-5"})}),ae.jsx("h1",{className:"text-3xl font-bold gradient-text",children:"Создать заявку"})]}),ae.jsx(Ju.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:ae.jsx(GlassCard,{className:"p-6",children:ae.jsxs("div",{className:"flex items-start space-x-4",children:[ae.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg flex items-center justify-center flex-shrink-0",children:ae.jsx(ax,{className:"w-6 h-6 text-white"})}),ae.jsxs("div",{children:[ae.jsx("h2",{className:"text-lg font-bold text-white mb-2",children:"Как создать заявку"}),ae.jsxs("ol",{className:"text-white/70 text-sm leading-relaxed space-y-2 list-decimal list-inside",children:[ae.jsx("li",{children:"Прикрепите фото мебели (из интернета или своё)."}),ae.jsx("li",{children:"В описании укажите размеры, цвет и другие параметры."}),ae.jsx("li",{children:"Отправьте заявку — её увидят все мебельные компании."}),ae.jsx("li",{children:"В «Мессенджере» вы получите ответы с ценой и сроками установки."}),ae.jsx("li",{children:"После этого вы сможете обсудить с компаниями все детали напрямую в чате."})]})]})]})})}),ae.jsxs(Ju.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},onSubmit:handleSubmit,className:"space-y-6",children:[ae.jsxs(GlassCard,{className:"p-6",children:[ae.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Основная информация"}),ae.jsxs("div",{className:"space-y-4",children:[ae.jsxs("div",{children:[ae.jsx("label",{className:"block text-sm font-medium text-white/70 mb-2",children:"Название заявки *"}),ae.jsx("input",{type:"text",name:"title",value:m.title,onChange:handleInputChange,required:!0,className:"glass-input w-full",placeholder:"Например: Изготовление кухонного гарнитура"})]}),ae.jsxs("div",{children:[ae.jsx("label",{className:"block text-sm font-medium text-white/70 mb-2",children:"Описание *"}),ae.jsx("textarea",{name:"description",value:m.description,onChange:handleInputChange,required:!0,rows:4,className:"glass-input w-full resize-none",placeholder:"Подробно опишите, что вам нужно..."})]})]})]}),ae.jsxs(GlassCard,{className:"p-6",children:[ae.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Местоположение"}),ae.jsx("div",{className:"space-y-4",children:ae.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[ae.jsxs("div",{children:[ae.jsx("label",{className:"block text-sm font-medium text-white/70 mb-2",children:"Регион *"}),ae.jsxs("div",{className:"relative",children:[ae.jsx(fx,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-white/60"}),ae.jsxs("select",{name:"region",value:m.region,onChange:handleInputChange,required:!0,className:"glass-input w-full pl-12",children:[ae.jsx("option",{value:"",children:"Выберите регион"}),l.map(t=>ae.jsx("option",{value:t,children:t},t))]})]})]}),ae.jsxs("div",{children:[ae.jsx("label",{className:"block text-sm font-medium text-white/70 mb-2",children:"Город *"}),ae.jsxs("div",{className:"relative",children:[ae.jsx(fx,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-white/60"}),ae.jsx("input",{type:"text",name:"location",value:m.location,onChange:handleInputChange,required:!0,className:"glass-input w-full pl-12",placeholder:"Алматы"})]})]})]})})]}),ae.jsxs(GlassCard,{className:"p-6 mb-8",children:[ae.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Фотографии"}),ae.jsxs("div",{className:"space-y-4",children:[ae.jsxs("div",{className:"border-2 border-dashed border-white/20 rounded-lg p-6 text-center",children:[ae.jsx(Ax,{className:"w-12 h-12 text-white/60 mx-auto mb-4"}),ae.jsx("p",{className:"text-white/70 mb-4",children:"Загрузите фотографии для лучшего понимания задачи"}),ae.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:handleImageUpload,className:"hidden",id:"image-upload"}),ae.jsx("button",{type:"button",onClick:handleLabelClick,className:"glass-button cursor-pointer relative z-[60]",children:"Выбрать файлы"})]}),m.images.length>0&&ae.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:m.images.map((t,n)=>ae.jsx("div",{className:"aspect-square bg-white/10 rounded-lg overflow-hidden",children:ae.jsx("img",{src:URL.createObjectURL(t),alt:`Upload ${n+1}`,className:"w-full h-full object-cover"})},n))})]})]}),ae.jsxs("div",{className:"flex justify-end space-x-4 pt-6",children:[ae.jsx("button",{type:"button",onClick:()=>t("/orders"),className:"glass-button",children:"Отмена"}),ae.jsx(Ju.button,{type:"submit",whileHover:{scale:1.05},whileTap:{scale:.95},disabled:s,className:"glass-button bg-gradient-to-r from-orange-500 to-orange-600 disabled:opacity-50",children:s?"Создание...":"Создать заявку"})]})]})]})},OrderResponsesPage=()=>{const{id:t}=useParams(),n=useNavigate(),[s,a]=H.useState(null),[i,o]=H.useState([]),[l,u]=H.useState(!0),[m,f]=H.useState(null);H.useEffect(()=>{t&&loadOrderAndResponses()},[t]);const loadOrderAndResponses=async()=>{try{u(!0);const[n,s]=await Promise.all([zx.getOrder(t),zx.getOrderResponses(t)]);a(n),o(Array.isArray(s)?s:[])}catch(n){console.error("Failed to load order and responses:",n)}finally{u(!1)}},handleAcceptResponse=async s=>{var i,l;try{f(s),console.log("🔍 Accepting response:",s);const u=await zx.acceptResponse(t,s);console.log("🔍 Accept response result:",u),console.log("🔍 Chat ID:",null==(i=null==u?void 0:u.chat)?void 0:i.id),a(t=>({...t,status:"accepted"})),o(t=>t.filter(t=>t.id!==s)),(null==(l=null==u?void 0:u.chat)?void 0:l.id)?(console.log("🔍 Navigating to chat:",u.chat.id),n(`/chat/${u.chat.id}`)):(console.error("❌ No chat ID returned!",u),alert("Чат создан, но не удалось перейти. Проверьте мессенджер."))}catch(u){console.error("Failed to accept response:",u),alert("Ошибка при принятии отклика")}finally{f(null)}},formatTime=t=>{const n=new Date(t),s=new Date,a=Math.floor((s.getTime()-n.getTime())/36e5);return a<1?"только что":a<24?`${a}ч назад`:n.toLocaleDateString("ru-RU")};return l?ae.jsx("div",{className:"flex items-center justify-center h-96",children:ae.jsx(Ju.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-12 h-12 border-4 border-white/20 border-t-white rounded-full"})}):s?ae.jsxs("div",{className:"space-y-6",children:[ae.jsxs(Ju.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center space-x-4",children:[ae.jsx(Ju.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>n("/orders"),className:"glass-button p-2",children:ae.jsx(Of,{className:"w-5 h-5"})}),ae.jsxs("div",{children:[ae.jsx("h1",{className:"text-3xl font-bold gradient-text",children:"Отклики на заявку"}),ae.jsx("p",{className:"text-white/70",children:s.title})]})]}),ae.jsx(Ju.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:ae.jsx(GlassCard,{children:ae.jsxs("div",{className:"p-6",children:[ae.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:s.title}),ae.jsx("p",{className:"text-white/70 mb-4",children:s.description}),ae.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[ae.jsxs("div",{className:"flex items-center space-x-2 text-white/70",children:[ae.jsx(tx,{className:"w-5 h-5"}),ae.jsx("span",{children:s.deadline?new Date(s.deadline).toLocaleDateString("ru-RU"):"Не указано"})]}),ae.jsxs("div",{className:"flex items-center space-x-2 text-white/70",children:[ae.jsx(xx,{className:"w-5 h-5"}),ae.jsxs("span",{children:[i.length," откликов"]})]})]}),s.images&&s.images.length>0&&ae.jsxs("div",{className:"mt-4",children:[ae.jsx("h4",{className:"text-sm font-medium text-white/70 mb-2",children:"Фотографии заявки:"}),ae.jsx("div",{className:"grid grid-cols-3 md:grid-cols-5 gap-2",children:s.images.map((t,n)=>ae.jsx("div",{className:"aspect-square rounded-lg overflow-hidden bg-white/5",children:ae.jsx("img",{src:`https://mebelplace.com.kz${t}`,alt:`Фото ${n+1}`,className:"w-full h-full object-cover cursor-pointer hover:opacity-75 transition-opacity",onClick:()=>window.open(`https://mebelplace.com.kz${t}`,"_blank")})},n))})]})]})})}),ae.jsxs(Ju.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"space-y-4",children:[ae.jsx("h3",{className:"text-xl font-bold text-white",children:"Предложения мастеров"}),0===i.length?ae.jsx(GlassCard,{children:ae.jsxs("div",{className:"text-center py-12",children:[ae.jsx("h3",{className:"text-lg font-medium text-white/70 mb-2",children:"Пока нет откликов"}),ae.jsx("p",{className:"text-white/50",children:"Мастера еще не оставили предложения по вашей заявке"})]})}):i.map((t,s)=>{var a,i,o;return ae.jsx(Ju.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*s},children:ae.jsx(GlassCard,{variant:"hover",children:ae.jsxs("div",{className:"p-6",children:[ae.jsxs("div",{className:"flex items-start justify-between mb-4",children:[ae.jsxs("div",{className:"flex items-center space-x-3",children:[ae.jsx("button",{onClick:()=>{var s;return n(`/master/${null==(s=t.master)?void 0:s.id}`)},className:"w-12 h-12 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center text-white font-bold","aria-label":"Канал мастера",children:(null==(i=null==(a=t.master)?void 0:a.name)?void 0:i.charAt(0).toUpperCase())||"M"}),ae.jsxs("div",{children:[ae.jsx("h4",{className:"font-bold text-white",children:(null==(o=t.master)?void 0:o.name)||"Мастер"}),ae.jsxs("div",{className:"flex items-center space-x-2 text-sm text-white/60",children:[ae.jsx(Px,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),ae.jsx("span",{children:"4.8"}),ae.jsx("span",{children:"•"}),ae.jsx("span",{children:"15 отзывов"})]})]})]}),ae.jsxs("div",{className:"text-right",children:[ae.jsx("p",{className:"text-sm text-white/60",children:"Предложено"}),ae.jsx("p",{className:"text-xs text-white/40",children:formatTime(t.createdAt)})]})]}),ae.jsx("div",{className:"mb-4",children:ae.jsx("p",{className:"text-white/80 mb-3",children:t.message})}),ae.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[t.price&&ae.jsx("div",{className:"flex items-center space-x-2 text-white/70",children:ae.jsxs("span",{className:"font-medium",children:["Цена: ",t.price.toLocaleString()," ₸"]})}),t.deadline&&ae.jsxs("div",{className:"flex items-center space-x-2 text-white/70",children:[ae.jsx(tx,{className:"w-5 h-5"}),ae.jsx("span",{children:new Date(t.deadline).toLocaleDateString("ru-RU")})]})]}),ae.jsxs("div",{className:"flex justify-end space-x-3",children:[ae.jsx(Ju.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:async()=>{var s,a,i;try{if(console.log("🔍 Creating chat with master:",null==(s=t.master)?void 0:s.id),console.log("🔍 Master object:",t.master),!(null==(a=t.master)?void 0:a.id)&&!t.masterId)return console.error("❌ No master ID found!"),void alert("Ошибка: ID мастера не найден");const o=(null==(i=t.master)?void 0:i.id)||t.masterId,l=await Ix.createChatWithUser(o);console.log("🔍 Chat created:",l),n(`/chat/${l.id}`)}catch(qx){console.error("Failed to start chat:",qx),alert("Ошибка при создании чата")}},className:"glass-button px-4 py-2 text-sm",children:"Написать мастеру"}),ae.jsx(Ju.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{var s;const a=(null==(s=t.master)?void 0:s.id)||t.masterId;if(console.log("🔍 Navigating to master profile:",a),!a)return console.error("❌ No master ID!"),void alert("Ошибка: ID мастера не найден");n(`/master/${a}`)},className:"glass-button px-4 py-2 text-sm",children:"Профиль мастера"}),ae.jsx(Ju.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>handleAcceptResponse(t.id),disabled:m===t.id,className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white px-4 py-2 rounded-lg text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:m===t.id?ae.jsxs(ae.Fragment,{children:[ae.jsx(Ju.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-4 h-4 border-2 border-white/20 border-t-white rounded-full"}),ae.jsx("span",{children:"Принимаем..."})]}):ae.jsxs(ae.Fragment,{children:[ae.jsx(Gf,{className:"w-4 h-4"}),ae.jsx("span",{children:"Принять предложение"})]})})]})]})})},t.id)})]})]}):ae.jsxs("div",{className:"text-center py-12",children:[ae.jsx("h3",{className:"text-xl font-medium text-white/70 mb-2",children:"Заявка не найдена"}),ae.jsx("button",{onClick:()=>n("/orders"),className:"glass-button px-4 py-2",children:"Вернуться к заявкам"})]})},OrderRespondPage=()=>{var t;const{id:n}=useParams(),s=useNavigate(),{user:a}=useAuth(),[i,o]=H.useState(null),[l,u]=H.useState(!0),[m,f]=H.useState(!1),[x,y]=H.useState(""),[j,w]=H.useState({message:"",price:"",deadline:""});H.useEffect(()=>{n&&loadOrder()},[n]);const loadOrder=async()=>{var t;try{u(!0);const s=await zx.getOrder(n);console.log("🔍 OrderRespondPage - Loaded order:",s),console.log("🔍 OrderRespondPage - Responses:",null==s?void 0:s.responses),console.log("🔍 OrderRespondPage - Responses length:",null==(t=null==s?void 0:s.responses)?void 0:t.length),o(s)}catch(s){console.error("Failed to load order:",s)}finally{u(!1)}},handleInputChange=t=>{const{name:n,value:s}=t.target;w(t=>({...t,[n]:s}))},handleSubmit=async t=>{var a,i;if(t.preventDefault(),j.message.trim())try{f(!0),y("");const t={message:j.message.trim(),price:j.price?parseFloat(j.price):void 0,deadline:j.deadline?new Date(j.deadline).toISOString():void 0};console.log("Sending response:",t),await zx.createResponse(n,t),s("/orders")}catch(o){console.error("Failed to submit response:",o),y((null==(i=null==(a=null==o?void 0:o.response)?void 0:a.data)?void 0:i.message)||(null==o?void 0:o.message)||"Не удалось отправить предложение. Попробуйте ещё раз.")}finally{f(!1)}else y("Пожалуйста, заполните сообщение")};return l?ae.jsx("div",{className:"flex items-center justify-center h-96",children:ae.jsx(Ju.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-12 h-12 border-4 border-white/20 border-t-white rounded-full"})}):a&&"master"!==a.role&&"admin"!==a.role?ae.jsxs("div",{className:"text-center py-12",children:[ae.jsx("h3",{className:"text-xl font-medium text-white/70 mb-4",children:"Доступ запрещён"}),ae.jsx("p",{className:"text-white/50 mb-4",children:"Только мастера могут откликаться на заявки"}),ae.jsx("button",{onClick:()=>s("/user/orders"),className:"glass-button px-4 py-2",children:"К моим заявкам"})]}):i?ae.jsxs("div",{className:"space-y-6",children:[ae.jsxs(Ju.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center space-x-4",children:[ae.jsx(Ju.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>s("/orders"),className:"glass-button p-2",children:ae.jsx(Of,{className:"w-5 h-5"})}),ae.jsxs("div",{children:[ae.jsx("h1",{className:"text-3xl font-bold gradient-text",children:"Оставить предложение"}),ae.jsx("p",{className:"text-white/70",children:"Ответьте на заявку клиента"})]})]}),ae.jsx(Ju.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:ae.jsx(GlassCard,{children:ae.jsxs("div",{className:"p-6",children:[ae.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:i.title}),ae.jsx("p",{className:"text-white/70 mb-4",children:i.description}),i.images&&i.images.length>0&&ae.jsxs("div",{className:"mb-4",children:[ae.jsx("h3",{className:"text-sm font-medium text-white/70 mb-2",children:"Фотографии клиента:"}),ae.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:i.images.map((t,n)=>ae.jsx("div",{className:"aspect-square rounded-lg overflow-hidden bg-white/5",children:ae.jsx("img",{src:`https://mebelplace.com.kz${t}`,alt:`Фото ${n+1}`,className:"w-full h-full object-cover"})},n))})]}),ae.jsxs("div",{className:"flex items-center space-x-2 text-white/70",children:[ae.jsx(gx,{className:"w-5 h-5"}),ae.jsxs("span",{children:[(null==(t=i.responses)?void 0:t.length)||0," откликов"]})]})]})})}),ae.jsx(Ju.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:ae.jsx(GlassCard,{children:ae.jsxs("div",{className:"p-6",children:[ae.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Ваше предложение"}),ae.jsxs("form",{onSubmit:handleSubmit,className:"space-y-6",children:[ae.jsxs("div",{children:[ae.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Сообщение клиенту *"}),ae.jsx("textarea",{name:"message",value:j.message,onChange:handleInputChange,placeholder:"Опишите, как вы планируете выполнить заказ, какие материалы будете использовать, ваш опыт в подобных работах...",className:"w-full glass-input min-h-[120px] resize-none",required:!0}),ae.jsx("p",{className:"text-xs text-white/50 mt-1",children:"Чем подробнее опишете ваше предложение, тем больше шансов, что клиент выберет именно вас"})]}),ae.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[ae.jsxs("div",{children:[ae.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Ваша цена (₸)"}),ae.jsx("input",{type:"number",name:"price",value:j.price,onChange:handleInputChange,placeholder:"Укажите стоимость",className:"w-full glass-input",min:"0"})]}),ae.jsxs("div",{children:[ae.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Срок выполнения"}),ae.jsx("input",{type:"date",name:"deadline",value:j.deadline,onChange:handleInputChange,className:"w-full glass-input",min:(new Date).toISOString().split("T")[0]})]})]}),x&&ae.jsx(Ju.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-500/10 border border-red-500/20 rounded-lg p-4",children:ae.jsx("p",{className:"text-red-400 text-sm",children:x})}),ae.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-lg p-4",children:[ae.jsx("h4",{className:"font-medium text-blue-300 mb-2",children:"💡 Советы для успешного отклика:"}),ae.jsxs("ul",{className:"text-sm text-blue-200/80 space-y-1",children:[ae.jsx("li",{children:"• Опишите ваш опыт в подобных работах"}),ae.jsx("li",{children:"• Укажите, какие материалы планируете использовать"}),ae.jsx("li",{children:"• Предложите несколько вариантов решения"}),ae.jsx("li",{children:"• Приложите фото ваших предыдущих работ (если есть)"}),ae.jsx("li",{children:"• Будьте готовы ответить на вопросы клиента"})]})]}),ae.jsxs("div",{className:"flex justify-end space-x-3",children:[ae.jsx(Ju.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>s("/orders"),className:"glass-button px-6 py-3",children:"Отмена"}),ae.jsx(Ju.button,{type:"submit",whileHover:{scale:1.05},whileTap:{scale:.95},disabled:!j.message.trim()||m,className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-6 py-3 rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:m?ae.jsxs(ae.Fragment,{children:[ae.jsx(Ju.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-4 h-4 border-2 border-white/20 border-t-white rounded-full"}),ae.jsx("span",{children:"Отправляем..."})]}):ae.jsxs(ae.Fragment,{children:[ae.jsx(Sx,{className:"w-4 h-4"}),ae.jsx("span",{children:"Отправить предложение"})]})})]})]})]})})})]}):ae.jsxs("div",{className:"text-center py-12",children:[ae.jsx("h3",{className:"text-xl font-medium text-white/70 mb-2",children:"Заявка не найдена"}),ae.jsx("button",{onClick:()=>s("/orders"),className:"glass-button px-4 py-2",children:"Вернуться к заявкам"})]})},OrderDetailPage=()=>{const{id:t}=useParams(),n=useNavigate(),{user:s}=useAuth(),[a,i]=H.useState(null),[o,l]=H.useState(!0),[u,m]=H.useState(null);H.useEffect(()=>{t&&loadOrder()},[t]);const loadOrder=async()=>{try{l(!0);const n=await zx.getOrder(t);i(n)}catch(n){console.error("Failed to load order:",n)}finally{l(!1)}},getStatusColor=t=>{switch(t){case"pending":return"bg-yellow-500 text-white";case"accepted":return"bg-blue-500 text-white";case"in_progress":return"bg-orange-500 text-white";case"completed":return"bg-green-500 text-white";case"cancelled":return"bg-red-500 text-white";default:return"bg-gray-500 text-white"}},getStatusText=t=>{switch(t){case"pending":return"Открытая";case"accepted":return"Принята";case"in_progress":return"В работе";case"completed":return"Завершена";case"cancelled":return"Отменена";default:return t}};if(o)return ae.jsx("div",{className:"flex items-center justify-center h-96",children:ae.jsx(Ju.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-12 h-12 border-4 border-white/20 border-t-white rounded-full"})});if(!a)return ae.jsxs("div",{className:"text-center py-12",children:[ae.jsx("h3",{className:"text-xl font-medium text-white/70 mb-2",children:"Заявка не найдена"}),ae.jsx("button",{onClick:()=>n("/orders"),className:"glass-button px-4 py-2",children:"Вернуться к заявкам"})]});const f=(null==s?void 0:s.id)===a.clientId,x="master"===(null==s?void 0:s.role),y=x&&"pending"===a.status&&!a.hasMyResponse;return ae.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto",children:[ae.jsx(Ju.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center justify-between",children:ae.jsxs("div",{className:"flex items-center space-x-4",children:[ae.jsx(Ju.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>n(-1),className:"glass-button p-2",children:ae.jsx(Of,{className:"w-5 h-5"})}),ae.jsxs("div",{children:[ae.jsx("h1",{className:"text-3xl font-bold gradient-text",children:"Детали заявки"}),ae.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-medium mt-2 ${getStatusColor(a.status)}`,children:getStatusText(a.status)})]})]})}),ae.jsx(Ju.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:ae.jsx(GlassCard,{children:ae.jsxs("div",{className:"p-6",children:[ae.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:a.title}),ae.jsx("p",{className:"text-white/70 mb-6 whitespace-pre-wrap",children:a.description}),a.images&&a.images.length>0&&ae.jsxs("div",{className:"mb-6",children:[ae.jsxs("h3",{className:"text-lg font-medium text-white/80 mb-3",children:["Фотографии (",a.images.length,")"]}),ae.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:a.images.map((t,n)=>ae.jsx(Ju.div,{whileHover:{scale:1.05},className:"aspect-square rounded-lg overflow-hidden bg-white/5 cursor-pointer",onClick:()=>m(t),children:ae.jsx("img",{src:`https://mebelplace.com.kz${t}`,alt:`Фото ${n+1}`,className:"w-full h-full object-cover"})},n))})]}),ae.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[a.price&&ae.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-white/5 rounded-lg",children:[ae.jsx(nx,{className:"w-5 h-5 text-green-400"}),ae.jsxs("div",{children:[ae.jsx("p",{className:"text-sm text-white/60",children:"Бюджет"}),ae.jsxs("p",{className:"text-lg font-semibold text-white",children:[a.price.toLocaleString()," ₸"]})]})]}),a.deadline&&ae.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-white/5 rounded-lg",children:[ae.jsx(tx,{className:"w-5 h-5 text-blue-400"}),ae.jsxs("div",{children:[ae.jsx("p",{className:"text-sm text-white/60",children:"Срок"}),ae.jsx("p",{className:"text-lg font-semibold text-white",children:new Date(a.deadline).toLocaleDateString("ru-RU")})]})]}),a.region&&ae.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-white/5 rounded-lg",children:[ae.jsx(fx,{className:"w-5 h-5 text-orange-400"}),ae.jsxs("div",{children:[ae.jsx("p",{className:"text-sm text-white/60",children:"Регион"}),ae.jsx("p",{className:"text-lg font-semibold text-white",children:a.region})]})]}),a.location&&ae.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-white/5 rounded-lg",children:[ae.jsx(fx,{className:"w-5 h-5 text-purple-400"}),ae.jsxs("div",{children:[ae.jsx("p",{className:"text-sm text-white/60",children:"Город"}),ae.jsx("p",{className:"text-lg font-semibold text-white",children:a.location})]})]}),ae.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-white/5 rounded-lg",children:[ae.jsx(tx,{className:"w-5 h-5 text-gray-400"}),ae.jsxs("div",{children:[ae.jsx("p",{className:"text-sm text-white/60",children:"Создана"}),ae.jsx("p",{className:"text-lg font-semibold text-white",children:new Date(a.createdAt).toLocaleDateString("ru-RU")})]})]}),a.category&&ae.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-white/5 rounded-lg",children:[ae.jsx("div",{className:"w-5 h-5 text-yellow-400",children:"📦"}),ae.jsxs("div",{children:[ae.jsx("p",{className:"text-sm text-white/60",children:"Категория"}),ae.jsx("p",{className:"text-lg font-semibold text-white",children:a.category})]})]})]}),(a.clientUsername||a.clientFirstName)&&ae.jsx("div",{className:"p-4 bg-white/5 rounded-lg",children:ae.jsxs("div",{className:"flex items-center space-x-3",children:[ae.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center text-white font-bold",children:ae.jsx(Dx,{className:"w-6 h-6"})}),ae.jsxs("div",{children:[ae.jsx("p",{className:"text-sm text-white/60",children:"Клиент"}),ae.jsx("p",{className:"text-lg font-semibold text-white",children:a.clientFirstName&&a.clientLastName?`${a.clientFirstName} ${a.clientLastName}`:a.clientUsername||"Клиент"}),a.clientPhone&&ae.jsx("p",{className:"text-sm text-white/50",children:a.clientPhone})]})]})})]})})}),ae.jsxs(Ju.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex flex-wrap gap-3",children:[f&&a.responses&&a.responses.length>0&&ae.jsxs(Ju.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>n(`/orders/${t}/responses`),className:"glass-button bg-gradient-to-r from-blue-500 to-purple-500 flex items-center space-x-2",children:[ae.jsx(rx,{className:"w-4 h-4"}),ae.jsxs("span",{children:["Просмотреть отклики (",a.responses.length,")"]})]}),y&&ae.jsxs(Ju.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>n(`/orders/${t}/respond`),className:"glass-button bg-gradient-to-r from-green-500 to-emerald-500 flex items-center space-x-2",children:[ae.jsx(xx,{className:"w-4 h-4"}),ae.jsx("span",{children:"Оставить отклик"})]}),x&&a.hasMyResponse&&ae.jsxs("div",{className:"px-4 py-2 bg-green-500/20 border border-green-500/30 rounded-lg text-sm font-medium text-green-300 flex items-center space-x-2",children:[ae.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:ae.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),ae.jsx("span",{children:"Вы уже откликнулись"})]})]}),u&&ae.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:()=>m(null),children:ae.jsxs(Ju.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"relative max-w-4xl max-h-[90vh]",children:[ae.jsx("img",{src:`https://mebelplace.com.kz${u}`,alt:"Увеличенное фото",className:"max-w-full max-h-[90vh] object-contain rounded-lg"}),ae.jsx("button",{onClick:()=>m(null),className:"absolute top-4 right-4 glass-button p-2",children:"✕"})]})})]})},ProfilePage=()=>{var t;const{user:n,updateUser:s,logout:a}=useAuth(),i=useNavigate(),[o,l]=H.useState("videos"),[u,m]=H.useState(!1),[f,x]=H.useState([]),[y,j]=H.useState([]),[w,N]=H.useState([]),[k,C]=H.useState(!0),[T,_]=H.useState(!0),[A,L]=H.useState(!0),[M,O]=H.useState(null),[V,B]=H.useState(!1),[I,U]=H.useState(0);H.useEffect(()=>{n&&(loadFullUserData(),loadBookmarkedVideos(),loadSubscriptions(),"master"===n.role&&loadMasterVideos())},[n]);const loadBookmarkedVideos=async()=>{try{C(!0);const t=await Ux.getBookmarkedVideos(),n=(t.data||t||[]).map(t=>({...t,videoUrl:t.video_url||t.videoUrl,thumbnailUrl:t.thumbnail_url||t.thumbnailUrl,authorId:t.author_id||t.authorId,masterId:t.master_id||t.masterId,likesCount:t.likes_count||t.likesCount||t.likes,commentsCount:t.comments_count||t.commentsCount||t.comments,viewsCount:t.views_count||t.viewsCount||t.views,createdAt:t.created_at||t.createdAt,updatedAt:t.updated_at||t.updatedAt}));x(n)}catch(t){console.error("Failed to load bookmarks:",t),x([])}finally{C(!1)}},loadFullUserData=async()=>{if(n)try{const t=await Sf.get(`/users/${n.id}`);t&&O(t)}catch(t){console.error("Failed to load full user data:",t)}},loadMasterVideos=async()=>{if(n)try{_(!0);const t=undefined,s=((await Bx.getVideos({author_id:n.id,limit:50})).videos||[]).map(t=>({...t,videoUrl:t.video_url||t.videoUrl,thumbnailUrl:t.thumbnail_url||t.thumbnailUrl,authorId:t.author_id||t.authorId,masterId:t.master_id||t.masterId,likesCount:t.likes_count||t.likesCount||t.likes,commentsCount:t.comments_count||t.commentsCount||t.comments,viewsCount:t.views_count||t.viewsCount||t.views,createdAt:t.created_at||t.createdAt,updatedAt:t.updated_at||t.updatedAt}));j(s)}catch(t){console.error("Failed to load master videos:",t),j([])}finally{_(!1)}},loadSubscriptions=async()=>{if(n)try{L(!0);const t=await Ux.getSubscriptions(n.id);N(t.data||t||[])}catch(t){console.error("Failed to load subscriptions:",t),N([])}finally{L(!1)}},handleAvatarChange=async t=>{var a;const i=null==(a=t.target.files)?void 0:a[0];if(i&&n)try{const t=new FormData;t.append("avatar",i);const a=await Sf.put("/auth/profile",t);a.avatar&&s({...n,avatar:a.avatar})}catch(o){console.error("Failed to update avatar:",o)}},formatCount=t=>t>=1e6?`${(t/1e6).toFixed(1)}M`:t>=1e3?`${(t/1e3).toFixed(1)}K`:t.toString();if(!n)return ae.jsx("div",{className:"text-center py-12",children:ae.jsx("h3",{className:"text-xl font-medium text-white/70 mb-2",children:"Пользователь не найден"})});const z=(n.firstName&&n.lastName?`${n.firstName} ${n.lastName}`:n.username)||"Пользователь";return V?ae.jsx("div",{className:"fixed inset-0 z-50 bg-black",children:ae.jsx(VideoPlayer,{videos:"master"===n.role?y:f,initialIndex:I,onClose:()=>B(!1),onVideoChange:t=>{console.log("Viewing video:",t.id)}})}):ae.jsxs("div",{className:"min-h-screen bg-black text-white",children:[ae.jsx("div",{className:"fixed top-0 left-0 right-0 z-40 bg-black/80 backdrop-blur-md border-b border-white/10",children:ae.jsxs("div",{className:"flex items-center justify-between p-4",children:[ae.jsx("button",{onClick:()=>i("/"),className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:ae.jsx(Of,{className:"w-6 h-6"})}),ae.jsx("h1",{className:"text-lg font-semibold",children:"Профиль"}),ae.jsx("button",{onClick:()=>a(),className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:ae.jsx(px,{className:"w-6 h-6"})})]})}),ae.jsxs("div",{className:"pt-20 pb-20",children:[ae.jsx(Ju.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"px-4 mb-6",children:ae.jsxs("div",{className:"flex flex-col items-center mb-6",children:[ae.jsxs(Ju.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.6},className:"relative mb-4",children:[ae.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br from-pink-500 via-yellow-400 to-cyan-400 p-1",children:ae.jsx("div",{className:"w-full h-full rounded-full bg-gray-900 flex items-center justify-center overflow-hidden",children:(null==n?void 0:n.avatar)?ae.jsx("img",{src:n.avatar,alt:z,className:"w-full h-full object-cover"}):ae.jsx("span",{className:"text-2xl font-bold text-white",children:z.charAt(0).toUpperCase()})})}),ae.jsx("label",{htmlFor:"avatar-upload",className:"absolute bottom-0 right-0 w-8 h-8 bg-pink-500 rounded-full flex items-center justify-center cursor-pointer hover:scale-110 transition-transform border-3 border-gray-900",children:ae.jsx(Hf,{className:"w-4 h-4 text-white"})}),ae.jsx("input",{id:"avatar-upload",type:"file",accept:"image/*",onChange:handleAvatarChange,className:"hidden"})]}),ae.jsxs("h2",{className:"text-xl font-bold mb-2",children:["@",null==(t=n.username)?void 0:t.toLowerCase().replace(/\s/g,"_")]}),ae.jsx("p",{className:"text-white/70 text-center text-sm max-w-xs mb-4",children:n.bio||"Добавьте описание в настройках профиля"}),"master"===n.role&&ae.jsxs("div",{className:"flex items-center gap-8 mb-6",children:[ae.jsxs("div",{className:"text-center",children:[ae.jsx("div",{className:"text-lg font-bold",children:formatCount((null==M?void 0:M.followingCount)||0)}),ae.jsx("div",{className:"text-xs text-white/60",children:"Подписки"})]}),ae.jsxs("div",{className:"text-center",children:[ae.jsx("div",{className:"text-lg font-bold",children:formatCount((null==M?void 0:M.subscribersCount)||0)}),ae.jsx("div",{className:"text-xs text-white/60",children:"Подписчики"})]}),ae.jsxs("div",{className:"text-center",children:[ae.jsx("div",{className:"text-lg font-bold",children:formatCount(y.reduce((t,n)=>t+Number(n.likeCount||n.likesCount||n.likes||0),0))}),ae.jsx("div",{className:"text-xs text-white/60",children:"Лайки"})]})]}),ae.jsx("button",{onClick:()=>m(!u),className:"px-6 py-2 bg-white/10 rounded-full text-sm font-medium hover:bg-white/20 transition-colors",children:u?"Отменить":"Редактировать"})]})}),"master"===n.role&&ae.jsxs(Ju.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"px-4 mb-6",children:[ae.jsxs("div",{className:"flex items-center justify-center space-x-8 mb-6",children:[ae.jsx("button",{onClick:()=>l("videos"),className:"px-4 py-2 rounded-full text-sm font-medium transition-all "+("videos"===o?"bg-pink-500 text-white":"text-white/60 hover:text-white"),children:"Видео"}),ae.jsx("button",{onClick:()=>l("drafts"),className:"px-4 py-2 rounded-full text-sm font-medium transition-all "+("drafts"===o?"bg-pink-500 text-white":"text-white/60 hover:text-white"),children:"Черновики"})]}),"videos"===o&&ae.jsx("div",{className:"grid grid-cols-3 gap-1",children:T?Array.from({length:6}).map((t,n)=>ae.jsx("div",{className:"aspect-[9/16] bg-white/10 rounded-lg animate-pulse"},n)):y.length>0?y.map((t,n)=>ae.jsxs(Ju.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.05*n},className:"relative aspect-[9/16] bg-white/10 rounded-lg overflow-hidden cursor-pointer group",onClick:()=>{U(n),B(!0)},children:[ae.jsx("img",{src:t.thumbnailUrl,alt:t.title,className:"w-full h-full object-cover"}),ae.jsx("div",{className:"absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:ae.jsx(jx,{className:"w-8 h-8 text-white"})}),ae.jsx("div",{className:"absolute bottom-2 left-2 right-2",children:ae.jsxs("div",{className:"flex items-center space-x-2 text-white text-xs",children:[ae.jsx(cx,{className:"w-3 h-3"}),ae.jsx("span",{children:formatCount(t.likeCount||t.likesCount||t.likes||0)})]})})]},t.id)):ae.jsxs("div",{className:"col-span-3 text-center py-12",children:[ae.jsx(Hf,{className:"w-12 h-12 text-white/40 mx-auto mb-4"}),ae.jsx("h3",{className:"text-lg font-medium text-white/70 mb-2",children:"Пока нет видео"}),ae.jsx("p",{className:"text-sm text-white/50 mb-4",children:"Загрузите первое видео, чтобы начать"}),ae.jsx("button",{onClick:()=>i("/create-video"),className:"px-6 py-2 bg-pink-500 rounded-full text-sm font-medium hover:bg-pink-600 transition-colors",children:"Загрузить видео"})]})}),"drafts"===o&&ae.jsxs("div",{className:"text-center py-12",children:[ae.jsx(Ff,{className:"w-12 h-12 text-white/40 mx-auto mb-4"}),ae.jsx("h3",{className:"text-lg font-medium text-white/70 mb-2",children:"Черновики"}),ae.jsx("p",{className:"text-sm text-white/50",children:"Здесь будут сохранены ваши черновики"})]})]}),ae.jsxs(Ju.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"px-4 mb-6",children:[ae.jsxs("div",{className:"flex items-center justify-between mb-4",children:[ae.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[ae.jsx(cx,{className:"w-5 h-5 mr-2"}),"Избранное"]}),ae.jsxs("span",{className:"text-sm text-white/60",children:[f.length," видео"]})]}),k?ae.jsx("div",{className:"grid grid-cols-3 gap-1",children:Array.from({length:3}).map((t,n)=>ae.jsx("div",{className:"aspect-[9/16] bg-white/10 rounded-lg animate-pulse"},n))}):f.length>0?ae.jsx("div",{className:"grid grid-cols-3 gap-1",children:f.map((t,n)=>ae.jsxs(Ju.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.05*n},className:"relative aspect-[9/16] bg-white/10 rounded-lg overflow-hidden cursor-pointer group",onClick:()=>{const n=undefined,s=[...y,...f].findIndex(n=>n.id===t.id);-1!==s&&(U(s),B(!0))},children:[ae.jsx("img",{src:t.thumbnailUrl,alt:t.title,className:"w-full h-full object-cover"}),ae.jsx("div",{className:"absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:ae.jsx(jx,{className:"w-8 h-8 text-white"})}),ae.jsx("div",{className:"absolute bottom-2 left-2 right-2",children:ae.jsxs("div",{className:"flex items-center space-x-2 text-white text-xs",children:[ae.jsx(cx,{className:"w-3 h-3"}),ae.jsx("span",{children:formatCount(t.likeCount||t.likesCount||t.likes||0)})]})})]},t.id))}):ae.jsxs("div",{className:"text-center py-8",children:[ae.jsx(cx,{className:"w-12 h-12 text-white/40 mx-auto mb-4"}),ae.jsx("h3",{className:"text-lg font-medium text-white/70 mb-2",children:"Пока нет избранных видео"}),ae.jsx("p",{className:"text-sm text-white/50",children:"Добавляйте видео в избранное, чтобы легко найти их позже"})]})]}),ae.jsxs(Ju.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"px-4",children:[ae.jsxs("div",{className:"flex items-center justify-between mb-4",children:[ae.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[ae.jsx(Dx,{className:"w-5 h-5 mr-2"}),"Подписки"]}),ae.jsxs("span",{className:"text-sm text-white/60",children:[w.length," мастеров"]})]}),A?ae.jsx("div",{className:"space-y-3",children:Array.from({length:3}).map((t,n)=>ae.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-white/5 rounded-lg animate-pulse",children:[ae.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full"}),ae.jsxs("div",{className:"flex-1",children:[ae.jsx("div",{className:"h-4 bg-white/20 rounded w-1/3 mb-2"}),ae.jsx("div",{className:"h-3 bg-white/10 rounded w-1/2"})]})]},n))}):w.length>0?ae.jsx("div",{className:"space-y-3",children:w.map((t,n)=>{var s;return ae.jsxs(Ju.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*n},className:"flex items-center space-x-3 p-3 bg-white/5 rounded-lg hover:bg-white/10 transition-colors cursor-pointer",onClick:()=>i(`/master/${t.id}`),children:[ae.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-pink-500 to-purple-500 flex items-center justify-center",children:t.avatar?ae.jsx("img",{src:t.avatar,alt:t.name,className:"w-full h-full rounded-full object-cover"}):ae.jsx("span",{className:"text-white font-bold text-sm",children:null==(s=t.name)?void 0:s.charAt(0).toUpperCase()})}),ae.jsxs("div",{className:"flex-1",children:[ae.jsx("h4",{className:"text-white font-medium",children:t.name}),ae.jsxs("p",{className:"text-white/60 text-sm",children:["@",t.username]})]}),ae.jsx("button",{className:"text-pink-500 hover:text-pink-400 transition-colors",children:ae.jsx(Dx,{className:"w-4 h-4"})})]},t.id)})}):ae.jsxs("div",{className:"text-center py-8",children:[ae.jsx(Dx,{className:"w-12 h-12 text-white/40 mx-auto mb-4"}),ae.jsx("h3",{className:"text-lg font-medium text-white/70 mb-2",children:"Пока нет подписок"}),ae.jsx("p",{className:"text-sm text-white/50",children:"Подписывайтесь на мастеров, чтобы видеть их новые видео"})]})]})]})]})},MasterChannelPage=()=>{var t;const{id:n}=useParams(),s=useNavigate(),{user:a}=useAuth(),[i,o]=H.useState(null),[l,u]=H.useState([]),[m,f]=H.useState(!0),[x,y]=H.useState(!1),[j,w]=H.useState(!1),[N,k]=H.useState(0),{on:C}=useSocket();H.useEffect(()=>{n&&(loadMasterInfo(),loadMasterVideos(),loadSubscriptionStatus())},[n]),H.useEffect(()=>{C("video_liked",t=>{u(n=>n.map(n=>n.id===t.videoId?{...n,isLiked:t.isLiked,likesCount:t.likesCount}:n))}),C("new_comment",t=>{u(n=>n.map(n=>n.id===t.videoId?{...n,commentsCount:(n.commentsCount||0)+1}:n))})},[C]);const loadMasterInfo=async()=>{if(n)try{const t=await Sf.get(`/users/${n}`);t&&o(t)}catch(t){console.error("Failed to load master info:",t)}},loadMasterVideos=async()=>{try{f(!0);const t=await Bx.getVideos({author_id:n,limit:50});u(t.videos)}catch(t){console.error("Failed to load master videos:",t)}finally{f(!1)}},loadSubscriptionStatus=async()=>{if(n&&a)try{const t=await Ux.getSubscriptionStatus(n);y((null==t?void 0:t.isSubscribed)||!1)}catch(t){console.error("Failed to load subscription status:",t)}},handleSubscribe=async()=>{if(n)if(a)try{x?(await Ux.unsubscribe(n),y(!1),i&&o({...i,subscribersCount:(i.subscribersCount||0)-1})):(await Ux.subscribe(n),y(!0),i&&o({...i,subscribersCount:(i.subscribersCount||0)+1}))}catch(t){console.error("Failed to toggle subscription:",t)}else s("/login")},formatCount=t=>t>=1e6?`${(t/1e6).toFixed(1)}M`:t>=1e3?`${(t/1e3).toFixed(1)}K`:t.toString();if(m)return ae.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:ae.jsx(Ju.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-12 h-12 border-4 border-white/20 border-t-white rounded-full"})});if(!i)return ae.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:ae.jsxs("div",{className:"text-center text-white/70",children:[ae.jsx("h3",{className:"text-xl font-medium mb-2",children:"Мастер не найден"}),ae.jsx("button",{onClick:()=>s("/"),className:"px-6 py-2 bg-pink-500 rounded-full text-sm font-medium hover:bg-pink-600 transition-colors",children:"На главную"})]})});if(j)return ae.jsx("div",{className:"fixed inset-0 z-50 bg-black",children:ae.jsx(VideoPlayer,{videos:l,initialIndex:N,onClose:()=>w(!1),onVideoChange:t=>{console.log("Viewing video:",t.id)}})});const T=i.name||i.username||"Мастер";return ae.jsxs("div",{className:"min-h-screen bg-black text-white",children:[ae.jsx("div",{className:"fixed top-0 left-0 right-0 z-40 bg-black/80 backdrop-blur-md border-b border-white/10",children:ae.jsxs("div",{className:"flex items-center justify-between p-4",children:[ae.jsx("button",{onClick:()=>s("/"),className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:ae.jsx(Of,{className:"w-6 h-6"})}),ae.jsx("h1",{className:"text-lg font-semibold",children:"Канал мастера"}),ae.jsx("button",{className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:ae.jsx(Ex,{className:"w-6 h-6"})})]})}),ae.jsxs("div",{className:"pt-20 pb-20",children:[ae.jsx(Ju.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"px-4 mb-6",children:ae.jsxs("div",{className:"flex flex-col items-center mb-6",children:[ae.jsx(Ju.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.6},className:"relative mb-4",children:ae.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br from-pink-500 via-yellow-400 to-cyan-400 p-1",children:ae.jsx("div",{className:"w-full h-full rounded-full bg-gray-900 flex items-center justify-center overflow-hidden",children:(null==i?void 0:i.avatar)?ae.jsx("img",{src:i.avatar,alt:T,className:"w-full h-full object-cover"}):ae.jsx("span",{className:"text-2xl font-bold text-white",children:T.charAt(0).toUpperCase()})})})}),ae.jsxs("h2",{className:"text-xl font-bold mb-2",children:["@",null==(t=i.username)?void 0:t.toLowerCase().replace(/\s/g,"_")]}),ae.jsx("p",{className:"text-white/70 text-center text-sm max-w-xs mb-4",children:i.bio||"Описание мастера"}),ae.jsxs("div",{className:"flex items-center gap-8 mb-6",children:[ae.jsxs("div",{className:"text-center",children:[ae.jsx("div",{className:"text-lg font-bold",children:formatCount(i.followingCount||0)}),ae.jsx("div",{className:"text-xs text-white/60",children:"Подписки"})]}),ae.jsxs("div",{className:"text-center",children:[ae.jsx("div",{className:"text-lg font-bold",children:formatCount(i.subscribersCount||0)}),ae.jsx("div",{className:"text-xs text-white/60",children:"Подписчики"})]}),ae.jsxs("div",{className:"text-center",children:[ae.jsx("div",{className:"text-lg font-bold",children:formatCount(l.reduce((t,n)=>t+Number(n.likeCount||n.likesCount||n.likes||0),0))}),ae.jsx("div",{className:"text-xs text-white/60",children:"Лайки"})]})]}),ae.jsx("button",{onClick:handleSubscribe,className:"px-6 py-2 rounded-full text-sm font-medium transition-colors "+(x?"bg-white/20 text-white hover:bg-white/30":"bg-pink-500 text-white hover:bg-pink-600"),children:x?ae.jsxs(ae.Fragment,{children:[ae.jsx(Lx,{className:"w-4 h-4 mr-2 inline"}),"Подписаны"]}):ae.jsxs(ae.Fragment,{children:[ae.jsx(Mx,{className:"w-4 h-4 mr-2 inline"}),"Подписаться"]})})]})}),ae.jsxs(Ju.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"px-4",children:[ae.jsxs("div",{className:"flex items-center justify-between mb-4",children:[ae.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[ae.jsx(lx,{className:"w-5 h-5 mr-2"}),"Видео"]}),ae.jsxs("span",{className:"text-sm text-white/60",children:[l.length," видео"]})]}),l.length>0?ae.jsx("div",{className:"grid grid-cols-3 gap-1",children:l.map((t,n)=>ae.jsxs(Ju.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.05*n},className:"relative aspect-[9/16] bg-white/10 rounded-lg overflow-hidden cursor-pointer group",onClick:()=>{k(n),w(!0)},children:[ae.jsx("img",{src:t.thumbnailUrl,alt:t.title,className:"w-full h-full object-cover"}),ae.jsx("div",{className:"absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:ae.jsx(jx,{className:"w-8 h-8 text-white"})}),ae.jsx("div",{className:"absolute bottom-2 left-2 right-2",children:ae.jsxs("div",{className:"flex items-center space-x-2 text-white text-xs",children:[ae.jsx(cx,{className:"w-3 h-3"}),ae.jsx("span",{children:formatCount(t.likeCount||t.likesCount||t.likes||0)})]})})]},t.id))}):ae.jsxs("div",{className:"text-center py-12",children:[ae.jsx(lx,{className:"w-12 h-12 text-white/40 mx-auto mb-4"}),ae.jsx("h3",{className:"text-lg font-medium text-white/70 mb-2",children:"Пока нет видео"}),ae.jsx("p",{className:"text-sm text-white/50",children:"Мастер еще не загрузил видео"})]})]})]})]})},AdminDashboard=()=>{const[t,n]=H.useState(null),[s,a]=H.useState(!0),[i,o]=H.useState("7d");H.useEffect(()=>{loadDashboardData()},[i]);const loadDashboardData=async()=>{try{a(!0);const t=await Sf.get(`/admin/dashboard?period=${i}`);n(t)}catch(t){console.error("Failed to load dashboard data:",t)}finally{a(!1)}},formatNumber=t=>t>=1e6?(t/1e6).toFixed(1)+"M":t>=1e3?(t/1e3).toFixed(1)+"K":t.toString();return s?ae.jsx("div",{className:"p-6",children:ae.jsxs("div",{className:"animate-pulse",children:[ae.jsx("div",{className:"h-8 bg-gray-600 rounded w-1/4 mb-6"}),ae.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[...Array(6)].map((t,n)=>ae.jsx("div",{className:"bg-gray-600 h-24 rounded"},n))})]})}):t?ae.jsxs("div",{className:"p-6",children:[ae.jsxs("div",{className:"flex justify-between items-center mb-6",children:[ae.jsx("h2",{className:"text-2xl font-bold text-white",children:"Дашборд"}),ae.jsxs("select",{value:i,onChange:t=>o(t.target.value),className:"bg-gray-700 text-white border border-gray-600 rounded-md px-3 py-2 text-sm focus:outline-none focus:border-orange-500",children:[ae.jsx("option",{value:"1d",children:"Последние 24 часа"}),ae.jsx("option",{value:"7d",children:"Последние 7 дней"}),ae.jsx("option",{value:"30d",children:"Последние 30 дней"}),ae.jsx("option",{value:"90d",children:"Последние 90 дней"})]})]}),ae.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[ae.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg p-6 text-white",children:ae.jsxs("div",{className:"flex items-center justify-between",children:[ae.jsxs("div",{children:[ae.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"Всего пользователей"}),ae.jsx("p",{className:"text-3xl font-bold",children:formatNumber(t.overview.totalUsers)})]}),ae.jsx("div",{className:"text-blue-200",children:ae.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 20 20",children:ae.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),ae.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600 rounded-lg p-6 text-white",children:ae.jsxs("div",{className:"flex items-center justify-between",children:[ae.jsxs("div",{children:[ae.jsx("p",{className:"text-green-100 text-sm font-medium",children:"Всего видео"}),ae.jsx("p",{className:"text-3xl font-bold",children:formatNumber(t.overview.totalVideos)})]}),ae.jsx("div",{className:"text-green-200",children:ae.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 20 20",children:ae.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})})})]})}),ae.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 rounded-lg p-6 text-white",children:ae.jsxs("div",{className:"flex items-center justify-between",children:[ae.jsxs("div",{children:[ae.jsx("p",{className:"text-purple-100 text-sm font-medium",children:"Всего просмотров"}),ae.jsx("p",{className:"text-3xl font-bold",children:formatNumber(t.overview.totalViews)})]}),ae.jsx("div",{className:"text-purple-200",children:ae.jsxs("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 20 20",children:[ae.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),ae.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]})})]})}),ae.jsx("div",{className:"bg-gradient-to-r from-red-500 to-red-600 rounded-lg p-6 text-white",children:ae.jsxs("div",{className:"flex items-center justify-between",children:[ae.jsxs("div",{children:[ae.jsx("p",{className:"text-red-100 text-sm font-medium",children:"Всего лайков"}),ae.jsx("p",{className:"text-3xl font-bold",children:formatNumber(t.overview.totalLikes)})]}),ae.jsx("div",{className:"text-red-200",children:ae.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 20 20",children:ae.jsx("path",{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"})})})]})}),ae.jsx("div",{className:"bg-gradient-to-r from-yellow-500 to-yellow-600 rounded-lg p-6 text-white",children:ae.jsxs("div",{className:"flex items-center justify-between",children:[ae.jsxs("div",{children:[ae.jsx("p",{className:"text-yellow-100 text-sm font-medium",children:"Новых пользователей"}),ae.jsx("p",{className:"text-3xl font-bold",children:formatNumber(t.overview.newUsers)})]}),ae.jsx("div",{className:"text-yellow-200",children:ae.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 20 20",children:ae.jsx("path",{d:"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3z"})})})]})}),ae.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-indigo-600 rounded-lg p-6 text-white",children:ae.jsxs("div",{className:"flex items-center justify-between",children:[ae.jsxs("div",{children:[ae.jsx("p",{className:"text-indigo-100 text-sm font-medium",children:"Новых видео"}),ae.jsx("p",{className:"text-3xl font-bold",children:formatNumber(t.overview.newVideos)})]}),ae.jsx("div",{className:"text-indigo-200",children:ae.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 20 20",children:ae.jsx("path",{d:"M2 6a2 2 0 012-2h6a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6zM14.553 7.106A1 1 0 0014 8v4a1 1 0 00.553.894l2 1A1 1 0 0018 13V7a1 1 0 00-1.447-.894l-2 1z"})})})]})})]}),ae.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[ae.jsxs("div",{className:"bg-gray-800 rounded-lg shadow",children:[ae.jsx("div",{className:"p-6 border-b border-gray-700",children:ae.jsx("h3",{className:"text-lg font-semibold text-white",children:"Топ видео"})}),ae.jsx("div",{className:"p-6",children:ae.jsx("div",{className:"space-y-4",children:t.topVideos.slice(0,5).map((t,n)=>ae.jsxs("div",{className:"flex items-center justify-between",children:[ae.jsxs("div",{className:"flex items-center space-x-3",children:[ae.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-gray-700 rounded-full flex items-center justify-center",children:ae.jsxs("span",{className:"text-sm font-medium text-gray-300",children:["#",n+1]})}),ae.jsxs("div",{className:"flex-1 min-w-0",children:[ae.jsx("p",{className:"text-sm font-medium text-white truncate",children:t.title}),ae.jsxs("p",{className:"text-sm text-gray-400",children:["@",t.username]})]})]}),ae.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-400",children:[ae.jsxs("span",{className:"flex items-center",children:[ae.jsxs("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:[ae.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),ae.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}),formatNumber(t.views)]}),ae.jsxs("span",{className:"flex items-center",children:[ae.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:ae.jsx("path",{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"})}),formatNumber(t.likes)]})]})]},t.id))})})]}),ae.jsxs("div",{className:"bg-gray-800 rounded-lg shadow",children:[ae.jsx("div",{className:"p-6 border-b border-gray-700",children:ae.jsx("h3",{className:"text-lg font-semibold text-white",children:"Статистика по категориям"})}),ae.jsx("div",{className:"p-6",children:ae.jsx("div",{className:"space-y-4",children:t.categoryStats.map((t,n)=>ae.jsxs("div",{className:"flex items-center justify-between",children:[ae.jsxs("div",{className:"flex-1",children:[ae.jsx("p",{className:"text-sm font-medium text-white",children:t.category}),ae.jsxs("p",{className:"text-sm text-gray-400",children:[t.count," видео"]})]}),ae.jsxs("div",{className:"text-sm text-gray-400",children:[ae.jsxs("p",{children:["Ср. просмотры: ",Math.round(t.avg_views)]}),ae.jsxs("p",{children:["Ср. лайки: ",Math.round(t.avg_likes)]})]})]},n))})})]})]})]}):ae.jsx("div",{className:"p-6 text-center",children:ae.jsx("p",{className:"text-gray-400",children:"Не удалось загрузить данные дашборда"})})},VideoManagement=()=>{const[t,n]=H.useState([]),[s,a]=H.useState(!0),[i,o]=H.useState(1),[l,u]=H.useState(1),[m,f]=H.useState({status:"",category:"",search:""}),[x,y]=H.useState(!1),[j,w]=H.useState(!1),[N,k]=H.useState({title:"",description:"",category:"general",tags:"",priorityOrder:"",isFeatured:!1});H.useEffect(()=>{loadVideos()},[i,m]);const loadVideos=async()=>{var t;try{a(!0);const s={page:i,limit:20,...m},o=await Sf.get("/admin/videos",s);n(o.videos||[]),u((null==(t=o.pagination)?void 0:t.pages)||1)}catch(s){console.error("Failed to load videos:",s)}finally{a(!1)}},handleUpload=async t=>{var n;t.preventDefault();try{w(!0);const t=new FormData,s=document.getElementById("video-file");if(!(null==(n=null==s?void 0:s.files)?void 0:n[0]))return void alert("Выберите видео файл");t.append("video",s.files[0]),t.append("title",N.title),t.append("description",N.description),t.append("category",N.category),t.append("tags",N.tags),N.priorityOrder&&t.append("priorityOrder",N.priorityOrder),t.append("isFeatured",N.isFeatured.toString()),await Sf.upload("/admin/videos/upload",t),y(!1),k({title:"",description:"",category:"general",tags:"",priorityOrder:"",isFeatured:!1}),loadVideos()}catch(s){console.error("Failed to upload video:",s),alert("Ошибка загрузки видео")}finally{w(!1)}},handleStatusChange=async(t,n,s)=>{try{await Sf.put(`/admin/videos/${t}/status`,{[n]:s}),loadVideos()}catch(a){console.error("Failed to update video status:",a)}},handlePriorityUpdate=async(t,n,s)=>{try{await Sf.put(`/admin/videos/${t}/priority`,{priorityOrder:n,isFeatured:s}),loadVideos()}catch(a){console.error("Failed to update video priority:",a)}},handleDelete=async t=>{if(confirm("Вы уверены, что хотите удалить это видео?"))try{await Sf.delete(`/admin/videos/${t}`),loadVideos()}catch(n){console.error("Failed to delete video:",n)}},formatDate=t=>new Date(t).toLocaleDateString("ru-RU",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),formatNumber=t=>t>=1e6?(t/1e6).toFixed(1)+"M":t>=1e3?(t/1e3).toFixed(1)+"K":t.toString();return ae.jsxs("div",{className:"p-6",children:[ae.jsxs("div",{className:"flex justify-between items-center mb-6",children:[ae.jsx("h2",{className:"text-2xl font-bold text-white",children:"Управление видео"}),ae.jsx("button",{onClick:()=>y(!0),className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-md text-sm font-medium",children:"Загрузить видео"})]}),ae.jsx("div",{className:"bg-gray-800 rounded-lg shadow mb-6 p-4",children:ae.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[ae.jsxs("div",{children:[ae.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Статус"}),ae.jsxs("select",{value:m.status,onChange:t=>f({...m,status:t.target.value}),className:"w-full border border-gray-600 rounded-md px-3 py-2 text-sm bg-gray-700 text-white",children:[ae.jsx("option",{value:"",children:"Все"}),ae.jsx("option",{value:"active",children:"Активные"}),ae.jsx("option",{value:"inactive",children:"Неактивные"}),ae.jsx("option",{value:"featured",children:"Рекомендуемые"})]})]}),ae.jsxs("div",{children:[ae.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Категория"}),ae.jsxs("select",{value:m.category,onChange:t=>f({...m,category:t.target.value}),className:"w-full border border-gray-600 rounded-md px-3 py-2 text-sm bg-gray-700 text-white",children:[ae.jsx("option",{value:"",children:"Все категории"}),ae.jsx("option",{value:"general",children:"Общее"}),ae.jsx("option",{value:"furniture",children:"Мебель"}),ae.jsx("option",{value:"design",children:"Дизайн"}),ae.jsx("option",{value:"tutorial",children:"Обучение"})]})]}),ae.jsxs("div",{children:[ae.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Поиск"}),ae.jsx("input",{type:"text",value:m.search,onChange:t=>f({...m,search:t.target.value}),placeholder:"Поиск по названию...",className:"w-full border border-gray-600 rounded-md px-3 py-2 text-sm bg-gray-700 text-white"})]})]})}),ae.jsxs("div",{className:"bg-gray-800 rounded-lg shadow overflow-hidden",children:[ae.jsx("div",{className:"overflow-x-auto",children:ae.jsxs("table",{className:"min-w-full divide-y divide-gray-700",children:[ae.jsx("thead",{className:"bg-gray-700",children:ae.jsxs("tr",{children:[ae.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Видео"}),ae.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Автор"}),ae.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Статистика"}),ae.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Приоритет"}),ae.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Статус"}),ae.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Дата"}),ae.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Действия"})]})}),ae.jsx("tbody",{className:"bg-gray-800 divide-y divide-gray-700",children:s?ae.jsx("tr",{children:ae.jsx("td",{colSpan:7,className:"px-6 py-4 text-center text-gray-400",children:"Загрузка..."})}):0===t.length?ae.jsx("tr",{children:ae.jsx("td",{colSpan:7,className:"px-6 py-4 text-center text-gray-400",children:"Видео не найдены"})}):t.map(t=>ae.jsxs("tr",{className:"hover:bg-gray-700",children:[ae.jsx("td",{className:"px-6 py-4",children:ae.jsxs("div",{className:"flex items-center",children:[ae.jsx("div",{className:"flex-shrink-0 h-16 w-24 bg-gray-600 rounded-md overflow-hidden",children:t.thumbnail_url?ae.jsx("img",{src:t.thumbnail_url,alt:t.title,className:"h-full w-full object-cover"}):ae.jsx("div",{className:"h-full w-full flex items-center justify-center",children:ae.jsx("svg",{className:"h-8 w-8 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:ae.jsx("path",{d:"M2 6a2 2 0 012-2h6a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6zM14.553 7.106A1 1 0 0014 8v4a1 1 0 00.553.894l2 1A1 1 0 0018 13V7a1 1 0 00-1.447-.894l-2 1z"})})})}),ae.jsxs("div",{className:"ml-4",children:[ae.jsx("div",{className:"text-sm font-medium text-white max-w-xs truncate",children:t.title}),ae.jsx("div",{className:"text-sm text-gray-400 max-w-xs truncate",children:t.description})]})]})}),ae.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[ae.jsxs("div",{className:"text-sm text-white",children:[t.first_name," ",t.last_name]}),ae.jsxs("div",{className:"text-sm text-gray-400",children:["@",t.username]})]}),ae.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ae.jsx("div",{className:"text-sm text-white",children:ae.jsxs("div",{className:"flex items-center space-x-4",children:[ae.jsxs("span",{className:"flex items-center",children:[ae.jsxs("svg",{className:"w-4 h-4 mr-1 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:[ae.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),ae.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}),formatNumber(t.views)]}),ae.jsxs("span",{className:"flex items-center",children:[ae.jsx("svg",{className:"w-4 h-4 mr-1 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:ae.jsx("path",{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"})}),formatNumber(t.like_count)]})]})})}),ae.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ae.jsxs("div",{className:"flex items-center space-x-2",children:[ae.jsx("input",{type:"number",value:t.priority_order||"",onChange:n=>{const s=n.target.value?parseInt(n.target.value):0;handlePriorityUpdate(t.id,s,t.is_featured||!1)},className:"w-16 border border-gray-600 rounded px-2 py-1 text-sm",placeholder:"0"}),ae.jsxs("label",{className:"flex items-center",children:[ae.jsx("input",{type:"checkbox",checked:t.is_featured||!1,onChange:n=>{handlePriorityUpdate(t.id,t.priority_order||0,n.target.checked)},className:"rounded border-gray-600 text-orange-500 shadow-sm focus:border-orange-300 focus:ring focus:ring-orange-200 focus:ring-opacity-50"}),ae.jsx("span",{className:"ml-2 text-sm text-gray-300",children:"Рекомендуемое"})]})]})}),ae.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ae.jsxs("div",{className:"flex flex-col space-y-1",children:[ae.jsxs("label",{className:"flex items-center",children:[ae.jsx("input",{type:"checkbox",checked:t.is_active,onChange:n=>handleStatusChange(t.id,"isActive",n.target.checked),className:"rounded border-gray-600 text-green-400 shadow-sm focus:border-green-300 focus:ring focus:ring-green-200 focus:ring-opacity-50"}),ae.jsx("span",{className:"ml-2 text-sm text-gray-300",children:"Активно"})]}),ae.jsxs("label",{className:"flex items-center",children:[ae.jsx("input",{type:"checkbox",checked:t.is_public,onChange:n=>handleStatusChange(t.id,"isPublic",n.target.checked),className:"rounded border-gray-600 text-orange-500 shadow-sm focus:border-orange-300 focus:ring focus:ring-orange-200 focus:ring-opacity-50"}),ae.jsx("span",{className:"ml-2 text-sm text-gray-300",children:"Публично"})]})]})}),ae.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-400",children:formatDate(t.created_at)}),ae.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:ae.jsx("button",{onClick:()=>handleDelete(t.id),className:"text-red-400 hover:text-red-300",children:"Удалить"})})]},t.id))})]})}),l>1&&ae.jsxs("div",{className:"bg-gray-800 px-4 py-3 flex items-center justify-between border-t border-gray-700 sm:px-6",children:[ae.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[ae.jsx("button",{onClick:()=>o(Math.max(1,i-1)),disabled:1===i,className:"relative inline-flex items-center px-4 py-2 border border-gray-600 text-sm font-medium rounded-md text-gray-300 bg-gray-800 hover:bg-gray-700 disabled:opacity-50",children:"Предыдущая"}),ae.jsx("button",{onClick:()=>o(Math.min(l,i+1)),disabled:i===l,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-600 text-sm font-medium rounded-md text-gray-300 bg-gray-800 hover:bg-gray-700 disabled:opacity-50",children:"Следующая"})]}),ae.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[ae.jsx("div",{children:ae.jsxs("p",{className:"text-sm text-gray-300",children:["Страница ",ae.jsx("span",{className:"font-medium",children:i})," из"," ",ae.jsx("span",{className:"font-medium",children:l})]})}),ae.jsx("div",{children:ae.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[ae.jsx("button",{onClick:()=>o(Math.max(1,i-1)),disabled:1===i,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-600 bg-gray-800 text-sm font-medium text-gray-400 hover:bg-gray-700 disabled:opacity-50",children:"Предыдущая"}),ae.jsx("button",{onClick:()=>o(Math.min(l,i+1)),disabled:i===l,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-600 bg-gray-800 text-sm font-medium text-gray-400 hover:bg-gray-700 disabled:opacity-50",children:"Следующая"})]})})]})]})]}),x&&ae.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:ae.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-gray-800",children:ae.jsxs("div",{className:"mt-3",children:[ae.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Загрузить видео"}),ae.jsxs("form",{onSubmit:handleUpload,className:"space-y-4",children:[ae.jsxs("div",{children:[ae.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Видео файл"}),ae.jsx("input",{id:"video-file",type:"file",accept:"video/*",required:!0,className:"w-full border border-gray-600 rounded-md px-3 py-2 text-sm bg-gray-700 text-white"})]}),ae.jsxs("div",{children:[ae.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Название"}),ae.jsx("input",{type:"text",value:N.title,onChange:t=>k({...N,title:t.target.value}),required:!0,className:"w-full border border-gray-600 rounded-md px-3 py-2 text-sm bg-gray-700 text-white"})]}),ae.jsxs("div",{children:[ae.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Описание"}),ae.jsx("textarea",{value:N.description,onChange:t=>k({...N,description:t.target.value}),rows:3,className:"w-full border border-gray-600 rounded-md px-3 py-2 text-sm bg-gray-700 text-white"})]}),ae.jsxs("div",{children:[ae.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Категория"}),ae.jsxs("select",{value:N.category,onChange:t=>k({...N,category:t.target.value}),className:"w-full border border-gray-600 rounded-md px-3 py-2 text-sm bg-gray-700 text-white",children:[ae.jsx("option",{value:"general",children:"Общее"}),ae.jsx("option",{value:"furniture",children:"Мебель"}),ae.jsx("option",{value:"design",children:"Дизайн"}),ae.jsx("option",{value:"tutorial",children:"Обучение"})]})]}),ae.jsxs("div",{children:[ae.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Теги (через запятую)"}),ae.jsx("input",{type:"text",value:N.tags,onChange:t=>k({...N,tags:t.target.value}),placeholder:"мебель, дизайн, интерьер",className:"w-full border border-gray-600 rounded-md px-3 py-2 text-sm bg-gray-700 text-white"})]}),ae.jsxs("div",{children:[ae.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Порядок приоритета"}),ae.jsx("input",{type:"number",value:N.priorityOrder,onChange:t=>k({...N,priorityOrder:t.target.value}),placeholder:"0",className:"w-full border border-gray-600 rounded-md px-3 py-2 text-sm bg-gray-700 text-white"})]}),ae.jsx("div",{children:ae.jsxs("label",{className:"flex items-center",children:[ae.jsx("input",{type:"checkbox",checked:N.isFeatured,onChange:t=>k({...N,isFeatured:t.target.checked}),className:"rounded border-gray-600 text-orange-500 shadow-sm focus:border-orange-300 focus:ring focus:ring-orange-200 focus:ring-opacity-50"}),ae.jsx("span",{className:"ml-2 text-sm text-gray-300",children:"Рекомендуемое видео"})]})}),ae.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[ae.jsx("button",{type:"button",onClick:()=>y(!1),className:"px-4 py-2 text-sm font-medium text-gray-300 bg-gray-700 hover:bg-gray-600 rounded-md",children:"Отмена"}),ae.jsx("button",{type:"submit",disabled:j,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-md disabled:opacity-50",children:j?"Загрузка...":"Загрузить"})]})]})]})})})]})},UserManagement=()=>{const[t,n]=H.useState([]),[s,a]=H.useState(!0),[i,o]=H.useState(1),[l,u]=H.useState(1),[m,f]=H.useState({role:"",search:""});H.useEffect(()=>{loadUsers()},[i,m]);const loadUsers=async()=>{var t;try{a(!0);const s={page:i,limit:20,...m},o=await Sf.get("/admin/users",s);n(o.users||[]),u((null==(t=o.pagination)?void 0:t.pages)||1)}catch(s){console.error("Failed to load users:",s)}finally{a(!1)}},handleStatusChange=async(t,n,s)=>{try{await Sf.put(`/admin/users/${t}/status`,{[n]:s}),loadUsers()}catch(a){console.error("Failed to update user status:",a),alert("Ошибка обновления статуса пользователя")}},handleViewUser=t=>{window.open(`/profile/${t.id}`,"_blank")},handleSendMessage=t=>{window.location.href=`/chat?userId=${t.id}`},formatDate=t=>new Date(t).toLocaleDateString("ru-RU",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),getRoleBadgeColor=t=>{switch(t){case"admin":return"bg-red-100 text-red-800";case"master":return"bg-blue-100 text-blue-800";case"user":return"bg-green-100 text-green-800";default:return"bg-gray-700 text-gray-800"}},getRoleLabel=t=>{switch(t){case"admin":return"Админ";case"master":return"Мастер";case"user":return"Пользователь";default:return t}};return ae.jsxs("div",{className:"p-6",children:[ae.jsx("div",{className:"flex justify-between items-center mb-6",children:ae.jsx("h2",{className:"text-2xl font-bold text-white",children:"Управление пользователями"})}),ae.jsx("div",{className:"bg-gray-800 rounded-lg shadow mb-6 p-4",children:ae.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[ae.jsxs("div",{children:[ae.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Роль"}),ae.jsxs("select",{value:m.role,onChange:t=>f({...m,role:t.target.value}),className:"w-full bg-gray-700 text-white border border-gray-600 rounded-md px-3 py-2 text-sm focus:outline-none focus:border-orange-500",children:[ae.jsx("option",{value:"",children:"Все роли"}),ae.jsx("option",{value:"admin",children:"Админы"}),ae.jsx("option",{value:"master",children:"Мастера"}),ae.jsx("option",{value:"user",children:"Пользователи"})]})]}),ae.jsxs("div",{children:[ae.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Поиск"}),ae.jsx("input",{type:"text",value:m.search,onChange:t=>f({...m,search:t.target.value}),placeholder:"Поиск по имени, email или username...",className:"w-full bg-gray-700 text-white placeholder-gray-400 border border-gray-600 rounded-md px-3 py-2 text-sm focus:outline-none focus:border-orange-500"})]})]})}),ae.jsxs("div",{className:"bg-gray-800 rounded-lg shadow overflow-hidden",children:[ae.jsx("div",{className:"overflow-x-auto",children:ae.jsxs("table",{className:"min-w-full divide-y divide-gray-700",children:[ae.jsx("thead",{className:"bg-gray-700",children:ae.jsxs("tr",{children:[ae.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Пользователь"}),ae.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Телефон"}),ae.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Роль"}),ae.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Статистика"}),ae.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Статус"}),ae.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Дата регистрации"}),ae.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Действия"})]})}),ae.jsx("tbody",{className:"bg-gray-800 divide-y divide-gray-700",children:s?ae.jsx("tr",{children:ae.jsx("td",{colSpan:7,className:"px-6 py-4 text-center text-gray-400",children:"Загрузка..."})}):0===t.length?ae.jsx("tr",{children:ae.jsx("td",{colSpan:7,className:"px-6 py-4 text-center text-gray-400",children:"Пользователи не найдены"})}):t.map(t=>{var n,s;return ae.jsxs("tr",{className:"hover:bg-gray-700",children:[ae.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ae.jsxs("div",{className:"flex items-center",children:[ae.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:ae.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-orange-500 to-orange-600 flex items-center justify-center",children:ae.jsxs("span",{className:"text-sm font-medium text-white",children:[null==(n=t.first_name)?void 0:n[0],null==(s=t.last_name)?void 0:s[0]]})})}),ae.jsxs("div",{className:"ml-4",children:[ae.jsxs("div",{className:"text-sm font-medium text-white",children:[t.first_name," ",t.last_name]}),ae.jsxs("div",{className:"text-sm text-gray-400",children:["@",t.username]}),t.email&&ae.jsx("div",{className:"text-sm text-gray-400",children:t.email})]})]})}),ae.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ae.jsx("div",{className:"text-sm text-white",children:t.phone||"Не указан"})}),ae.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ae.jsxs("div",{className:"flex items-center space-x-2",children:[ae.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${getRoleBadgeColor(t.role)}`,children:getRoleLabel(t.role)}),ae.jsxs("select",{value:t.role,onChange:n=>handleStatusChange(t.id,"role",n.target.value),className:"text-xs bg-gray-700 text-white border border-gray-600 rounded px-2 py-1 focus:outline-none focus:border-orange-500",children:[ae.jsx("option",{value:"user",children:"Пользователь"}),ae.jsx("option",{value:"master",children:"Мастер"}),ae.jsx("option",{value:"admin",children:"Админ"})]})]})}),ae.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-400",children:ae.jsxs("div",{className:"space-y-1",children:[ae.jsxs("div",{children:["Видео: ",t.video_count]}),ae.jsxs("div",{children:["Заказы: ",t.order_count]})]})}),ae.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ae.jsxs("div",{className:"flex flex-col space-y-2",children:[ae.jsxs("label",{className:"flex items-center",children:[ae.jsx("input",{type:"checkbox",checked:t.is_active,onChange:n=>handleStatusChange(t.id,"isActive",n.target.checked),className:"rounded border-gray-300 text-green-600 shadow-sm focus:border-green-300 focus:ring focus:ring-green-200 focus:ring-opacity-50"}),ae.jsx("span",{className:"ml-2 text-sm text-gray-300",children:"Активен"})]}),ae.jsxs("div",{className:"flex items-center",children:[ae.jsx("div",{className:"w-2 h-2 rounded-full mr-2 "+(t.is_verified?"bg-green-400":"bg-gray-400")}),ae.jsx("span",{className:"text-sm text-gray-300",children:t.is_verified?"Подтвержден":"Не подтвержден"})]})]})}),ae.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-400",children:formatDate(t.created_at)}),ae.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:ae.jsxs("div",{className:"flex space-x-2",children:[ae.jsx("button",{onClick:()=>handleViewUser(t),className:"text-blue-400 hover:text-blue-300 hover:underline",children:"Просмотр"}),ae.jsx("button",{onClick:()=>handleSendMessage(t),className:"text-green-400 hover:text-green-300 hover:underline",children:"Сообщение"})]})})]},t.id)})})]})}),l>1&&ae.jsxs("div",{className:"bg-gray-800 px-4 py-3 flex items-center justify-between border-t border-gray-700 sm:px-6",children:[ae.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[ae.jsx("button",{onClick:()=>o(Math.max(1,i-1)),disabled:1===i,className:"relative inline-flex items-center px-4 py-2 border border-gray-600 text-sm font-medium rounded-md text-white bg-gray-700 hover:bg-gray-600 disabled:opacity-50",children:"Предыдущая"}),ae.jsx("button",{onClick:()=>o(Math.min(l,i+1)),disabled:i===l,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-600 text-sm font-medium rounded-md text-white bg-gray-700 hover:bg-gray-600 disabled:opacity-50",children:"Следующая"})]}),ae.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[ae.jsx("div",{children:ae.jsxs("p",{className:"text-sm text-gray-300",children:["Страница ",ae.jsx("span",{className:"font-medium",children:i})," из"," ",ae.jsx("span",{className:"font-medium",children:l})]})}),ae.jsx("div",{children:ae.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[ae.jsx("button",{onClick:()=>o(Math.max(1,i-1)),disabled:1===i,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-600 bg-gray-700 text-sm font-medium text-white hover:bg-gray-600 disabled:opacity-50",children:"Предыдущая"}),ae.jsx("button",{onClick:()=>o(Math.min(l,i+1)),disabled:i===l,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-600 bg-gray-700 text-sm font-medium text-white hover:bg-gray-600 disabled:opacity-50",children:"Следующая"})]})})]})]})]})]})},AnalyticsDashboard=()=>{const[t,n]=H.useState([]),[s,a]=H.useState(!0),[i,o]=H.useState("7d"),[l,u]=H.useState("day");H.useEffect(()=>{loadAnalytics()},[i,l]);const loadAnalytics=async()=>{try{a(!0);const t=undefined,s=(await Sf.get("/admin/analytics/videos",{period:i,groupBy:l})||[]).map(t=>({...t,count:Number(t.count)||0,avg_duration:Number(t.avg_duration)||0,avg_completion:Number(t.avg_completion)||0}));n(s)}catch(t){console.error("Failed to load analytics:",t)}finally{a(!1)}},formatDate=t=>{const n=new Date(t);switch(l){case"hour":return n.toLocaleString("ru-RU",{month:"short",day:"numeric",hour:"2-digit"});case"day":return n.toLocaleDateString("ru-RU",{month:"short",day:"numeric"});case"week":return`Неделя ${Math.ceil(n.getDate()/7)}`;default:return n.toLocaleDateString("ru-RU")}},formatDuration=t=>{const n=undefined,s=undefined;return`${Math.floor(t/60)}:${Math.floor(t%60).toString().padStart(2,"0")}`},getEventTypeLabel=t=>{const n=undefined;return{view:"Просмотры",like:"Лайки",share:"Поделились",comment:"Комментарии",complete:"Досмотрели",skip:"Пропустили"}[t]||t},getEventTypeColor=t=>{const n=undefined;return{view:"bg-blue-500",like:"bg-red-500",share:"bg-green-500",comment:"bg-yellow-500",complete:"bg-orange-500",skip:"bg-gray-7000"}[t]||"bg-gray-7000"},m=t.reduce((t,n)=>(t[n.period]||(t[n.period]={}),t[n.period][n.event_type]=n,t),{}),f=Object.keys(m).sort(),x=t.reduce((t,n)=>(t[n.event_type]||(t[n.event_type]={count:0,avg_duration:0,avg_completion:0}),t[n.event_type].count+=n.count,t[n.event_type].avg_duration+=n.avg_duration,t[n.event_type].avg_completion+=n.avg_completion,t),{});return Object.keys(x).forEach(n=>{const s=t.filter(t=>t.event_type===n);s.length>0&&(x[n].avg_duration=x[n].avg_duration/s.length,x[n].avg_completion=x[n].avg_completion/s.length)}),s?ae.jsx("div",{className:"p-6",children:ae.jsxs("div",{className:"animate-pulse",children:[ae.jsx("div",{className:"h-8 bg-gray-600 rounded w-1/4 mb-6"}),ae.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[...Array(6)].map((t,n)=>ae.jsx("div",{className:"bg-gray-600 h-24 rounded"},n))})]})}):ae.jsxs("div",{className:"p-6",children:[ae.jsxs("div",{className:"flex justify-between items-center mb-6",children:[ae.jsx("h2",{className:"text-2xl font-bold text-white",children:"Аналитика видео"}),ae.jsxs("div",{className:"flex space-x-4",children:[ae.jsxs("select",{value:i,onChange:t=>o(t.target.value),className:"bg-gray-700 text-white border border-gray-600 rounded-md px-3 py-2 text-sm focus:outline-none focus:border-orange-500",children:[ae.jsx("option",{value:"1d",children:"Последние 24 часа"}),ae.jsx("option",{value:"7d",children:"Последние 7 дней"}),ae.jsx("option",{value:"30d",children:"Последние 30 дней"}),ae.jsx("option",{value:"90d",children:"Последние 90 дней"})]}),ae.jsxs("select",{value:l,onChange:t=>u(t.target.value),className:"bg-gray-700 text-white border border-gray-600 rounded-md px-3 py-2 text-sm focus:outline-none focus:border-orange-500",children:[ae.jsx("option",{value:"hour",children:"По часам"}),ae.jsx("option",{value:"day",children:"По дням"}),ae.jsx("option",{value:"week",children:"По неделям"})]})]})]}),ae.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:Object.entries(x).map(([t,n])=>ae.jsxs("div",{className:"bg-gray-800 rounded-lg shadow p-6",children:[ae.jsxs("div",{className:"flex items-center",children:[ae.jsx("div",{className:`w-4 h-4 rounded-full ${getEventTypeColor(t)} mr-3`}),ae.jsxs("div",{className:"flex-1",children:[ae.jsx("p",{className:"text-sm font-medium text-gray-300",children:getEventTypeLabel(t)}),ae.jsx("p",{className:"text-2xl font-bold text-white",children:n.count.toLocaleString()})]})]}),"view"===t&&ae.jsxs("div",{className:"mt-4 text-sm text-gray-400",children:[ae.jsxs("p",{children:["Ср. время просмотра: ",formatDuration(Number(n.avg_duration)||0)]}),ae.jsxs("p",{children:["Ср. завершение: ",Number(n.avg_completion||0).toFixed(1),"%"]})]})]},t))}),ae.jsxs("div",{className:"bg-gray-800 rounded-lg shadow mb-8",children:[ae.jsx("div",{className:"p-6 border-b border-gray-700",children:ae.jsx("h3",{className:"text-lg font-semibold text-white",children:"Динамика событий"})}),ae.jsx("div",{className:"p-6",children:0===f.length?ae.jsx("div",{className:"text-center text-gray-400 py-8",children:"Нет данных за выбранный период"}):ae.jsx("div",{className:"space-y-4",children:f.map(t=>ae.jsxs("div",{className:"border-b border-gray-100 pb-4 last:border-b-0",children:[ae.jsx("div",{className:"flex items-center justify-between mb-2",children:ae.jsx("h4",{className:"font-medium text-white",children:formatDate(t)})}),ae.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:Object.entries(m[t]).map(([t,n])=>ae.jsxs("div",{className:"text-center",children:[ae.jsx("div",{className:`w-3 h-3 rounded-full ${getEventTypeColor(t)} mx-auto mb-1`}),ae.jsx("p",{className:"text-xs text-gray-300",children:getEventTypeLabel(t)}),ae.jsx("p",{className:"text-sm font-semibold text-white",children:n.count})]},t))})]},t))})})]}),ae.jsxs("div",{className:"bg-gray-800 rounded-lg shadow",children:[ae.jsx("div",{className:"p-6 border-b border-gray-700",children:ae.jsx("h3",{className:"text-lg font-semibold text-white",children:"Детальная статистика"})}),ae.jsx("div",{className:"overflow-x-auto",children:ae.jsxs("table",{className:"min-w-full divide-y divide-gray-700",children:[ae.jsx("thead",{className:"bg-gray-700",children:ae.jsxs("tr",{children:[ae.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Период"}),ae.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Событие"}),ae.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Количество"}),ae.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Среднее время"}),ae.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Среднее завершение"})]})}),ae.jsx("tbody",{className:"bg-gray-800 divide-y divide-gray-700",children:t.map((t,n)=>ae.jsxs("tr",{className:"hover:bg-gray-700",children:[ae.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white",children:formatDate(t.period)}),ae.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ae.jsxs("div",{className:"flex items-center",children:[ae.jsx("div",{className:`w-3 h-3 rounded-full ${getEventTypeColor(t.event_type)} mr-2`}),ae.jsx("span",{className:"text-sm text-white",children:getEventTypeLabel(t.event_type)})]})}),ae.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white",children:t.count.toLocaleString()}),ae.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white",children:formatDuration(Number(t.avg_duration)||0)}),ae.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white",children:[Number(t.avg_completion||0).toFixed(1),"%"]})]},n))})]})})]})]})},CategoryManagement=()=>{const[t,n]=H.useState([]),[s,a]=H.useState(!0),[i,o]=H.useState(!1),[l,u]=H.useState(null),[m,f]=H.useState({name:"",slug:"",description:"",color:"#3B82F6",sort_order:0});H.useEffect(()=>{loadCategories()},[]);const loadCategories=async()=>{try{a(!0);const t=await Sf.get("/admin/categories");n(Array.isArray(t)?t:[])}catch(t){console.error("Failed to load categories:",t)}finally{a(!1)}},handleCreate=async t=>{t.preventDefault();try{await Sf.post("/admin/categories",m),o(!1),f({name:"",slug:"",description:"",color:"#3B82F6",sort_order:0}),loadCategories()}catch(n){console.error("Failed to create category:",n),alert("Ошибка создания категории")}},handleUpdate=async t=>{if(t.preventDefault(),l)try{await Sf.put(`/admin/categories/${l.id}`,m),u(null),f({name:"",slug:"",description:"",color:"#3B82F6",sort_order:0}),loadCategories()}catch(n){console.error("Failed to update category:",n),alert("Ошибка обновления категории")}},handleDelete=async t=>{if(confirm("Вы уверены, что хотите удалить эту категорию?"))try{await Sf.delete(`/admin/categories/${t}`),loadCategories()}catch(n){console.error("Failed to delete category:",n),alert("Ошибка удаления категории")}},handleEdit=t=>{u(t),f({name:t.name,slug:t.slug,description:t.description,color:t.color,sort_order:t.sort_order})},generateSlug=t=>t.toLowerCase().replace(/[^a-z0-9а-я\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim(),handleNameChange=t=>{f({...m,name:t,slug:generateSlug(t)})},formatDate=t=>new Date(t).toLocaleDateString("ru-RU",{year:"numeric",month:"short",day:"numeric"});return ae.jsxs("div",{className:"p-6",children:[ae.jsxs("div",{className:"flex justify-between items-center mb-6",children:[ae.jsx("h2",{className:"text-2xl font-bold text-white",children:"Управление категориями"}),ae.jsx("button",{onClick:()=>o(!0),className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-md text-sm font-medium",children:"Создать категорию"})]}),ae.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s?[...Array(6)].map((t,n)=>ae.jsxs("div",{className:"bg-gray-800 rounded-lg shadow p-6 animate-pulse",children:[ae.jsx("div",{className:"h-4 bg-gray-600 rounded w-3/4 mb-2"}),ae.jsx("div",{className:"h-3 bg-gray-600 rounded w-1/2 mb-4"}),ae.jsx("div",{className:"h-8 bg-gray-600 rounded"})]},n)):0===t.length?ae.jsx("div",{className:"col-span-full text-center py-12",children:ae.jsx("p",{className:"text-gray-400",children:"Категории не найдены"})}):t.map(t=>ae.jsxs("div",{className:"bg-gray-800 rounded-lg shadow p-6",children:[ae.jsxs("div",{className:"flex items-center justify-between mb-4",children:[ae.jsxs("div",{className:"flex items-center",children:[ae.jsx("div",{className:"w-4 h-4 rounded-full mr-3",style:{backgroundColor:t.color}}),ae.jsx("h3",{className:"text-lg font-semibold text-white",children:t.name})]}),ae.jsxs("div",{className:"flex space-x-2",children:[ae.jsx("button",{onClick:()=>handleEdit(t),className:"text-blue-400 hover:text-blue-300 text-sm",children:"Редактировать"}),ae.jsx("button",{onClick:()=>handleDelete(t.id),className:"text-red-400 hover:text-red-300 text-sm",children:"Удалить"})]})]}),ae.jsx("p",{className:"text-sm text-gray-300 mb-4",children:t.description}),ae.jsxs("div",{className:"space-y-2 text-sm text-gray-400",children:[ae.jsxs("div",{className:"flex justify-between",children:[ae.jsx("span",{children:"Slug:"}),ae.jsx("span",{className:"font-mono",children:t.slug})]}),ae.jsxs("div",{className:"flex justify-between",children:[ae.jsx("span",{children:"Порядок:"}),ae.jsx("span",{children:t.sort_order})]}),ae.jsxs("div",{className:"flex justify-between",children:[ae.jsx("span",{children:"Видео:"}),ae.jsx("span",{children:t.video_count})]}),ae.jsxs("div",{className:"flex justify-between",children:[ae.jsx("span",{children:"Статус:"}),ae.jsx("span",{className:t.is_active?"text-green-400":"text-red-400",children:t.is_active?"Активна":"Неактивна"})]}),ae.jsxs("div",{className:"flex justify-between",children:[ae.jsx("span",{children:"Создана:"}),ae.jsx("span",{children:formatDate(t.created_at)})]})]})]},t.id))}),i&&ae.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:ae.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-gray-800",children:ae.jsxs("div",{className:"mt-3",children:[ae.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Создать категорию"}),ae.jsxs("form",{onSubmit:handleCreate,className:"space-y-4",children:[ae.jsxs("div",{children:[ae.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Название"}),ae.jsx("input",{type:"text",value:m.name,onChange:t=>handleNameChange(t.target.value),required:!0,className:"w-full border border-gray-600 rounded-md px-3 py-2 text-sm bg-gray-700 text-white"})]}),ae.jsxs("div",{children:[ae.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Slug"}),ae.jsx("input",{type:"text",value:m.slug,onChange:t=>f({...m,slug:t.target.value}),required:!0,className:"w-full border border-gray-600 rounded-md px-3 py-2 text-sm bg-gray-700 text-white"})]}),ae.jsxs("div",{children:[ae.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Описание"}),ae.jsx("textarea",{value:m.description,onChange:t=>f({...m,description:t.target.value}),rows:3,className:"w-full border border-gray-600 rounded-md px-3 py-2 text-sm bg-gray-700 text-white"})]}),ae.jsxs("div",{children:[ae.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Цвет"}),ae.jsxs("div",{className:"flex items-center space-x-2",children:[ae.jsx("input",{type:"color",value:m.color,onChange:t=>f({...m,color:t.target.value}),className:"w-12 h-8 border border-gray-600 rounded bg-gray-700"}),ae.jsx("input",{type:"text",value:m.color,onChange:t=>f({...m,color:t.target.value}),className:"flex-1 border border-gray-600 rounded-md px-3 py-2 text-sm bg-gray-700 text-white"})]})]}),ae.jsxs("div",{children:[ae.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Порядок сортировки"}),ae.jsx("input",{type:"number",value:m.sort_order,onChange:t=>f({...m,sort_order:parseInt(t.target.value)||0}),className:"w-full border border-gray-600 rounded-md px-3 py-2 text-sm bg-gray-700 text-white"})]}),ae.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[ae.jsx("button",{type:"button",onClick:()=>o(!1),className:"px-4 py-2 text-sm font-medium text-gray-300 bg-gray-700 hover:bg-gray-600 rounded-md",children:"Отмена"}),ae.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-md",children:"Создать"})]})]})]})})}),l&&ae.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:ae.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-gray-800",children:ae.jsxs("div",{className:"mt-3",children:[ae.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Редактировать категорию"}),ae.jsxs("form",{onSubmit:handleUpdate,className:"space-y-4",children:[ae.jsxs("div",{children:[ae.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Название"}),ae.jsx("input",{type:"text",value:m.name,onChange:t=>f({...m,name:t.target.value}),required:!0,className:"w-full border border-gray-600 rounded-md px-3 py-2 text-sm bg-gray-700 text-white"})]}),ae.jsxs("div",{children:[ae.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Slug"}),ae.jsx("input",{type:"text",value:m.slug,onChange:t=>f({...m,slug:t.target.value}),required:!0,className:"w-full border border-gray-600 rounded-md px-3 py-2 text-sm bg-gray-700 text-white"})]}),ae.jsxs("div",{children:[ae.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Описание"}),ae.jsx("textarea",{value:m.description,onChange:t=>f({...m,description:t.target.value}),rows:3,className:"w-full border border-gray-600 rounded-md px-3 py-2 text-sm bg-gray-700 text-white"})]}),ae.jsxs("div",{children:[ae.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Цвет"}),ae.jsxs("div",{className:"flex items-center space-x-2",children:[ae.jsx("input",{type:"color",value:m.color,onChange:t=>f({...m,color:t.target.value}),className:"w-12 h-8 border border-gray-600 rounded bg-gray-700"}),ae.jsx("input",{type:"text",value:m.color,onChange:t=>f({...m,color:t.target.value}),className:"flex-1 border border-gray-600 rounded-md px-3 py-2 text-sm bg-gray-700 text-white"})]})]}),ae.jsxs("div",{children:[ae.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Порядок сортировки"}),ae.jsx("input",{type:"number",value:m.sort_order,onChange:t=>f({...m,sort_order:parseInt(t.target.value)||0}),className:"w-full border border-gray-600 rounded-md px-3 py-2 text-sm bg-gray-700 text-white"})]}),ae.jsx("div",{children:ae.jsxs("label",{className:"flex items-center",children:[ae.jsx("input",{type:"checkbox",checked:l.is_active,onChange:t=>u({...l,is_active:t.target.checked}),className:"rounded border-gray-600 text-orange-500 shadow-sm focus:border-orange-300 focus:ring focus:ring-orange-200 focus:ring-opacity-50"}),ae.jsx("span",{className:"ml-2 text-sm text-gray-300",children:"Активна"})]})}),ae.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[ae.jsx("button",{type:"button",onClick:()=>u(null),className:"px-4 py-2 text-sm font-medium text-gray-300 bg-gray-700 hover:bg-gray-600 rounded-md",children:"Отмена"}),ae.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-md",children:"Сохранить"})]})]})]})})})]})},SupportChatManagement=()=>{const[t,n]=H.useState([]),[s,a]=H.useState(null),[i,o]=H.useState([]),[l,u]=H.useState(""),[m,f]=H.useState(!0),[x,y]=H.useState(!1),[j,w]=H.useState("all");H.useEffect(()=>{loadSupportChats()},[j]),H.useEffect(()=>{s&&loadChatMessages(s.id)},[s]);const loadSupportChats=async()=>{try{f(!0);const t=await Sf.get(`/chat/admin/support-chats?status=${j}`);t.success&&n(t.data.chats)}catch(t){console.error("Failed to load support chats:",t)}finally{f(!1)}},loadChatMessages=async t=>{try{const n=await Sf.get(`/chat/${t}/messages`);n.success&&o(n.data)}catch(n){console.error("Failed to load messages:",n)}},sendMessage=async t=>{if(t.preventDefault(),l.trim()&&s&&!x)try{y(!0);const t=undefined;(await Sf.post(`/chat/${s.id}/message`,{content:l,type:"text"})).success&&(u(""),await loadChatMessages(s.id),await loadSupportChats())}catch(n){console.error("Failed to send message:",n)}finally{y(!1)}},markAsRead=async t=>{try{await Sf.put(`/chat/${t}/read`)}catch(n){console.error("Failed to mark as read:",n)}},formatTime=t=>{const n=new Date(t),s=undefined,a=(new Date).getTime()-n.getTime(),i=Math.floor(a/6e4),o=Math.floor(a/36e5),l=Math.floor(a/864e5);return i<1?"только что":i<60?`${i}м назад`:o<24?`${o}ч назад`:l<7?`${l}д назад`:n.toLocaleDateString("ru-RU")};return m?ae.jsx("div",{className:"flex items-center justify-center h-64",children:ae.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):ae.jsxs("div",{className:"space-y-6",children:[ae.jsxs("div",{className:"flex items-center justify-between",children:[ae.jsx("h2",{className:"text-2xl font-bold text-white",children:"Чаты поддержки"}),ae.jsxs("div",{className:"flex space-x-2",children:[ae.jsxs("select",{value:j,onChange:t=>w(t.target.value),className:"px-3 py-2 bg-gray-700 text-white border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",children:[ae.jsx("option",{value:"all",children:"Все чаты"}),ae.jsx("option",{value:"unread",children:"Непрочитанные"})]}),ae.jsx("button",{onClick:loadSupportChats,className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:"Обновить"})]})]}),ae.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[ae.jsx("div",{className:"lg:col-span-1",children:ae.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-sm border",children:[ae.jsx("div",{className:"p-4 border-b",children:ae.jsx("h3",{className:"font-semibold text-white",children:"Активные чаты"})}),ae.jsx("div",{className:"max-h-96 overflow-y-auto",children:0===t.length?ae.jsx("div",{className:"p-4 text-center text-gray-400",children:"Нет активных чатов"}):t.map(t=>ae.jsx(Ju.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 border-b cursor-pointer hover:bg-gray-700 "+((null==s?void 0:s.id)===t.id?"bg-blue-50 border-blue-200":""),onClick:()=>{a(t),markAsRead(t.id)},children:ae.jsxs("div",{className:"flex items-start justify-between",children:[ae.jsxs("div",{className:"flex-1",children:[ae.jsxs("div",{className:"flex items-center space-x-2",children:[ae.jsx(Dx,{className:"w-4 h-4 text-gray-400"}),ae.jsx("span",{className:"font-medium text-white",children:t.client_username}),t.unread_count>0&&ae.jsx("span",{className:"bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:t.unread_count})]}),ae.jsx("p",{className:"text-sm text-gray-300 mt-1 line-clamp-2",children:t.last_message||"Нет сообщений"}),ae.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[ae.jsx(tx,{className:"w-3 h-3 text-gray-400"}),ae.jsx("span",{className:"text-xs text-gray-400",children:formatTime(t.last_message_time)})]})]}),ae.jsx(Jf,{className:"w-4 h-4 text-gray-400"})]})},t.id))})]})}),ae.jsx("div",{className:"lg:col-span-2",children:s?ae.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-sm border h-96 flex flex-col",children:[ae.jsx("div",{className:"p-4 border-b bg-gray-700",children:ae.jsxs("div",{className:"flex items-center justify-between",children:[ae.jsxs("div",{className:"flex items-center space-x-3",children:[ae.jsx(Dx,{className:"w-5 h-5 text-gray-400"}),ae.jsxs("div",{children:[ae.jsx("h3",{className:"font-semibold text-white",children:s.client_username}),ae.jsx("p",{className:"text-sm text-gray-400",children:"Чат поддержки"})]})]}),ae.jsx("div",{className:"flex items-center space-x-2",children:s.unread_count>0?ae.jsx(Rf,{className:"w-4 h-4 text-red-500"}):ae.jsx(Wf,{className:"w-4 h-4 text-green-500"})})]})}),ae.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:0===i.length?ae.jsx("div",{className:"text-center text-gray-400 py-8",children:"Нет сообщений"}):i.map(t=>{var n,s;return ae.jsx(Ju.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex "+("admin"===t.sender_username||(null==(n=t.sender_username)?void 0:n.includes("admin"))?"justify-end":"justify-start"),children:ae.jsxs("div",{className:"max-w-xs lg:max-w-md px-4 py-2 rounded-lg "+("admin"===t.sender_username||(null==(s=t.sender_username)?void 0:s.includes("admin"))?"bg-blue-500 text-white":"bg-gray-700 text-white"),children:[ae.jsx("p",{className:"text-sm",children:t.content}),ae.jsx("p",{className:"text-xs mt-1 opacity-70",children:formatTime(t.created_at)})]})},t.id)})}),ae.jsx("form",{onSubmit:sendMessage,className:"p-4 border-t",children:ae.jsxs("div",{className:"flex space-x-2",children:[ae.jsx("input",{type:"text",value:l,onChange:t=>u(t.target.value),placeholder:"Введите сообщение...",className:"flex-1 px-3 py-2 bg-gray-700 text-white placeholder-gray-400 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",disabled:x}),ae.jsxs("button",{type:"submit",disabled:!l.trim()||x,className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[ae.jsx(Sx,{className:"w-4 h-4"}),ae.jsx("span",{children:x?"Отправка...":"Отправить"})]})]})})]}):ae.jsx("div",{className:"bg-gray-800 rounded-lg shadow-sm border h-96 flex items-center justify-center",children:ae.jsxs("div",{className:"text-center text-gray-400",children:[ae.jsx(xx,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),ae.jsx("p",{children:"Выберите чат для просмотра сообщений"})]})})})]})]})},AuditLog=()=>{const[t,n]=H.useState([]),[s,a]=H.useState(!0),[i,o]=H.useState(1),[l,u]=H.useState(1),[m,f]=H.useState({action:"",resourceType:"",adminId:""});H.useEffect(()=>{loadLogs()},[i,m]);const loadLogs=async()=>{var t;try{a(!0);const s={page:i,limit:50,...m},o=await Sf.get("/admin/audit-log",s);n(o.logs||[]),u((null==(t=o.pagination)?void 0:t.pages)||1)}catch(s){console.error("Failed to load audit logs:",s)}finally{a(!1)}},formatDate=t=>new Date(t).toLocaleString("ru-RU",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}),getActionLabel=t=>{const n=undefined;return{video_upload:"Загрузка видео",update_priority:"Обновление приоритета",update_status:"Обновление статуса",delete_video:"Удаление видео",update_user_status:"Обновление статуса пользователя",create_category:"Создание категории",update_category:"Обновление категории",delete_category:"Удаление категории"}[t]||t},getResourceTypeLabel=t=>{const n=undefined;return{video:"Видео",user:"Пользователь",category:"Категория"}[t]||t},getActionColor=t=>t.includes("delete")?"text-red-600":t.includes("create")?"text-green-600":t.includes("update")?"text-blue-600":"text-gray-300",formatJson=t=>{if(!t)return"Нет данных";try{return JSON.stringify(t,null,2)}catch{return String(t)}};return ae.jsxs("div",{className:"p-6",children:[ae.jsx("div",{className:"flex justify-between items-center mb-6",children:ae.jsx("h2",{className:"text-2xl font-bold text-white",children:"Журнал аудита"})}),ae.jsx("div",{className:"bg-gray-800 rounded-lg shadow mb-6 p-4",children:ae.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[ae.jsxs("div",{children:[ae.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Действие"}),ae.jsxs("select",{value:m.action,onChange:t=>f({...m,action:t.target.value}),className:"w-full bg-gray-700 text-white border border-gray-600 rounded-md px-3 py-2 text-sm focus:outline-none focus:border-orange-500",children:[ae.jsx("option",{value:"",children:"Все действия"}),ae.jsx("option",{value:"video_upload",children:"Загрузка видео"}),ae.jsx("option",{value:"update_priority",children:"Обновление приоритета"}),ae.jsx("option",{value:"update_status",children:"Обновление статуса"}),ae.jsx("option",{value:"delete_video",children:"Удаление видео"}),ae.jsx("option",{value:"update_user_status",children:"Обновление статуса пользователя"}),ae.jsx("option",{value:"create_category",children:"Создание категории"}),ae.jsx("option",{value:"update_category",children:"Обновление категории"}),ae.jsx("option",{value:"delete_category",children:"Удаление категории"})]})]}),ae.jsxs("div",{children:[ae.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Тип ресурса"}),ae.jsxs("select",{value:m.resourceType,onChange:t=>f({...m,resourceType:t.target.value}),className:"w-full bg-gray-700 text-white border border-gray-600 rounded-md px-3 py-2 text-sm focus:outline-none focus:border-orange-500",children:[ae.jsx("option",{value:"",children:"Все типы"}),ae.jsx("option",{value:"video",children:"Видео"}),ae.jsx("option",{value:"user",children:"Пользователь"}),ae.jsx("option",{value:"category",children:"Категория"})]})]}),ae.jsxs("div",{children:[ae.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Админ"}),ae.jsx("input",{type:"text",value:m.adminId,onChange:t=>f({...m,adminId:t.target.value}),placeholder:"ID админа...",className:"w-full bg-gray-700 text-white placeholder-gray-400 border border-gray-600 rounded-md px-3 py-2 text-sm focus:outline-none focus:border-orange-500"})]})]})}),ae.jsxs("div",{className:"bg-gray-800 rounded-lg shadow overflow-hidden",children:[ae.jsx("div",{className:"overflow-x-auto",children:ae.jsxs("table",{className:"min-w-full divide-y divide-gray-700",children:[ae.jsx("thead",{className:"bg-gray-700",children:ae.jsxs("tr",{children:[ae.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Время"}),ae.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Админ"}),ae.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Действие"}),ae.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Ресурс"}),ae.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Изменения"}),ae.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"IP"})]})}),ae.jsx("tbody",{className:"bg-gray-800 divide-y divide-gray-700",children:s?ae.jsx("tr",{children:ae.jsx("td",{colSpan:6,className:"px-6 py-4 text-center text-gray-400",children:"Загрузка..."})}):0===t.length?ae.jsx("tr",{children:ae.jsx("td",{colSpan:6,className:"px-6 py-4 text-center text-gray-400",children:"Записи не найдены"})}):t.map(t=>ae.jsxs("tr",{className:"hover:bg-gray-700",children:[ae.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-400",children:formatDate(t.created_at)}),ae.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[ae.jsxs("div",{className:"text-sm text-white",children:[t.admin_first_name," ",t.admin_last_name]}),ae.jsxs("div",{className:"text-sm text-gray-400",children:["@",t.admin_username]})]}),ae.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ae.jsx("span",{className:`text-sm font-medium ${getActionColor(t.action)}`,children:getActionLabel(t.action)})}),ae.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-400",children:[ae.jsx("div",{children:getResourceTypeLabel(t.resource_type)}),ae.jsx("div",{className:"text-xs text-gray-400",children:t.resource_id})]}),ae.jsx("td",{className:"px-6 py-4",children:ae.jsx("div",{className:"text-sm text-gray-400",children:t.old_values&&t.new_values?ae.jsxs("details",{className:"cursor-pointer",children:[ae.jsx("summary",{className:"hover:text-gray-300",children:"Показать изменения"}),ae.jsxs("div",{className:"mt-2 space-y-2",children:[ae.jsxs("div",{children:[ae.jsx("strong",{className:"text-red-600",children:"Было:"}),ae.jsx("pre",{className:"text-xs bg-red-50 p-2 rounded mt-1 overflow-x-auto",children:formatJson(t.old_values)})]}),ae.jsxs("div",{children:[ae.jsx("strong",{className:"text-green-600",children:"Стало:"}),ae.jsx("pre",{className:"text-xs bg-green-50 p-2 rounded mt-1 overflow-x-auto",children:formatJson(t.new_values)})]})]})]}):"Нет изменений"})}),ae.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-400",children:t.ip_address})]},t.id))})]})}),l>1&&ae.jsxs("div",{className:"bg-gray-800 px-4 py-3 flex items-center justify-between border-t border-gray-700 sm:px-6",children:[ae.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[ae.jsx("button",{onClick:()=>o(Math.max(1,i-1)),disabled:1===i,className:"relative inline-flex items-center px-4 py-2 border border-gray-600 text-sm font-medium rounded-md text-white bg-gray-700 hover:bg-gray-600 disabled:opacity-50",children:"Предыдущая"}),ae.jsx("button",{onClick:()=>o(Math.min(l,i+1)),disabled:i===l,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-600 text-sm font-medium rounded-md text-white bg-gray-700 hover:bg-gray-600 disabled:opacity-50",children:"Следующая"})]}),ae.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[ae.jsx("div",{children:ae.jsxs("p",{className:"text-sm text-gray-300",children:["Страница ",ae.jsx("span",{className:"font-medium",children:i})," из"," ",ae.jsx("span",{className:"font-medium",children:l})]})}),ae.jsx("div",{children:ae.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[ae.jsx("button",{onClick:()=>o(Math.max(1,i-1)),disabled:1===i,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-600 bg-gray-700 text-sm font-medium text-white hover:bg-gray-600 disabled:opacity-50",children:"Предыдущая"}),ae.jsx("button",{onClick:()=>o(Math.min(l,i+1)),disabled:i===l,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-600 bg-gray-700 text-sm font-medium text-white hover:bg-gray-600 disabled:opacity-50",children:"Следующая"})]})})]})]})]})]})},OrderManagement=()=>{const[t,n]=H.useState([]),[s,a]=H.useState(null),[i,o]=H.useState([]),[l,u]=H.useState(!0),[m,f]=H.useState(!1),[x,y]=H.useState(1),[j,w]=H.useState(1),[N,k]=H.useState({status:"",category:"",search:""});H.useEffect(()=>{loadOrders()},[x,N]),H.useEffect(()=>{s&&loadOrderResponses(s.id)},[s]);const loadOrders=async()=>{var t;try{u(!0);const s={page:x,limit:20};N.status&&(s.status=N.status),N.category&&(s.category=N.category),N.search&&(s.search=N.search);const a=await Sf.get("/orders/feed",s);n(a.orders||[]),w((null==(t=a.pagination)?void 0:t.pages)||1)}catch(s){console.error("Failed to load orders:",s)}finally{u(!1)}},loadOrderResponses=async t=>{try{f(!0);const n=await Sf.get(`/orders/${t}/responses`);o(n||[])}catch(n){console.error("Failed to load order responses:",n),o([])}finally{f(!1)}},formatDate=t=>new Date(t).toLocaleDateString("ru-RU",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),getStatusBadgeColor=t=>{switch(t){case"pending":return"bg-yellow-100 text-yellow-800";case"accepted":return"bg-green-100 text-green-800";case"in_progress":return"bg-blue-100 text-blue-800";case"completed":return"bg-purple-100 text-purple-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},getStatusLabel=t=>{const n=undefined;return{pending:"В ожидании",accepted:"Принята",in_progress:"В работе",completed:"Завершена",cancelled:"Отменена"}[t]||t};return ae.jsxs("div",{className:"p-6",children:[ae.jsxs("div",{className:"flex justify-between items-center mb-6",children:[ae.jsx("h2",{className:"text-2xl font-bold text-white",children:"Управление заявками"}),ae.jsxs("div",{className:"text-sm text-gray-400",children:["Всего заявок: ",t.length]})]}),ae.jsx("div",{className:"bg-gray-800 rounded-lg shadow mb-6 p-4",children:ae.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[ae.jsxs("div",{children:[ae.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Статус"}),ae.jsxs("select",{value:N.status,onChange:t=>k({...N,status:t.target.value}),className:"w-full bg-gray-700 text-white border border-gray-600 rounded-md px-3 py-2 text-sm focus:outline-none focus:border-orange-500",children:[ae.jsx("option",{value:"",children:"Все"}),ae.jsx("option",{value:"pending",children:"В ожидании"}),ae.jsx("option",{value:"accepted",children:"Принята"}),ae.jsx("option",{value:"in_progress",children:"В работе"}),ae.jsx("option",{value:"completed",children:"Завершена"}),ae.jsx("option",{value:"cancelled",children:"Отменена"})]})]}),ae.jsxs("div",{children:[ae.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Категория"}),ae.jsxs("select",{value:N.category,onChange:t=>k({...N,category:t.target.value}),className:"w-full bg-gray-700 text-white border border-gray-600 rounded-md px-3 py-2 text-sm focus:outline-none focus:border-orange-500",children:[ae.jsx("option",{value:"",children:"Все категории"}),ae.jsx("option",{value:"general",children:"Общее"}),ae.jsx("option",{value:"furniture",children:"Мебель"}),ae.jsx("option",{value:"repair",children:"Ремонт"})]})]}),ae.jsxs("div",{children:[ae.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Поиск"}),ae.jsx("input",{type:"text",value:N.search,onChange:t=>k({...N,search:t.target.value}),placeholder:"Поиск по заявке...",className:"w-full bg-gray-700 text-white placeholder-gray-400 border border-gray-600 rounded-md px-3 py-2 text-sm focus:outline-none focus:border-orange-500"})]})]})}),ae.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[ae.jsxs("div",{className:"bg-gray-800 rounded-lg shadow",children:[ae.jsx("div",{className:"p-4 border-b border-gray-700",children:ae.jsx("h3",{className:"text-lg font-semibold text-white",children:"Список заявок"})}),ae.jsx("div",{className:"max-h-[600px] overflow-y-auto",children:l?ae.jsx("div",{className:"p-6 text-center text-gray-400",children:"Загрузка..."}):0===t.length?ae.jsx("div",{className:"p-6 text-center text-gray-400",children:"Заявки не найдены"}):ae.jsx("div",{className:"divide-y divide-gray-700",children:t.map(t=>ae.jsxs("div",{onClick:()=>a(t),className:"p-4 cursor-pointer hover:bg-gray-700 transition-colors "+((null==s?void 0:s.id)===t.id?"bg-gray-700":""),children:[ae.jsxs("div",{className:"flex items-start justify-between mb-2",children:[ae.jsxs("div",{className:"flex-1",children:[ae.jsx("h4",{className:"font-medium text-white mb-1",children:t.title}),ae.jsx("p",{className:"text-sm text-gray-400 line-clamp-2",children:t.description})]}),ae.jsx("span",{className:`ml-2 px-2 py-1 text-xs font-semibold rounded-full ${getStatusBadgeColor(t.status)}`,children:getStatusLabel(t.status)})]}),ae.jsxs("div",{className:"mt-3 space-y-1 text-xs text-gray-400",children:[ae.jsxs("div",{className:"flex items-center justify-between",children:[ae.jsxs("span",{children:["👤 Клиент: ",t.clientFirstName||t.client_first_name," ",t.clientLastName||t.client_last_name]}),ae.jsxs("span",{className:"text-orange-400",children:["📱 ",t.clientPhone||t.client_phone||"Нет телефона"]})]}),ae.jsxs("div",{className:"flex items-center justify-between",children:[ae.jsxs("span",{children:["📍 ",t.location]}),ae.jsxs("span",{children:["💬 Откликов: ",t.response_count||0]})]}),ae.jsx("div",{className:"text-gray-500",children:formatDate(t.created_at)})]})]},t.id))})}),j>1&&ae.jsxs("div",{className:"p-4 border-t border-gray-700 flex items-center justify-between",children:[ae.jsx("button",{onClick:()=>y(Math.max(1,x-1)),disabled:1===x,className:"px-3 py-1 text-sm bg-gray-700 text-white rounded hover:bg-gray-600 disabled:opacity-50",children:"Предыдущая"}),ae.jsxs("span",{className:"text-sm text-gray-400",children:["Страница ",x," из ",j]}),ae.jsx("button",{onClick:()=>y(Math.min(j,x+1)),disabled:x===j,className:"px-3 py-1 text-sm bg-gray-700 text-white rounded hover:bg-gray-600 disabled:opacity-50",children:"Следующая"})]})]}),ae.jsx("div",{className:"bg-gray-800 rounded-lg shadow",children:s?ae.jsxs(ae.Fragment,{children:[ae.jsx("div",{className:"p-4 border-b border-gray-700",children:ae.jsx("h3",{className:"text-lg font-semibold text-white",children:"Детали заявки"})}),ae.jsxs("div",{className:"p-4 space-y-4",children:[ae.jsxs("div",{children:[ae.jsx("h4",{className:"text-lg font-medium text-white mb-2",children:s.title}),ae.jsx("p",{className:"text-sm text-gray-300 mb-3",children:s.description}),ae.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[ae.jsxs("div",{children:[ae.jsx("span",{className:"text-gray-400",children:"Клиент:"}),ae.jsxs("div",{className:"text-white font-medium",children:[s.clientFirstName||s.client_first_name," ",s.clientLastName||s.client_last_name]}),ae.jsxs("div",{className:"text-gray-400",children:["@",s.clientUsername||s.client_username]}),ae.jsxs("div",{className:"text-orange-400 font-medium",children:["📱 ",s.clientPhone||s.client_phone||"Нет телефона"]})]}),ae.jsxs("div",{children:[ae.jsx("span",{className:"text-gray-400",children:"Статус:"}),ae.jsx("div",{className:`inline-block px-2 py-1 text-xs font-semibold rounded-full ${getStatusBadgeColor(s.status)}`,children:getStatusLabel(s.status)})]}),ae.jsxs("div",{children:[ae.jsx("span",{className:"text-gray-400",children:"Локация:"}),ae.jsx("div",{className:"text-white",children:s.location}),ae.jsx("div",{className:"text-gray-400",children:s.region})]}),ae.jsxs("div",{children:[ae.jsx("span",{className:"text-gray-400",children:"Категория:"}),ae.jsx("div",{className:"text-white",children:s.category})]}),s.price&&ae.jsxs("div",{children:[ae.jsx("span",{className:"text-gray-400",children:"Цена:"}),ae.jsxs("div",{className:"text-white font-medium",children:[s.price," ₸"]})]}),ae.jsxs("div",{className:"col-span-2",children:[ae.jsx("span",{className:"text-gray-400",children:"Создана:"}),ae.jsx("div",{className:"text-white",children:formatDate(s.created_at)})]})]})]}),s.images&&s.images.length>0&&ae.jsxs("div",{children:[ae.jsx("h5",{className:"text-sm font-medium text-gray-300 mb-2",children:"Изображения:"}),ae.jsx("div",{className:"grid grid-cols-3 gap-2",children:s.images.map((t,n)=>ae.jsx("img",{src:t,alt:`Order image ${n+1}`,className:"w-full h-20 object-cover rounded"},n))})]}),ae.jsxs("div",{className:"border-t border-gray-700 pt-4",children:[ae.jsxs("h5",{className:"text-sm font-medium text-white mb-3",children:["Отклики мастеров (",i.length,")"]}),m?ae.jsx("div",{className:"text-center text-gray-400 py-4",children:"Загрузка откликов..."}):0===i.length?ae.jsx("div",{className:"text-center text-gray-400 py-4",children:"Откликов пока нет"}):ae.jsx("div",{className:"space-y-3",children:i.map(t=>{var n,s,a,i;return ae.jsxs("div",{className:"bg-gray-700 rounded-lg p-3",children:[ae.jsxs("div",{className:"flex items-start justify-between mb-2",children:[ae.jsxs("div",{className:"flex-1",children:[ae.jsx("div",{className:"font-medium text-white",children:(null==(n=t.master)?void 0:n.name)||(null==(s=t.master)?void 0:s.username)||t.masterUsername||t.master_username||"Мастер"}),ae.jsxs("div",{className:"text-xs text-gray-400",children:["@",(null==(a=t.master)?void 0:a.username)||t.masterUsername||t.master_username]}),ae.jsxs("div",{className:"text-xs text-orange-400 font-medium",children:["📱 ",(null==(i=t.master)?void 0:i.phone)||t.masterPhone||t.master_phone||"Нет телефона"]})]}),ae.jsxs("div",{className:"text-right",children:[t.price&&ae.jsxs("div",{className:"text-lg font-bold text-green-400",children:[t.price," ₸"]}),t.deadline&&ae.jsxs("div",{className:"text-xs text-gray-400",children:["Срок: ",formatDate(t.deadline)]})]})]}),ae.jsx("p",{className:"text-sm text-gray-300 mb-2",children:t.message}),ae.jsx("div",{className:"text-xs text-gray-500",children:formatDate(t.createdAt||t.created_at)})]},t.id)})})]})]})]}):ae.jsx("div",{className:"p-6 text-center text-gray-400 min-h-[400px] flex items-center justify-center",children:ae.jsxs("div",{children:[ae.jsx("svg",{className:"w-12 h-12 mx-auto mb-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:ae.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),ae.jsx("p",{children:"Выберите заявку для просмотра деталей"})]})})})]}),ae.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mt-6",children:[ae.jsxs("div",{className:"bg-yellow-500 bg-opacity-20 border border-yellow-500 rounded-lg p-4",children:[ae.jsx("div",{className:"text-yellow-400 text-sm mb-1",children:"В ожидании"}),ae.jsx("div",{className:"text-2xl font-bold text-white",children:t.filter(t=>"pending"===t.status).length})]}),ae.jsxs("div",{className:"bg-green-500 bg-opacity-20 border border-green-500 rounded-lg p-4",children:[ae.jsx("div",{className:"text-green-400 text-sm mb-1",children:"Принятых"}),ae.jsx("div",{className:"text-2xl font-bold text-white",children:t.filter(t=>"accepted"===t.status).length})]}),ae.jsxs("div",{className:"bg-blue-500 bg-opacity-20 border border-blue-500 rounded-lg p-4",children:[ae.jsx("div",{className:"text-blue-400 text-sm mb-1",children:"В работе"}),ae.jsx("div",{className:"text-2xl font-bold text-white",children:t.filter(t=>"in_progress"===t.status).length})]}),ae.jsxs("div",{className:"bg-purple-500 bg-opacity-20 border border-purple-500 rounded-lg p-4",children:[ae.jsx("div",{className:"text-purple-400 text-sm mb-1",children:"Завершенных"}),ae.jsx("div",{className:"text-2xl font-bold text-white",children:t.filter(t=>"completed"===t.status).length})]}),ae.jsxs("div",{className:"bg-red-500 bg-opacity-20 border border-red-500 rounded-lg p-4",children:[ae.jsx("div",{className:"text-red-400 text-sm mb-1",children:"Отмененных"}),ae.jsx("div",{className:"text-2xl font-bold text-white",children:t.filter(t=>"cancelled"===t.status).length})]})]})]})},AdminPage=()=>{const{user:t}=useAuth(),[n,s]=H.useState("dashboard"),[a,i]=H.useState(!0);if(H.useEffect(()=>{"admin"===(null==t?void 0:t.role)?i(!1):window.location.href="/"},[t]),a)return ae.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:ae.jsxs("div",{className:"text-center",children:[ae.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-500 mx-auto"}),ae.jsx("p",{className:"mt-4 text-gray-600",children:"Загрузка админки..."})]})});if("admin"!==(null==t?void 0:t.role))return ae.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:ae.jsxs("div",{className:"text-center",children:[ae.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Доступ запрещен"}),ae.jsx("p",{className:"text-gray-600",children:"У вас нет прав для доступа к админке"})]})});const o=[{id:"dashboard",name:"Дашборд",icon:"📊"},{id:"videos",name:"Видео",icon:"🎥"},{id:"users",name:"Пользователи",icon:"👥"},{id:"orders",name:"Заявки",icon:"📋"},{id:"analytics",name:"Аналитика",icon:"📈"},{id:"categories",name:"Категории",icon:"📂"},{id:"support",name:"Поддержка",icon:"💬"},{id:"audit",name:"Аудит",icon:"📝"}],renderContent=()=>{switch(n){case"dashboard":return ae.jsx(AdminDashboard,{});case"videos":return ae.jsx(VideoManagement,{});case"users":return ae.jsx(UserManagement,{});case"orders":return ae.jsx(OrderManagement,{});case"analytics":return ae.jsx(AnalyticsDashboard,{});case"categories":return ae.jsx(CategoryManagement,{});case"support":return ae.jsx(SupportChatManagement,{});case"audit":return ae.jsx(AuditLog,{});default:return ae.jsx(AdminDashboard,{})}};return ae.jsxs("div",{className:"min-h-screen bg-black",children:[ae.jsx("div",{className:"bg-gray-900 shadow-sm border-b border-gray-800",children:ae.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:ae.jsxs("div",{className:"flex justify-between items-center py-4",children:[ae.jsx("div",{className:"flex items-center",children:ae.jsx("h1",{className:"text-2xl font-bold text-white",children:"Админка MebelPlace"})}),ae.jsxs("div",{className:"flex items-center space-x-4",children:[ae.jsxs("span",{className:"text-sm text-gray-300",children:["Привет, ",null==t?void 0:t.firstName," ",null==t?void 0:t.lastName]}),ae.jsx("button",{onClick:()=>{localStorage.removeItem("token"),window.location.href="/"},className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-md text-sm font-medium",children:"Выйти"})]})]})})}),ae.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:ae.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[ae.jsx("div",{className:"lg:w-64 flex-shrink-0",children:ae.jsx("nav",{className:"space-y-2",children:o.map(t=>ae.jsxs("button",{onClick:()=>s(t.id),className:"w-full flex items-center px-4 py-3 text-left text-sm font-medium rounded-md transition-colors "+(n===t.id?"bg-blue-600 text-white border-r-2 border-blue-400":"text-gray-300 hover:bg-gray-800 hover:text-white"),children:[ae.jsx("span",{className:"mr-3 text-lg",children:t.icon}),t.name]},t.id))})}),ae.jsx("div",{className:"flex-1",children:ae.jsx("div",{className:"bg-gray-900 rounded-lg shadow-lg",children:renderContent()})})]})})]})},SearchResultsPage=()=>{const[t]=useSearchParams(),[n,s]=H.useState([]),[a,i]=H.useState(!0);H.useEffect(()=>{const n=t.get("q");n?performSearch(n):i(!1)},[t]);const performSearch=async t=>{try{i(!0);const n=await Bx.searchVideos({q:t});s(n.videos||[])}catch(n){console.error("Search error:",n),s([])}finally{i(!1)}};return a?ae.jsx("div",{className:"fixed inset-0 bg-black flex items-center justify-center",children:ae.jsx(Ju.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-12 h-12 border-4 border-white/20 border-t-white rounded-full"})}):0===n.length?ae.jsx("div",{className:"fixed inset-0 bg-black flex items-center justify-center text-white text-center p-6",children:ae.jsxs("div",{children:[ae.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Ничего не найдено"}),ae.jsxs("p",{className:"text-white/60",children:['По запросу "',t.get("q"),'"']})]})}):ae.jsx(VideoPlayer,{videos:n,initialIndex:0})},PrivacyPolicyPage=()=>ae.jsx("div",{className:"min-h-screen py-8 px-4",children:ae.jsx(Ju.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-4xl mx-auto",children:ae.jsxs(GlassCard,{className:"p-8",children:[ae.jsx("h1",{className:"text-3xl font-bold mb-6 bg-gradient-to-r from-purple-400 to-pink-600 bg-clip-text text-transparent",children:"Политика конфиденциальности"}),ae.jsxs("div",{className:"space-y-6 text-gray-300",children:[ae.jsxs("p",{className:"text-sm text-gray-400",children:["Последнее обновление: ",(new Date).toLocaleDateString("ru-RU")]}),ae.jsxs("section",{children:[ae.jsx("h2",{className:"text-xl font-semibold text-white mb-3",children:"1. Общие положения"}),ae.jsx("p",{children:"Настоящая Политика конфиденциальности определяет порядок обработки и защиты персональных данных пользователей платформы MebelPlace (далее — «Платформа»). Мы уважаем вашу конфиденциальность и обязуемся защищать ваши персональные данные в соответствии с законодательством Республики Казахстан."})]}),ae.jsxs("section",{children:[ae.jsx("h2",{className:"text-xl font-semibold text-white mb-3",children:"2. Какие данные мы собираем"}),ae.jsx("p",{className:"mb-2",children:"При использовании Платформы мы можем собирать следующие категории данных:"}),ae.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[ae.jsxs("li",{children:[ae.jsx("strong",{children:"Регистрационные данные:"})," имя, номер телефона, адрес электронной почты"]}),ae.jsxs("li",{children:[ae.jsx("strong",{children:"Профильные данные:"})," фотография профиля, информация о роли (заказчик/мастер), специализация"]}),ae.jsxs("li",{children:[ae.jsx("strong",{children:"Данные заказов:"})," описание работ, фотографии, адрес выполнения, бюджет"]}),ae.jsxs("li",{children:[ae.jsx("strong",{children:"Данные общения:"})," сообщения в чатах, файлы, видео"]}),ae.jsxs("li",{children:[ae.jsx("strong",{children:"Технические данные:"})," IP-адрес, тип устройства, браузер, журналы доступа"]}),ae.jsxs("li",{children:[ae.jsx("strong",{children:"Данные о местоположении:"})," при создании заказов (с вашего согласия)"]})]})]}),ae.jsxs("section",{children:[ae.jsx("h2",{className:"text-xl font-semibold text-white mb-3",children:"3. Цели обработки данных"}),ae.jsx("p",{className:"mb-2",children:"Мы используем ваши данные для следующих целей:"}),ae.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[ae.jsx("li",{children:"Предоставление и улучшение услуг Платформы"}),ae.jsx("li",{children:"Обработка и выполнение заказов"}),ae.jsx("li",{children:"Обеспечение связи между заказчиками и мастерами"}),ae.jsx("li",{children:"Отправка уведомлений о статусе заказов и сообщений"}),ae.jsx("li",{children:"Предотвращение мошенничества и обеспечение безопасности"}),ae.jsx("li",{children:"Соблюдение законодательных требований"}),ae.jsx("li",{children:"Анализ и улучшение работы Платформы"})]})]}),ae.jsxs("section",{children:[ae.jsx("h2",{className:"text-xl font-semibold text-white mb-3",children:"4. Правовые основания обработки"}),ae.jsx("p",{className:"mb-2",children:"Мы обрабатываем ваши данные на следующих правовых основаниях:"}),ae.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[ae.jsx("li",{children:"Ваше согласие на обработку персональных данных"}),ae.jsx("li",{children:"Необходимость исполнения договора между вами и Платформой"}),ae.jsx("li",{children:"Соблюдение законодательных обязательств"}),ae.jsx("li",{children:"Защита наших законных интересов"})]})]}),ae.jsxs("section",{children:[ae.jsx("h2",{className:"text-xl font-semibold text-white mb-3",children:"5. Передача данных третьим лицам"}),ae.jsx("p",{className:"mb-2",children:"Мы не продаем и не передаем ваши персональные данные третьим лицам, за исключением следующих случаев:"}),ae.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[ae.jsx("li",{children:"С вашего явного согласия"}),ae.jsx("li",{children:"Для выполнения заказов (передача контактных данных между заказчиками и мастерами)"}),ae.jsx("li",{children:"Сервисным провайдерам, помогающим в работе Платформы (хостинг, аналитика, SMS-уведомления)"}),ae.jsx("li",{children:"По требованию государственных органов в соответствии с законодательством РК"}),ae.jsx("li",{children:"Для защиты прав и безопасности Платформы и пользователей"})]})]}),ae.jsxs("section",{children:[ae.jsx("h2",{className:"text-xl font-semibold text-white mb-3",children:"6. Защита данных"}),ae.jsx("p",{className:"mb-2",children:"Мы применяем современные технические и организационные меры для защиты ваших данных:"}),ae.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[ae.jsx("li",{children:"Шифрование данных при передаче (SSL/TLS)"}),ae.jsx("li",{children:"Ограничение доступа к персональным данным"}),ae.jsx("li",{children:"Регулярное резервное копирование"}),ae.jsx("li",{children:"Мониторинг безопасности и аудит доступа"}),ae.jsx("li",{children:"Обучение персонала правилам обработки данных"})]})]}),ae.jsxs("section",{children:[ae.jsx("h2",{className:"text-xl font-semibold text-white mb-3",children:"7. Срок хранения данных"}),ae.jsx("p",{children:"Мы храним ваши персональные данные до тех пор, пока это необходимо для целей, указанных в настоящей Политике, либо до момента отзыва вашего согласия. После удаления аккаунта ваши данные будут удалены в течение 30 дней, за исключением данных, которые мы обязаны хранить в соответствии с законодательством РК."})]}),ae.jsxs("section",{children:[ae.jsx("h2",{className:"text-xl font-semibold text-white mb-3",children:"8. Ваши права"}),ae.jsx("p",{className:"mb-2",children:"Вы имеете следующие права в отношении ваших персональных данных:"}),ae.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[ae.jsxs("li",{children:[ae.jsx("strong",{children:"Право на доступ:"})," получить информацию о том, какие данные мы о вас храним"]}),ae.jsxs("li",{children:[ae.jsx("strong",{children:"Право на исправление:"})," исправить неточные или неполные данные"]}),ae.jsxs("li",{children:[ae.jsx("strong",{children:"Право на удаление:"})," удалить ваши данные («право быть забытым»)"]}),ae.jsxs("li",{children:[ae.jsx("strong",{children:"Право на ограничение:"})," ограничить обработку ваших данных"]}),ae.jsxs("li",{children:[ae.jsx("strong",{children:"Право на возражение:"})," возразить против обработки данных"]}),ae.jsxs("li",{children:[ae.jsx("strong",{children:"Право на переносимость:"})," получить данные в структурированном формате"]}),ae.jsxs("li",{children:[ae.jsx("strong",{children:"Право на отзыв согласия:"})," в любой момент отозвать согласие на обработку"]})]}),ae.jsxs("p",{className:"mt-3",children:["Для реализации ваших прав обращайтесь по адресу: ",ae.jsx("a",{href:"mailto:privacy@mebelplace.com.kz",className:"text-orange-400 hover:text-purple-300",children:"privacy@mebelplace.com.kz"})]})]}),ae.jsxs("section",{children:[ae.jsx("h2",{className:"text-xl font-semibold text-white mb-3",children:"9. Файлы cookie"}),ae.jsx("p",{children:"Мы используем файлы cookie и аналогичные технологии для улучшения работы Платформы, аналитики использования и персонализации контента. Вы можете управлять настройками cookie в своем браузере, однако отключение некоторых cookie может ограничить функциональность Платформы."})]}),ae.jsxs("section",{children:[ae.jsx("h2",{className:"text-xl font-semibold text-white mb-3",children:"10. Дети"}),ae.jsxs("p",{children:["Платформа не предназначена для лиц младше 18 лет. Мы сознательно не собираем персональные данные детей. Если вам стало известно, что ребенок предоставил нам свои данные, просим сообщить об этом по адресу:",ae.jsx("a",{href:"mailto:privacy@mebelplace.com.kz",className:"text-orange-400 hover:text-purple-300",children:" privacy@mebelplace.com.kz"})]})]}),ae.jsxs("section",{children:[ae.jsx("h2",{className:"text-xl font-semibold text-white mb-3",children:"11. Изменения в Политике"}),ae.jsx("p",{children:"Мы можем периодически обновлять настоящую Политику конфиденциальности. О существенных изменениях мы уведомим вас через Платформу или по электронной почте. Продолжение использования Платформы после вступления изменений в силу означает ваше согласие с обновленной Политикой."})]}),ae.jsxs("section",{children:[ae.jsx("h2",{className:"text-xl font-semibold text-white mb-3",children:"12. Контактная информация"}),ae.jsx("p",{className:"mb-2",children:"По вопросам, связанным с обработкой персональных данных, обращайтесь:"}),ae.jsxs("ul",{className:"list-none space-y-1 ml-4",children:[ae.jsxs("li",{children:["Email: ",ae.jsx("a",{href:"mailto:privacy@mebelplace.com.kz",className:"text-orange-400 hover:text-purple-300",children:"privacy@mebelplace.com.kz"})]}),ae.jsxs("li",{children:["Email: ",ae.jsx("a",{href:"mailto:bekaron.company@gmail.com",className:"text-orange-400 hover:text-purple-300",children:"bekaron.company@gmail.com"})]}),ae.jsxs("li",{children:["Сайт: ",ae.jsx("a",{href:"https://mebelplace.com.kz",className:"text-orange-400 hover:text-purple-300",children:"https://mebelplace.com.kz"})]})]})]}),ae.jsxs("section",{children:[ae.jsx("h2",{className:"text-xl font-semibold text-white mb-3",children:"13. Применимое право"}),ae.jsx("p",{children:"Настоящая Политика конфиденциальности регулируется законодательством Республики Казахстан, в частности Законом РК «О персональных данных и их защите» от 21 мая 2013 года № 94-V."})]})]})]})})}),TermsOfServicePage=()=>ae.jsx("div",{className:"min-h-screen py-8 px-4",children:ae.jsx(Ju.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-4xl mx-auto",children:ae.jsxs(GlassCard,{className:"p-8",children:[ae.jsx("h1",{className:"text-3xl font-bold mb-6 bg-gradient-to-r from-purple-400 to-pink-600 bg-clip-text text-transparent",children:"Пользовательское соглашение"}),ae.jsxs("div",{className:"space-y-6 text-gray-300",children:[ae.jsxs("p",{className:"text-sm text-gray-400",children:["Последнее обновление: ",(new Date).toLocaleDateString("ru-RU")]}),ae.jsxs("section",{children:[ae.jsx("h2",{className:"text-xl font-semibold text-white mb-3",children:"1. Общие положения"}),ae.jsxs("p",{className:"mb-2",children:["Настоящее Пользовательское соглашение (далее — «Соглашение») регулирует использование платформы MebelPlace (далее — «Платформа», «Сервис»), расположенной по адресу",ae.jsx("a",{href:"https://mebelplace.com.kz",className:"text-orange-400 hover:text-purple-300",children:" https://mebelplace.com.kz"}),"."]}),ae.jsx("p",{children:"Используя Платформу, вы соглашаетесь с условиями настоящего Соглашения. Если вы не согласны с каким-либо из условий, пожалуйста, не используйте Платформу."})]}),ae.jsxs("section",{children:[ae.jsx("h2",{className:"text-xl font-semibold text-white mb-3",children:"2. Определения"}),ae.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[ae.jsxs("li",{children:[ae.jsx("strong",{children:"Платформа"})," — онлайн-сервис MebelPlace для поиска мастеров и размещения заказов"]}),ae.jsxs("li",{children:[ae.jsx("strong",{children:"Пользователь"})," — любое лицо, использующее Платформу"]}),ae.jsxs("li",{children:[ae.jsx("strong",{children:"Заказчик"})," — пользователь, размещающий заказы на выполнение работ"]}),ae.jsxs("li",{children:[ae.jsx("strong",{children:"Мастер"})," — пользователь, предлагающий свои услуги по выполнению работ"]}),ae.jsxs("li",{children:[ae.jsx("strong",{children:"Заказ"})," — запрос на выполнение работ, размещенный на Платформе"]}),ae.jsxs("li",{children:[ae.jsx("strong",{children:"Аккаунт"})," — учетная запись пользователя на Платформе"]})]})]}),ae.jsxs("section",{children:[ae.jsx("h2",{className:"text-xl font-semibold text-white mb-3",children:"3. Регистрация и аккаунт"}),ae.jsx("p",{className:"mb-2",children:"3.1. Для использования полного функционала Платформы необходимо пройти регистрацию."}),ae.jsx("p",{className:"mb-2",children:"3.2. При регистрации вы обязуетесь:"}),ae.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[ae.jsx("li",{children:"Предоставлять точную и актуальную информацию"}),ae.jsx("li",{children:"Поддерживать актуальность данных в профиле"}),ae.jsx("li",{children:"Обеспечить безопасность своего пароля"}),ae.jsx("li",{children:"Немедленно сообщать о несанкционированном доступе к аккаунту"})]}),ae.jsx("p",{className:"mt-2",children:"3.3. Вы несете полную ответственность за все действия, совершенные через ваш аккаунт."}),ae.jsx("p",{className:"mt-2",children:"3.4. Регистрация допускается только для лиц старше 18 лет."})]}),ae.jsxs("section",{children:[ae.jsx("h2",{className:"text-xl font-semibold text-white mb-3",children:"4. Услуги Платформы"}),ae.jsx("p",{className:"mb-2",children:"4.1. Платформа предоставляет следующие услуги:"}),ae.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[ae.jsx("li",{children:"Размещение заказов на выполнение работ"}),ae.jsx("li",{children:"Поиск мастеров по специализациям"}),ae.jsx("li",{children:"Система откликов на заказы"}),ae.jsx("li",{children:"Встроенный чат для общения"}),ae.jsx("li",{children:"Обмен фотографиями и видео"}),ae.jsx("li",{children:"Просмотр профилей и портфолио мастеров"}),ae.jsx("li",{children:"Система уведомлений"})]}),ae.jsx("p",{className:"mt-2",children:"4.2. Платформа является посредником между заказчиками и мастерами и не несет ответственности за качество выполненных работ, сроки, стоимость и другие аспекты взаимодействия между пользователями."})]}),ae.jsxs("section",{children:[ae.jsx("h2",{className:"text-xl font-semibold text-white mb-3",children:"5. Обязанности пользователей"}),ae.jsx("h3",{className:"text-lg font-semibold text-white mt-4 mb-2",children:"5.1. Все пользователи обязуются:"}),ae.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[ae.jsx("li",{children:"Соблюдать законодательство Республики Казахстан"}),ae.jsx("li",{children:"Не нарушать права других пользователей"}),ae.jsx("li",{children:"Не размещать запрещенный контент (незаконный, оскорбительный, порнографический и т.д.)"}),ae.jsx("li",{children:"Не распространять спам и рекламу без разрешения"}),ae.jsx("li",{children:"Не использовать Платформу в мошеннических целях"}),ae.jsx("li",{children:"Не пытаться получить несанкционированный доступ к системе"}),ae.jsx("li",{children:"Вести себя уважительно в общении с другими пользователями"})]}),ae.jsx("h3",{className:"text-lg font-semibold text-white mt-4 mb-2",children:"5.2. Заказчики дополнительно обязуются:"}),ae.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[ae.jsx("li",{children:"Предоставлять точное и полное описание работ"}),ae.jsx("li",{children:"Указывать реальный бюджет и сроки"}),ae.jsx("li",{children:"Своевременно отвечать на отклики мастеров"}),ae.jsx("li",{children:"Оплачивать выполненные работы согласно договоренности"})]}),ae.jsx("h3",{className:"text-lg font-semibold text-white mt-4 mb-2",children:"5.3. Мастера дополнительно обязуются:"}),ae.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[ae.jsx("li",{children:"Предоставлять достоверную информацию о своих навыках и опыте"}),ae.jsx("li",{children:"Размещать реальные примеры выполненных работ"}),ae.jsx("li",{children:"Выполнять взятые на себя обязательства"}),ae.jsx("li",{children:"Соблюдать профессиональную этику"})]})]}),ae.jsxs("section",{children:[ae.jsx("h2",{className:"text-xl font-semibold text-white mb-3",children:"6. Запрещенные действия"}),ae.jsx("p",{className:"mb-2",children:"На Платформе запрещается:"}),ae.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[ae.jsx("li",{children:"Создание нескольких аккаунтов одним лицом"}),ae.jsx("li",{children:"Использование ботов и автоматизированных систем"}),ae.jsx("li",{children:"Размещение фиктивных заказов"}),ae.jsx("li",{children:"Накрутка рейтингов и отзывов"}),ae.jsx("li",{children:"Попытки обхода системы комиссий (если применимо)"}),ae.jsx("li",{children:"Копирование и использование контента Платформы без разрешения"}),ae.jsx("li",{children:"Обратная инженерия, декомпиляция программного обеспечения"}),ae.jsx("li",{children:"Использование уязвимостей системы"})]})]}),ae.jsxs("section",{children:[ae.jsx("h2",{className:"text-xl font-semibold text-white mb-3",children:"7. Интеллектуальная собственность"}),ae.jsx("p",{className:"mb-2",children:"7.1. Все права на Платформу, включая дизайн, код, логотипы, товарные знаки, принадлежат владельцам MebelPlace."}),ae.jsx("p",{className:"mb-2",children:"7.2. Пользовательский контент (фото, видео, описания) остается собственностью пользователей, однако загружая контент на Платформу, вы предоставляете нам неисключительную лицензию на его использование для работы и продвижения Сервиса."}),ae.jsx("p",{children:"7.3. Вы гарантируете, что загружаемый контент не нарушает права третьих лиц."})]}),ae.jsxs("section",{children:[ae.jsx("h2",{className:"text-xl font-semibold text-white mb-3",children:"8. Конфиденциальность"}),ae.jsxs("p",{children:["Обработка персональных данных регулируется нашей",ae.jsx("a",{href:"/privacy",className:"text-orange-400 hover:text-purple-300",children:" Политикой конфиденциальности"}),", которая является неотъемлемой частью настоящего Соглашения."]})]}),ae.jsxs("section",{children:[ae.jsx("h2",{className:"text-xl font-semibold text-white mb-3",children:"9. Ответственность"}),ae.jsx("p",{className:"mb-2",children:"9.1. Платформа предоставляется «как есть» без каких-либо гарантий."}),ae.jsx("p",{className:"mb-2",children:"9.2. Мы не несем ответственности за:"}),ae.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[ae.jsx("li",{children:"Качество работ, выполненных мастерами"}),ae.jsx("li",{children:"Действия и бездействие пользователей"}),ae.jsx("li",{children:"Финансовые споры между пользователями"}),ae.jsx("li",{children:"Технические сбои и перерывы в работе Сервиса"}),ae.jsx("li",{children:"Потерю данных"}),ae.jsx("li",{children:"Косвенный или случайный ущерб"})]}),ae.jsx("p",{className:"mt-2",children:"9.3. Взаимодействие между заказчиками и мастерами осуществляется на их собственный риск."}),ae.jsx("p",{className:"mt-2",children:"9.4. Максимальная ответственность Платформы ограничена суммой, уплаченной пользователем за использование платных услуг (если применимо)."})]}),ae.jsxs("section",{children:[ae.jsx("h2",{className:"text-xl font-semibold text-white mb-3",children:"10. Модерация и санкции"}),ae.jsx("p",{className:"mb-2",children:"10.1. Мы оставляем за собой право модерировать контент и действия пользователей."}),ae.jsx("p",{className:"mb-2",children:"10.2. При нарушении условий Соглашения мы можем:"}),ae.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[ae.jsx("li",{children:"Удалить нарушающий контент"}),ae.jsx("li",{children:"Ограничить функционал аккаунта"}),ae.jsx("li",{children:"Временно заблокировать аккаунт"}),ae.jsx("li",{children:"Удалить аккаунт без возможности восстановления"})]}),ae.jsx("p",{className:"mt-2",children:"10.3. В серьезных случаях (мошенничество, преступная деятельность) мы можем передать информацию правоохранительным органам."})]}),ae.jsxs("section",{children:[ae.jsx("h2",{className:"text-xl font-semibold text-white mb-3",children:"11. Разрешение споров"}),ae.jsx("p",{className:"mb-2",children:"11.1. Споры между пользователями решаются ими самостоятельно. Платформа может выступать в качестве посредника, но не обязана этого делать."}),ae.jsxs("p",{className:"mb-2",children:["11.2. Претензии к Платформе направляются по адресу:",ae.jsx("a",{href:"mailto:bekaron.company@gmail.com",className:"text-orange-400 hover:text-purple-300",children:" bekaron.company@gmail.com"})]}),ae.jsx("p",{children:"11.3. При невозможности досудебного урегулирования споры рассматриваются в соответствии с законодательством Республики Казахстан."})]}),ae.jsxs("section",{children:[ae.jsx("h2",{className:"text-xl font-semibold text-white mb-3",children:"12. Изменения в Соглашении"}),ae.jsx("p",{className:"mb-2",children:"12.1. Мы оставляем за собой право изменять настоящее Соглашение в любое время."}),ae.jsx("p",{className:"mb-2",children:"12.2. О существенных изменениях мы уведомим пользователей через Платформу или по электронной почте."}),ae.jsx("p",{children:"12.3. Продолжение использования Платформы после внесения изменений означает ваше согласие с новыми условиями."})]}),ae.jsxs("section",{children:[ae.jsx("h2",{className:"text-xl font-semibold text-white mb-3",children:"13. Прекращение использования"}),ae.jsx("p",{className:"mb-2",children:"13.1. Вы можете в любой момент удалить свой аккаунт через настройки профиля."}),ae.jsx("p",{className:"mb-2",children:"13.2. Мы можем прекратить предоставление услуг или удалить ваш аккаунт:"}),ae.jsxs("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[ae.jsx("li",{children:"При нарушении условий Соглашения"}),ae.jsx("li",{children:"По вашему запросу"}),ae.jsx("li",{children:"При длительной неактивности (более 2 лет)"}),ae.jsx("li",{children:"При прекращении работы Платформы"})]})]}),ae.jsxs("section",{children:[ae.jsx("h2",{className:"text-xl font-semibold text-white mb-3",children:"14. Применимое право и юрисдикция"}),ae.jsx("p",{className:"mb-2",children:"14.1. Настоящее Соглашение регулируется законодательством Республики Казахстан."}),ae.jsx("p",{children:"14.2. Все споры, вытекающие из настоящего Соглашения, подлежат рассмотрению в судах Республики Казахстан по месту нахождения Платформы."})]}),ae.jsxs("section",{children:[ae.jsx("h2",{className:"text-xl font-semibold text-white mb-3",children:"15. Контактная информация"}),ae.jsx("p",{className:"mb-2",children:"По всем вопросам обращайтесь:"}),ae.jsxs("ul",{className:"list-none space-y-1 ml-4",children:[ae.jsxs("li",{children:["Email: ",ae.jsx("a",{href:"mailto:bekaron.company@gmail.com",className:"text-orange-400 hover:text-purple-300",children:"bekaron.company@gmail.com"})]}),ae.jsxs("li",{children:["Email: ",ae.jsx("a",{href:"mailto:legal@mebelplace.com.kz",className:"text-orange-400 hover:text-purple-300",children:"legal@mebelplace.com.kz"})]}),ae.jsxs("li",{children:["Сайт: ",ae.jsx("a",{href:"https://mebelplace.com.kz",className:"text-orange-400 hover:text-purple-300",children:"https://mebelplace.com.kz"})]})]})]}),ae.jsx("section",{className:"border-t border-gray-700 pt-6 mt-8",children:ae.jsx("p",{className:"text-sm text-gray-400 italic",children:"Используя Платформу MebelPlace, вы подтверждаете, что прочитали, поняли и согласны с условиями настоящего Пользовательского соглашения."})})]})]})})}),$x=[{value:"general",label:"Общее"},{value:"furniture",label:"Мебель"},{value:"design",label:"Дизайн"},{value:"tutorial",label:"Обучение"},{value:"repair",label:"Ремонт"},{value:"restoration",label:"Реставрация"},{value:"custom",label:"На заказ"}],CreateVideoPage=()=>{const t=useNavigate(),{user:n}=useAuth(),[s,a]=H.useState(null),[i,o]=H.useState(null),[l,u]=H.useState(!1),[m,f]=H.useState({title:"",description:"",category:"furniture",tags:""}),[x,y]=H.useState(null),validateVideoFile=t=>t.type.startsWith("video/")?t.size>209715200?"Размер файла не должен превышать 200 МБ":null:"Можно загружать только видео файлы",handleFileSelect=t=>{var n;const s=null==(n=t.target.files)?void 0:n[0];if(!s)return;const i=validateVideoFile(s);i?y(i):(y(null),a(s),o(URL.createObjectURL(s)))},handleRemoveVideo=()=>{i&&URL.revokeObjectURL(i),a(null),o(null)},handleInputChange=t=>{const{name:n,value:s}=t.target;f(t=>({...t,[n]:s}))},handleSubmit=async a=>{var i,o;if(a.preventDefault(),s)if(n&&"master"===n.role)try{u(!0),y(null);const n=new FormData;n.append("video",s),n.append("title",m.title),n.append("description",m.description),n.append("category",m.category),n.append("tags",m.tags),await Bx.uploadVideo(n),t("/profile")}catch(l){console.error("Failed to upload video:",l),y((null==(o=null==(i=l.response)?void 0:i.data)?void 0:o.message)||"Ошибка загрузки видео. Попробуйте снова.")}finally{u(!1)}else y("Только мастера могут загружать видео");else y("Выберите видео файл")},formatFileSize=t=>{if(0===t)return"0 Bytes";const n=1024,s=["Bytes","KB","MB","GB"],a=Math.floor(Math.log(t)/Math.log(n));return Math.round(t/Math.pow(n,a)*100)/100+" "+s[a]};return ae.jsxs("div",{className:"max-w-3xl mx-auto space-y-6 pb-24",children:[ae.jsxs(Ju.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center space-x-4",children:[ae.jsx("button",{onClick:()=>t("/"),className:"glass-button p-2",children:ae.jsx(Of,{className:"w-5 h-5"})}),ae.jsx("h1",{className:"text-3xl font-bold gradient-text",children:"Создать видеорекламу"})]}),ae.jsxs("form",{onSubmit:handleSubmit,className:"space-y-6",children:[ae.jsx(Ju.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:ae.jsx(GlassCard,{className:"p-6",children:ae.jsxs("div",{className:"flex items-start space-x-4",children:[ae.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-500 rounded-lg flex items-center justify-center flex-shrink-0",children:ae.jsx(Vx,{className:"w-6 h-6 text-white"})}),ae.jsxs("div",{children:[ae.jsx("h2",{className:"text-lg font-bold text-white mb-2",children:"Как делать видео, которое продаёт мебель"}),ae.jsxs("ol",{className:"text-white/70 text-sm leading-relaxed space-y-2 list-decimal list-inside",children:[ae.jsx("li",{children:"Снимайте с чётким звуком и озвучкой, без фона музыки."}),ae.jsx("li",{children:"Уточняйте в видео и описании: размеры, материал и стоимость."}),ae.jsx("li",{children:"Демонстрируйте особенности и преимущества конструкции."}),ae.jsx("li",{children:'Завершайте призывом к действию: «Нажмите кнопку "Заказать" под видео и укажите ваши размеры и пожелания — мы свяжемся с вами!»'})]})]})]})})}),ae.jsx(Ju.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:ae.jsxs(GlassCard,{className:"p-6",children:[ae.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Загрузка видео"}),ae.jsxs("div",{className:"space-y-4",children:[i?ae.jsxs("div",{className:"space-y-4",children:[ae.jsxs("div",{className:"relative bg-black rounded-lg overflow-hidden",children:[ae.jsx("video",{src:i,controls:!0,className:"w-full max-h-96 object-contain"}),ae.jsx("button",{type:"button",onClick:handleRemoveVideo,className:"absolute top-4 right-4 glass-button p-2 bg-red-500/80 hover:bg-red-600/80",children:ae.jsx(Fx,{className:"w-5 h-5"})})]}),s&&ae.jsxs("div",{className:"flex items-center justify-between text-sm text-white/70",children:[ae.jsxs("div",{className:"flex items-center space-x-2",children:[ae.jsx(ix,{className:"w-4 h-4"}),ae.jsx("span",{children:s.name})]}),ae.jsx("span",{children:formatFileSize(s.size)})]})]}):ae.jsx("label",{className:"block",children:ae.jsxs("div",{className:"border-2 border-dashed border-white/20 rounded-lg p-12 text-center cursor-pointer hover:border-white/40 transition-colors",children:[ae.jsx(Ax,{className:"w-16 h-16 text-white/60 mx-auto mb-4"}),ae.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Выберите видео файл"}),ae.jsx("p",{className:"text-white/60 text-sm mb-4",children:"Нажмите или перетащите файл сюда"}),ae.jsx("input",{type:"file",accept:"video/*",onChange:handleFileSelect,className:"hidden"}),ae.jsx("div",{className:"inline-block glass-button bg-gradient-to-r from-blue-500 to-purple-500",children:"Выбрать файл"})]})}),ae.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-lg p-4",children:[ae.jsx("h4",{className:"text-sm font-medium text-blue-300 mb-2",children:"💡 Рекомендации"}),ae.jsxs("ul",{className:"text-xs text-white/70 space-y-1",children:[ae.jsx("li",{children:"• Формат: MP4, MOV, AVI, WebM"}),ae.jsx("li",{children:"• Максимальный размер: 200 МБ"}),ae.jsx("li",{children:"• Рекомендуемая длина: 30-60 секунд"}),ae.jsx("li",{children:"• Снимайте в хорошем освещении"}),ae.jsx("li",{children:"• Покажите процесс работы и результат"})]})]})]})]})}),ae.jsx(Ju.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:ae.jsxs(GlassCard,{className:"p-6",children:[ae.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Информация о видео"}),ae.jsxs("div",{className:"space-y-4",children:[ae.jsxs("div",{children:[ae.jsx("label",{className:"block text-sm font-medium text-white/70 mb-2",children:"Название видео *"}),ae.jsx("input",{type:"text",name:"title",value:m.title,onChange:handleInputChange,required:!0,className:"glass-input w-full",placeholder:"Например: Кухонный гарнитур из массива дуба"}),ae.jsx("p",{className:"text-xs text-white/50 mt-1",children:"Используйте краткое и понятное название"})]}),ae.jsxs("div",{children:[ae.jsx("label",{className:"block text-sm font-medium text-white/70 mb-2",children:"Описание"}),ae.jsx("textarea",{name:"description",value:m.description,onChange:handleInputChange,rows:4,className:"glass-input w-full resize-none",placeholder:"Расскажите о вашей работе: какие материалы использовали, сколько времени заняло изготовление, какие особенности..."}),ae.jsx("p",{className:"text-xs text-white/50 mt-1",children:"Подробное описание поможет клиентам лучше понять вашу работу"})]}),ae.jsxs("div",{children:[ae.jsx("label",{className:"block text-sm font-medium text-white/70 mb-2",children:"Категория *"}),ae.jsxs("div",{className:"relative",children:[ae.jsx(Tx,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-white/60"}),ae.jsx("select",{name:"category",value:m.category,onChange:handleInputChange,required:!0,className:"glass-input w-full pl-12",children:$x.map(t=>ae.jsx("option",{value:t.value,children:t.label},t.value))})]})]}),ae.jsxs("div",{children:[ae.jsx("label",{className:"block text-sm font-medium text-white/70 mb-2",children:"Теги (через запятую)"}),ae.jsx("input",{type:"text",name:"tags",value:m.tags,onChange:handleInputChange,className:"glass-input w-full",placeholder:"мебель, кухня, дуб, на заказ, ручная работа"}),ae.jsx("p",{className:"text-xs text-white/50 mt-1",children:"Теги помогут клиентам найти ваше видео"})]})]})]})}),x&&ae.jsx(Ju.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-red-500/10 border border-red-500/20 rounded-lg p-4",children:ae.jsx("p",{className:"text-red-300 text-sm",children:x})}),ae.jsxs(Ju.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"flex justify-end space-x-4",children:[ae.jsx("button",{type:"button",onClick:()=>t("/"),className:"glass-button px-6 py-3",disabled:l,children:"Отмена"}),ae.jsx(Ju.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:l||!s,className:"glass-button bg-gradient-to-r from-blue-500 to-purple-500 px-8 py-3 disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:l?ae.jsxs("div",{className:"flex items-center space-x-2",children:[ae.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),ae.jsx("span",{children:"Загрузка..."})]}):"Опубликовать видео"})]})]})]})};function App(){return ae.jsx(AuthProvider,{children:ae.jsx(SocketProvider,{children:ae.jsx(Ju.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"min-h-screen bg-black",children:ae.jsxs(Routes,{children:[ae.jsx(Route,{path:"/login",element:ae.jsx(LoginPage,{})}),ae.jsx(Route,{path:"/register",element:ae.jsx(RegisterPage,{})}),ae.jsx(Route,{path:"/sms-verification",element:ae.jsx(SmsVerificationPage,{})}),ae.jsx(Route,{path:"/forgot-password",element:ae.jsx(ForgotPasswordPage,{})}),ae.jsx(Route,{path:"/",element:ae.jsx(HomePage,{})}),ae.jsx(Route,{path:"/*",element:ae.jsx(Layout,{children:ae.jsxs(Routes,{children:[ae.jsx(Route,{path:"/user/messenger",element:ae.jsx(ChatListPage,{})}),ae.jsx(Route,{path:"/user/messenger/:id",element:ae.jsx(ChatPage,{})}),ae.jsx(Route,{path:"/chat",element:ae.jsx(ChatListPage,{})}),ae.jsx(Route,{path:"/chat/:id",element:ae.jsx(ChatPage,{})}),ae.jsx(Route,{path:"/orders",element:ae.jsx(OrdersPage,{})}),ae.jsx(Route,{path:"/master/orders",element:ae.jsx(OrdersPage,{})}),ae.jsx(Route,{path:"/user/orders",element:ae.jsx(UserOrdersPage,{})}),ae.jsx(Route,{path:"/orders/create",element:ae.jsx(CreateOrderPage,{})}),ae.jsx(Route,{path:"/orders/:id/responses",element:ae.jsx(OrderResponsesPage,{})}),ae.jsx(Route,{path:"/orders/:id/respond",element:ae.jsx(OrderRespondPage,{})}),ae.jsx(Route,{path:"/orders/:id",element:ae.jsx(OrderDetailPage,{})}),ae.jsx(Route,{path:"/profile",element:ae.jsx(ProfilePage,{})}),ae.jsx(Route,{path:"/master/:id",element:ae.jsx(MasterChannelPage,{})}),ae.jsx(Route,{path:"/master/profile",element:ae.jsx(ProfilePage,{})}),ae.jsx(Route,{path:"/create-video-ad",element:ae.jsx(CreateVideoPage,{})}),ae.jsx(Route,{path:"/admin",element:ae.jsx(AdminPage,{})}),ae.jsx(Route,{path:"/search",element:ae.jsx(SearchResultsPage,{})}),ae.jsx(Route,{path:"/privacy",element:ae.jsx(PrivacyPolicyPage,{})}),ae.jsx(Route,{path:"/terms",element:ae.jsx(TermsOfServicePage,{})})]})})})]})})})})}const Hx="";ie.createRoot(document.getElementById("root")).render(ae.jsx(X.StrictMode,{children:ae.jsx(BrowserRouter,{children:ae.jsx(App,{})})}));
